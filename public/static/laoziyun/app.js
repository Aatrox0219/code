var AMRT=function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t,n){return(h=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function f(e){var t=u();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,a=[],A=!0,o=!1;try{for(n=n.call(e);!(A=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);A=!0);}catch(e){o=!0,i=e}finally{try{A||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=B(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,A=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return A=e.done,e},e:function(e){o=!0,a=e},f:function(){try{A||null==n.return||n.return()}finally{if(o)throw a}}}}Array.prototype.insert=function(e,t){this.splice(t,0,e)},Array.prototype.removeAt=function(e){return!(isNaN(e)||e>=this.length)&&this.splice(e,1)[0]},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)===e}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var C={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},M=100,E=201,I=204,T=205,S=300,F=301,U=302,L=304,R=306,P=307,D=1e3,Q=1001,O=1002,H=1003,_=1004,N=1005,k=1006,G=1007,V=1008,z=1009,j=1012,W=1014,X=1015,Y=1016,K=1020,Z=1022,J=1023,q=J,$=1026,ee=1027,te=33776,ne=33777,re=33778,ie=33779,ae=35840,Ae=35841,oe=35842,se=35843,le=36196,ce=37808,ue=36492,he=37492,de=37496,pe=2200,fe=2201,ge=2300,me=2301,ve=2302,ye=2400,we=2401,Be=2402,xe=3e3,be=3001,Ce=3007,Me=3002,Ee=3004,Ie=3005,Te=3006,Se=3201,Fe=7680,Ue=35044,Le=35048,Re=5e3,Pe=2e3;function De(){}Object.assign(De.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var Qe=[],Oe=0;Oe<256;Oe++)Qe[Oe]=(Oe<16?"0":"")+Oe.toString(16);var He={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Qe[255&e]+Qe[e>>8&255]+Qe[e>>16&255]+Qe[e>>24&255]+"-"+Qe[255&t]+Qe[t>>8&255]+"-"+Qe[t>>16&15|64]+Qe[t>>24&255]+"-"+Qe[63&n|128]+Qe[n>>8&255]+"-"+Qe[n>>16&255]+Qe[n>>24&255]+Qe[255&r]+Qe[r>>8&255]+Qe[r>>16&255]+Qe[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*He.DEG2RAD},radToDeg:function(e){return e*He.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function _e(e,t){this.x=e||0,this.y=t||0}function Ne(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}Object.defineProperties(_e.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(_e.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}}),Object.assign(Ne,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,a,A){var o=n[r+0],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a+0],h=i[a+1],d=i[a+2],p=i[a+3];if(c!==p||o!==u||s!==h||l!==d){var f=1-A,g=o*u+s*h+l*d+c*p,m=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var y=Math.sqrt(v),w=Math.atan2(y,g*m);f=Math.sin(f*w)/y,A=Math.sin(A*w)/y}var B=A*m;if(o=o*f+u*B,s=s*f+h*B,l=l*f+d*B,c=c*f+p*B,f===1-A){var x=1/Math.sqrt(o*o+s*s+l*l+c*c);o*=x,s*=x,l*=x,c*=x}}e[t]=o,e[t+1]=s,e[t+2]=l,e[t+3]=c}}),Object.defineProperties(Ne.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(Ne.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e.order,A=Math.cos,o=Math.sin,s=A(n/2),l=A(r/2),c=A(i/2),u=o(n/2),h=o(r/2),d=o(i/2);return"XYZ"===a?(this._x=u*l*c+s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c-u*h*d):"YXZ"===a?(this._x=u*l*c+s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c+u*h*d):"ZXY"===a?(this._x=u*l*c-s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c-u*h*d):"ZYX"===a?(this._x=u*l*c-s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c+u*h*d):"YZX"===a?(this._x=u*l*c+s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c-u*h*d):"XZY"===a&&(this._x=u*l*c-s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c+u*h*d),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],a=n[8],A=n[1],o=n[5],s=n[9],l=n[2],c=n[6],u=n[10],h=r+o+u;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(c-s)*t,this._y=(a-l)*t,this._z=(A-i)*t):r>o&&r>u?(t=2*Math.sqrt(1+r-o-u),this._w=(c-s)/t,this._x=.25*t,this._y=(i+A)/t,this._z=(a+l)/t):o>u?(t=2*Math.sqrt(1+o-r-u),this._w=(a-l)/t,this._x=(i+A)/t,this._y=.25*t,this._z=(s+c)/t):(t=2*Math.sqrt(1+u-r-o),this._w=(A-i)/t,this._x=(a+l)/t,this._y=(s+c)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(He.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},invert:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,A=t._x,o=t._y,s=t._z,l=t._w;return this._x=n*l+a*A+r*s-i*o,this._y=r*l+a*o+i*A-n*s,this._z=i*l+a*s+n*o-r*A,this._w=a*l-n*A-r*o-i*s,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,A=a*e._w+n*e._x+r*e._y+i*e._z;if(A<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,A=-A):this.copy(e),A>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var o=1-A*A;if(o<=Number.EPSILON){var s=1-t;return this._w=s*a+t*this._w,this._x=s*n+t*this._x,this._y=s*r+t*this._y,this._z=s*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(o),c=Math.atan2(l,A),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var ke=new Ve,Ge=new Ne;function Ve(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(Ve.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ge.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Ge.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,A=e.z,o=e.w,s=o*t+a*r-A*n,l=o*n+A*t-i*r,c=o*r+i*n-a*t,u=-i*t-a*n-A*r;return this.x=s*o+u*-i+l*-A-c*-a,this.y=l*o+u*-a+c*-i-s*-A,this.z=c*o+u*-A+s*-a-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,A=t.y,o=t.z;return this.x=r*o-i*A,this.y=i*a-n*o,this.z=n*A-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return ke.copy(this).projectOnVector(e),this.sub(ke)},reflect:function(e){return this.sub(ke.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());0===t&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var n=this.dot(e)/t;return Math.acos(He.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var ze,je=new Ve;function We(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(We.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,a,A,o,s){var l=this.elements;return l[0]=e,l[1]=r,l[2]=A,l[3]=t,l[4]=i,l[5]=o,l[6]=n,l[7]=a,l[8]=s,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)je.x=e.getX(t),je.y=e.getY(t),je.z=e.getZ(t),je.applyMatrix3(this),e.setXYZ(t,je.x,je.y,je.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],A=n[3],o=n[6],s=n[1],l=n[4],c=n[7],u=n[2],h=n[5],d=n[8],p=r[0],f=r[3],g=r[6],m=r[1],v=r[4],y=r[7],w=r[2],B=r[5],x=r[8];return i[0]=a*p+A*m+o*w,i[3]=a*f+A*v+o*B,i[6]=a*g+A*y+o*x,i[1]=s*p+l*m+c*w,i[4]=s*f+l*v+c*B,i[7]=s*g+l*y+c*x,i[2]=u*p+h*m+d*w,i[5]=u*f+h*v+d*B,i[8]=u*g+h*y+d*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],A=e[5],o=e[6],s=e[7],l=e[8];return t*a*l-t*A*s-n*i*l+n*A*o+r*i*s-r*a*o},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],a=n[1],A=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=h*s-l*u,p=l*c-h*o,f=u*o-s*c,g=i*d+a*p+A*f;if(0===g){var m="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(m);return console.warn(m),this.identity()}var v=1/g;return r[0]=d*v,r[1]=(A*u-h*a)*v,r[2]=(l*a-A*s)*v,r[3]=p*v,r[4]=(h*i-A*c)*v,r[5]=(A*o-l*i)*v,r[6]=f*v,r[7]=(a*c-u*i)*v,r[8]=(s*i-a*o)*v,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,a,A){var o=Math.cos(i),s=Math.sin(i);this.set(n*o,n*s,-n*(o*a+s*A)+a+e,-r*s,r*o,-r*(-s*a+o*A)+A+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],A=r[6],o=r[1],s=r[4],l=r[7];return r[0]=t*i+n*o,r[3]=t*a+n*s,r[6]=t*A+n*l,r[1]=-n*i+t*o,r[4]=-n*a+t*s,r[7]=-n*A+t*l,this},rotateY:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements;return r[0]=t,r[6]=-n,r[2]=n,r[8]=t,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Xe={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ze&&(ze=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ze.width=e.width,ze.height=e.height;var n=ze.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ze}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Ye={UPDATE:"update",CHANGE:"change",ENDED:"ended",LOOP:"loop",MAP_INIT:"map_init",MAP_LOADED:"map_loaded",MESH_LOADED:"mesh_loaded",MESH_LOAD_ERROR:"mesh_load_error"};Ye.MESH_LOAD_ERROR="mesh_load_error",Ye.MATERIAL_LOADED="material_loaded",Ye.MATERIAL_LOAD_ERROR="material_load_error",Ye.ANIMATION_LOADED="animation_loaded",Ye.ANIMATION_LOAD_ERROR="animation_load_error",Ye.MODEL_UPDATE="model_update",Ye.START=null!==document.ontouchstart?"mousedown":"touchstart",Ye.END=null!==document.ontouchend?"mouseup":"touchend",Ye.MESSAGE="message";var Ke=function(){this._tweens={},this._tweensAddedDuringUpdate={},this._tweens={},this._tweensAddedDuringUpdate={}};Ke.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:Je.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(e)&&(i._isPlaying=!1,t||delete this._tweens[n[r]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var Ze,Je=new Ke;Je.Group=Ke,Je._nextId=0,Je.nextId=function(){return Je._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?Je.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?Je.now=self.performance.now.bind(self.performance):void 0!==Date.now?Je.now=Date.now:Je.now=function(){return(new Date).getTime()},Je.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=Je.Easing.Linear.None,this._interpolationFunction=Je.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||Je,this._id=Je.nextId()},Je.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},duration:function(e){return this._duration=e,this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?Je.now()+parseFloat(e):e:Je.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onRepeat:function(e){return this._onRepeatCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,r;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,r=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[t]){var i=this._valuesStart[t]||0,a=this._valuesEnd[t];a instanceof Array?this._object[t]=this._interpolationFunction(a,r):("string"==typeof a&&(a="+"===a.charAt(0)||"-"===a.charAt(0)?i+parseFloat(a):parseFloat(a)),"number"==typeof a&&(this._object[t]=i+(a-i)*r))}if(null!==this._onUpdateCallback&&(this._onUpdateCallback(this._object,n),et.render()),1===n){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var A=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=A}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].start(this._startTime+this._duration);return!1}return!0}},Je.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Je.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Je.Easing.Bounce.In(2*e):.5*Je.Easing.Bounce.Out(2*e-1)+.5}}},Je.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=Je.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,a=Je.Interpolation.Utils.Bernstein,A=0;A<=r;A++)n+=i(1-t,r-A)*i(t,A)*e[A]*a(r,A);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=Je.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Je.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(Ze=[1],function(e){var t=1;if(Ze[e])return Ze[e];for(var n=e;n>1;n--)t*=n;return Ze[e]=t,t}),CatmullRom:function(e,t,n,r,i){var a=.5*(n-e),A=.5*(r-t),o=i*i;return(2*t-2*n+a+A)*(i*o)+(-3*t+3*n-2*a-A)*o+a*i+t}}};var qe,$e=new Jl,et=new(function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this)).container=null,e.containerRect=null,e.renderEnabled=!1,e.scene=null,e.camera=null,e.renderer=null,e.defaultRenderer=null,e.defaultCamera=null,e.animationFrameHandler=null,e.beforeRenderQueue=[],e.afterRenderQueue=[],e.needsUpdate=!0,e.loop=!0,e}return A(n,[{key:"domElement",get:function(){return this.getRenderer().domElement}},{key:"init",value:function(e){this.needsUpdate=!0,this.loop=!0,this.container=e,this.containerRect=e.getBoundingClientRect();this.renderer=new ja({antialias:!0,alpha:!0}),this.renderer.setClearAlpha(0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.containerRect.width,this.containerRect.height),this.renderer.debug.checkShaderErrors=!1,this.domElement.style.backgroundColor="#000",e.appendChild(this.domElement),this.defaultRenderer=this.renderer}},{key:"setRenderer",value:function(e){this.renderer=void 0!==e?e:this.defaultRenderer}},{key:"getRenderer",value:function(){return this.renderer.isPostProcessingManager?this.renderer.composer.renderer:this.renderer}},{key:"setCamera",value:function(e){this.camera=void 0!==e?e:this.defaultCamera}},{key:"setLoop",value:function(e){this.loop=e,this.animate()}},{key:"render",value:function(e){this.renderEnabled=!0,e&&this.animate()}},{key:"animate",value:function(){var e=this;this.renderEnabled&&this.needsUpdate&&(qe=$e.getDelta(),this._onBeforeRender(qe),this.beforeRenderQueue.map((function(t){"function"==typeof t&&t(e.renderer,e.scene,e.camera,qe)})),this.renderer.render(this.scene,this.camera),this.afterRenderQueue.map((function(t){"function"==typeof t&&t(e.renderer,e.scene,e.camera,qe)})),Je.update(),this._onAfterRender(qe),this.animationFrameHandler&&cancelAnimationFrame(this.animationFrameHandler),this.loop&&(this.animationFrameHandler=requestAnimationFrame((function(){e.animate()}))),this.dispatchEvent({type:Ye.UPDATE}))}},{key:"addBeforeRenderTask",value:function(e){this.beforeRenderQueue.includes(e)||this.beforeRenderQueue.push(e)}},{key:"removeBeforeRenderTask",value:function(e){this.beforeRenderQueue.includes(e)&&this.beforeRenderQueue.remove(e)}},{key:"addAfterRenderTask",value:function(e){this.afterRenderQueue.includes(e)||this.afterRenderQueue.push(e)}},{key:"removeAfterRenderTask",value:function(e){this.afterRenderQueue.includes(e)&&this.afterRenderQueue.remove(e)}},{key:"_onBeforeRender",value:function(e){var t=this,n=this.getRenderer();this.scene.getObjectByName("root").traverse((function(r){r.onBeforeRender&&r.onBeforeRender(n,t.scene,t.camera,e)}))}},{key:"_onAfterRender",value:function(e){var t=this,n=this.getRenderer();this.scene.getObjectByName("root").traverse((function(r){r.update&&r.update(e),r.onAfterRender&&r.onAfterRender(n,t.scene,t.camera,e)}))}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=this.container.getBoundingClientRect(),this.containerRect=e,this.getRenderer().setSize(e.width,e.height),this.renderer.composer&&this.renderer.composer.setSize(e.width,e.height),this.render()}},{key:"disabled",value:function(){this.needsUpdate=!1}},{key:"dispose",value:function(){cancelAnimationFrame(this.animationFrameHandler),this.setRenderer(),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer=null,this.disabled()}}]),n}(De)),tt=0;function nt(e,t,n,r,i,a,A,o,s,l){Object.defineProperty(this,"id",{value:tt++}),this.uuid=He.generateUUID(),this.name="",this.image=void 0!==e?e:nt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:nt.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Q,this.wrapT=void 0!==r?r:Q,this.magFilter=void 0!==i?i:k,this.minFilter=void 0!==a?a:V,this.anisotropy=void 0!==s?s:1,this.format=void 0!==A?A:J,this.type=void 0!==o?o:z,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new We,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:xe,this.version=0,this.onUpdate=null}function rt(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function it(e,t,n){this.width=e,this.height=t,this.scissor=new rt(0,0,e,t),this.scissorTest=!1,this.viewport=new rt(0,0,e,t),n=n||{},this.texture=new nt(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:k,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function at(e,t,n){it.call(this,e,t,n),this.samples=4}nt.DEFAULT_IMAGE=void 0,nt.DEFAULT_MAPPING=S,nt.prototype=Object.assign(Object.create(De.prototype),{constructor:nt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=He.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,A=r.length;a<A;a++)i.push(Xe.getDataURL(r[a]))}else i=Xe.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==S)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case D:e.x=e.x-Math.floor(e.x);break;case Q:e.x=e.x<0?0:1;break;case O:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case D:e.y=e.y-Math.floor(e.y);break;case Q:e.y=e.y<0?0:1;break;case O:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(nt.prototype,"needsUpdate",{set:function(e){!0===e&&(this.version++,et.render())}}),Object.defineProperties(rt.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(rt.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,a=.01,A=.1,o=e.elements,s=o[0],l=o[4],c=o[8],u=o[1],h=o[5],d=o[9],p=o[2],f=o[6],g=o[10];if(Math.abs(l-u)<a&&Math.abs(c-p)<a&&Math.abs(d-f)<a){if(Math.abs(l+u)<A&&Math.abs(c+p)<A&&Math.abs(d+f)<A&&Math.abs(s+h+g-3)<A)return this.set(1,0,0,0),this;t=Math.PI;var m=(s+1)/2,v=(h+1)/2,y=(g+1)/2,w=(l+u)/4,B=(c+p)/4,x=(d+f)/4;return m>v&&m>y?m<a?(n=0,r=.707106781,i=.707106781):(r=w/(n=Math.sqrt(m)),i=B/n):v>y?v<a?(n=.707106781,r=0,i=.707106781):(n=w/(r=Math.sqrt(v)),i=x/r):y<a?(n=.707106781,r=.707106781,i=0):(n=B/(i=Math.sqrt(y)),r=x/i),this.set(n,r,i,t),this}var b=Math.sqrt((f-d)*(f-d)+(c-p)*(c-p)+(u-l)*(u-l));return Math.abs(b)<.001&&(b=1),this.x=(f-d)/b,this.y=(c-p)/b,this.z=(u-l)/b,this.w=Math.acos((s+h+g-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),it.prototype=Object.assign(Object.create(De.prototype),{constructor:it,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),at.prototype=Object.assign(Object.create(it.prototype),{constructor:at,isWebGLMultisampleRenderTarget:!0,copy:function(e){return it.prototype.copy.call(this,e),this.samples=e.samples,this}});var At=new Ve,ot=new dt,st=new Ve(0,0,0),lt=new Ve(1,1,1),ct=new Ve,ut=new Ve,ht=new Ve;function dt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(dt.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,a,A,o,s,l,c,u,h,d,p,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=A,g[13]=o,g[2]=s,g[6]=l,g[10]=c,g[14]=u,g[3]=h,g[7]=d,g[11]=p,g[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new dt).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/At.setFromMatrixColumn(e,0).length(),i=1/At.setFromMatrixColumn(e,1).length(),a=1/At.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),A=Math.sin(n),o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var u=a*l,h=a*c,d=A*l,p=A*c;t[0]=o*l,t[4]=-o*c,t[8]=s,t[1]=h+d*s,t[5]=u-p*s,t[9]=-A*o,t[2]=p-u*s,t[6]=d+h*s,t[10]=a*o}else if("YXZ"===e.order){var f=o*l,g=o*c,m=s*l,v=s*c;t[0]=f+v*A,t[4]=m*A-g,t[8]=a*s,t[1]=a*c,t[5]=a*l,t[9]=-A,t[2]=g*A-m,t[6]=v+f*A,t[10]=a*o}else if("ZXY"===e.order){f=o*l,g=o*c,m=s*l,v=s*c;t[0]=f-v*A,t[4]=-a*c,t[8]=m+g*A,t[1]=g+m*A,t[5]=a*l,t[9]=v-f*A,t[2]=-a*s,t[6]=A,t[10]=a*o}else if("ZYX"===e.order){u=a*l,h=a*c,d=A*l,p=A*c;t[0]=o*l,t[4]=d*s-h,t[8]=u*s+p,t[1]=o*c,t[5]=p*s+u,t[9]=h*s-d,t[2]=-s,t[6]=A*o,t[10]=a*o}else if("YZX"===e.order){var y=a*o,w=a*s,B=A*o,x=A*s;t[0]=o*l,t[4]=x-y*c,t[8]=B*c+w,t[1]=c,t[5]=a*l,t[9]=-A*l,t[2]=-s*l,t[6]=w*c+B,t[10]=y-x*c}else if("XZY"===e.order){y=a*o,w=a*s,B=A*o,x=A*s;t[0]=o*l,t[4]=-c,t[8]=s*l,t[1]=y*c+x,t[5]=a*l,t[9]=w*c-B,t[2]=B*c-w,t[6]=A*l,t[10]=x*c+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(st,e,lt)},lookAt:function(e,t,n){var r=this.elements;return ht.subVectors(e,t),0===ht.lengthSq()&&(ht.z=1),ht.normalize(),ct.crossVectors(n,ht),0===ct.lengthSq()&&(1===Math.abs(n.z)?ht.x+=1e-4:ht.z+=1e-4,ht.normalize(),ct.crossVectors(n,ht)),ct.normalize(),ut.crossVectors(ht,ct),r[0]=ct.x,r[4]=ut.x,r[8]=ht.x,r[1]=ct.y,r[5]=ut.y,r[9]=ht.y,r[2]=ct.z,r[6]=ut.z,r[10]=ht.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],A=n[4],o=n[8],s=n[12],l=n[1],c=n[5],u=n[9],h=n[13],d=n[2],p=n[6],f=n[10],g=n[14],m=n[3],v=n[7],y=n[11],w=n[15],B=r[0],x=r[4],b=r[8],C=r[12],M=r[1],E=r[5],I=r[9],T=r[13],S=r[2],F=r[6],U=r[10],L=r[14],R=r[3],P=r[7],D=r[11],Q=r[15];return i[0]=a*B+A*M+o*S+s*R,i[4]=a*x+A*E+o*F+s*P,i[8]=a*b+A*I+o*U+s*D,i[12]=a*C+A*T+o*L+s*Q,i[1]=l*B+c*M+u*S+h*R,i[5]=l*x+c*E+u*F+h*P,i[9]=l*b+c*I+u*U+h*D,i[13]=l*C+c*T+u*L+h*Q,i[2]=d*B+p*M+f*S+g*R,i[6]=d*x+p*E+f*F+g*P,i[10]=d*b+p*I+f*U+g*D,i[14]=d*C+p*T+f*L+g*Q,i[3]=m*B+v*M+y*S+w*R,i[7]=m*x+v*E+y*F+w*P,i[11]=m*b+v*I+y*U+w*D,i[15]=m*C+v*T+y*L+w*Q,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)At.x=e.getX(t),At.y=e.getY(t),At.z=e.getZ(t),At.applyMatrix4(this),e.setXYZ(t,At.x,At.y,At.z);return e},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],A=e[5],o=e[9],s=e[13],l=e[2],c=e[6],u=e[10],h=e[14];return e[3]*(+i*o*c-r*s*c-i*A*u+n*s*u+r*A*h-n*o*h)+e[7]*(+t*o*h-t*s*u+i*a*u-r*a*h+r*s*l-i*o*l)+e[11]*(+t*s*c-t*A*h-i*a*c+n*a*h+i*A*l-n*s*l)+e[15]*(-r*A*l-t*o*c+t*A*u+r*a*c-n*a*u+n*o*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],a=r[1],A=r[2],o=r[3],s=r[4],l=r[5],c=r[6],u=r[7],h=r[8],d=r[9],p=r[10],f=r[11],g=r[12],m=r[13],v=r[14],y=r[15],w=d*v*u-m*p*u+m*c*f-l*v*f-d*c*y+l*p*y,B=g*p*u-h*v*u-g*c*f+s*v*f+h*c*y-s*p*y,x=h*m*u-g*d*u+g*l*f-s*m*f-h*l*y+s*d*y,b=g*d*c-h*m*c-g*l*p+s*m*p+h*l*v-s*d*v,C=i*w+a*B+A*x+o*b;if(0===C){var M="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(M);return console.warn(M),this.identity()}var E=1/C;return n[0]=w*E,n[1]=(m*p*o-d*v*o-m*A*f+a*v*f+d*A*y-a*p*y)*E,n[2]=(l*v*o-m*c*o+m*A*u-a*v*u-l*A*y+a*c*y)*E,n[3]=(d*c*o-l*p*o-d*A*u+a*p*u+l*A*f-a*c*f)*E,n[4]=B*E,n[5]=(h*v*o-g*p*o+g*A*f-i*v*f-h*A*y+i*p*y)*E,n[6]=(g*c*o-s*v*o-g*A*u+i*v*u+s*A*y-i*c*y)*E,n[7]=(s*p*o-h*c*o+h*A*u-i*p*u-s*A*f+i*c*f)*E,n[8]=x*E,n[9]=(g*d*o-h*m*o-g*a*f+i*m*f+h*a*y-i*d*y)*E,n[10]=(s*m*o-g*l*o+g*a*u-i*m*u-s*a*y+i*l*y)*E,n[11]=(h*l*o-s*d*o-h*a*u+i*d*u+s*a*f-i*l*f)*E,n[12]=b*E,n[13]=(h*m*A-g*d*A+g*a*p-i*m*p-h*a*v+i*d*v)*E,n[14]=(g*l*A-s*m*A-g*a*c+i*m*c+s*a*v-i*l*v)*E,n[15]=(s*d*A-h*l*A+h*a*c-i*d*c-s*a*p+i*l*p)*E,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,A=e.y,o=e.z,s=i*a,l=i*A;return this.set(s*a+n,s*A-r*o,s*o+r*A,0,s*A+r*o,l*A+n,l*o-r*a,0,s*o-r*A,l*o+r*a,i*o*o+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,a=t._y,A=t._z,o=t._w,s=i+i,l=a+a,c=A+A,u=i*s,h=i*l,d=i*c,p=a*l,f=a*c,g=A*c,m=o*s,v=o*l,y=o*c,w=n.x,B=n.y,x=n.z;return r[0]=(1-(p+g))*w,r[1]=(h+y)*w,r[2]=(d-v)*w,r[3]=0,r[4]=(h-y)*B,r[5]=(1-(u+g))*B,r[6]=(f+m)*B,r[7]=0,r[8]=(d+v)*x,r[9]=(f-m)*x,r[10]=(1-(u+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=At.set(r[0],r[1],r[2]).length(),a=At.set(r[4],r[5],r[6]).length(),A=At.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ot.copy(this);var o=1/i,s=1/a,l=1/A;return ot.elements[0]*=o,ot.elements[1]*=o,ot.elements[2]*=o,ot.elements[4]*=s,ot.elements[5]*=s,ot.elements[6]*=s,ot.elements[8]*=l,ot.elements[9]*=l,ot.elements[10]*=l,t.setFromRotationMatrix(ot),n.x=i,n.y=a,n.z=A,this},makePerspective:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var A=this.elements,o=2*i/(t-e),s=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),u=-(a+i)/(a-i),h=-2*a*i/(a-i);return A[0]=o,A[4]=0,A[8]=l,A[12]=0,A[1]=0,A[5]=s,A[9]=c,A[13]=0,A[2]=0,A[6]=0,A[10]=u,A[14]=h,A[3]=0,A[7]=0,A[11]=-1,A[15]=0,this},makeOrthographic:function(e,t,n,r,i,a){var A=this.elements,o=1/(t-e),s=1/(n-r),l=1/(a-i),c=(t+e)*o,u=(n+r)*s,h=(a+i)*l;return A[0]=2*o,A[4]=0,A[8]=0,A[12]=-c,A[1]=0,A[5]=2*s,A[9]=0,A[13]=-u,A[2]=0,A[6]=0,A[10]=-2*l,A[14]=-h,A[3]=0,A[7]=0,A[11]=0,A[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e},invert:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],A=e[5],o=e[6],s=e[7],l=e[8],c=e[9],u=e[10],h=e[11],d=e[12],p=e[13],f=e[14],g=e[15],m=c*f*s-p*u*s+p*o*h-A*f*h-c*o*g+A*u*g,v=d*u*s-l*f*s-d*o*h+a*f*h+l*o*g-a*u*g,y=l*p*s-d*c*s+d*A*h-a*p*h-l*A*g+a*c*g,w=d*c*o-l*p*o-d*A*u+a*p*u+l*A*f-a*c*f,B=t*m+n*v+r*y+i*w;if(0===B)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/B;return e[0]=m*x,e[1]=(p*u*i-c*f*i-p*r*h+n*f*h+c*r*g-n*u*g)*x,e[2]=(A*f*i-p*o*i+p*r*s-n*f*s-A*r*g+n*o*g)*x,e[3]=(c*o*i-A*u*i-c*r*s+n*u*s+A*r*h-n*o*h)*x,e[4]=v*x,e[5]=(l*f*i-d*u*i+d*r*h-t*f*h-l*r*g+t*u*g)*x,e[6]=(d*o*i-a*f*i-d*r*s+t*f*s+a*r*g-t*o*g)*x,e[7]=(a*u*i-l*o*i+l*r*s-t*u*s-a*r*h+t*o*h)*x,e[8]=y*x,e[9]=(d*c*i-l*p*i-d*n*h+t*p*h+l*n*g-t*c*g)*x,e[10]=(a*p*i-d*A*i+d*n*s-t*p*s-a*n*g+t*A*g)*x,e[11]=(l*A*i-a*c*i-l*n*s+t*c*s+a*n*h-t*A*h)*x,e[12]=w*x,e[13]=(l*p*r-d*c*r+d*n*u-t*p*u-l*n*f+t*c*f)*x,e[14]=(d*A*r-a*p*r-d*n*o+t*p*o+a*n*f-t*A*f)*x,e[15]=(a*c*r-l*A*r+l*n*o-t*c*o-a*n*u+t*A*u)*x,this}});var pt=new dt,ft=new Ne;function gt(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||gt.DefaultOrder}function mt(){this._mask=1}gt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],gt.DefaultOrder="XYZ",Object.defineProperties(gt.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(gt.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=He.clamp,i=e.elements,a=i[0],A=i[4],o=i[8],s=i[1],l=i[5],c=i[9],u=i[2],h=i[6],d=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-A,a)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-A,l)):(this._y=0,this._z=Math.atan2(s,a))):"ZYX"===t?(this._y=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,a)):(this._x=0,this._z=Math.atan2(-A,l))):"YZX"===t?(this._z=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(o,d))):"XZY"===t?(this._z=Math.asin(-r(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return pt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(pt,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return ft.setFromEuler(this),this.setFromQuaternion(ft,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Ve(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.defineProperties(mt.prototype,{mask:{get:function(){return this._mask},set:function(e){this._mask=e,this._onChangeCallback()}}}),Object.assign(mt.prototype,{set:function(e){this.mask=1<<e|0,this._onChangeCallback()},enable:function(e){this.mask|=1<<e|0,this._onChangeCallback()},enableAll:function(){this.mask=-1,this._onChangeCallback()},toggle:function(e){this.mask^=1<<e|0,this._onChangeCallback()},disable:function(e){this.mask&=~(1<<e|0),this._onChangeCallback()},disableAll:function(){this.mask=0,this._onChangeCallback()},test:function(e){return 0!=(this.mask&e.mask)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var vt=0,yt=new Ve,wt=new Ne,Bt=new dt,xt=new Ve,bt=new Ve,Ct=new Ve,Mt=new Ne,Et=new Ve(1,0,0),It=new Ve(0,1,0),Tt=new Ve(0,0,1),St={type:"added"},Ft={type:"removed"};function Ut(){Object.defineProperty(this,"id",{value:vt++}),this.uuid=He.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ut.DefaultUp.clone();var e=new Ve,t=new gt,n=new Ne,r=new Ve(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new dt},normalMatrix:{value:new We}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=Ut.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new mt,this.layers._onChange((function(){et.render()})),this._visible=!0,this._castShadow=!1,this._receiveShadow=!1,this._frustumCulled=!0,this._renderOrder=0,this.userData={},this.isDirty=!1}function Lt(){Ut.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Ut.DefaultUp=new Ve(0,1,0),Ut.DefaultMatrixAutoUpdate=!0,Object.defineProperties(Ut.prototype,{visible:{get:function(){return this._visible},set:function(e){this._visible!==e&&(et.render(),this.activeCallback(this._visible)),this._visible=e}},castShadow:{get:function(){return this._castShadow},set:function(e){this._castShadow!==e&&et.render(),this._castShadow=e}},receiveShadow:{get:function(){return this._receiveShadow},set:function(e){this._receiveShadow!==e&&et.render(),this._receiveShadow=e}},frustumCulled:{get:function(){return this._frustumCulled},set:function(e){this._frustumCulled!==e&&et.render(),this._frustumCulled=e}},renderOrder:{get:function(){return this._renderOrder},set:function(e){this._renderOrder!==e&&et.render(),this._renderOrder=e}}}),Object.assign(Ut.prototype,De.prototype),Ut.prototype=Object.assign(Ut.prototype,{constructor:Ut,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},setDirty:function(){this.isDirty=!0},activeCallback:function(e){},applyMatrix:function(e){et.render(),this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyMatrix4:function(e){this.applyMatrix(e)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return wt.setFromAxisAngle(e,t),this.quaternion.multiply(wt),this},rotateOnWorldAxis:function(e,t){return wt.setFromAxisAngle(e,t),this.quaternion.premultiply(wt),this},rotateX:function(e){return this.rotateOnAxis(Et,e)},rotateY:function(e){return this.rotateOnAxis(It,e)},rotateZ:function(e){return this.rotateOnAxis(Tt,e)},translateOnAxis:function(e,t){return yt.copy(e).applyQuaternion(this.quaternion),this.position.add(yt.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Et,e)},translateY:function(e){return this.translateOnAxis(It,e)},translateZ:function(e){return this.translateOnAxis(Tt,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Bt.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?xt.copy(e):xt.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),bt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bt.lookAt(bt,xt,this.up):Bt.lookAt(xt,bt,this.up),this.quaternion.setFromRotationMatrix(Bt),r&&(Bt.extractRotation(r.matrixWorld),wt.setFromRotationMatrix(Bt),this.quaternion.premultiply(wt.inverse()))},add:function(e){if(et.render(),arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(St)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(et.render(),arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ft)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Bt.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Bt.multiply(e.parent.matrixWorld)),e.applyMatrix(Bt),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ve),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Ne),this.updateMatrixWorld(!0),this.matrixWorld.decompose(bt,e,Ct),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ve),this.updateMatrixWorld(!0),this.matrixWorld.decompose(bt,Mt,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ve),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){var e=this.matrix.clone();this.matrix.compose(this.position,this.quaternion,this.scale),this.matrix.equals(e)||et.render(),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){if(this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldNeedsUpdate||e){var t=this.matrixWorld.clone();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0,this.matrixWorld.equals(t)||(et.render(),this.setDirty())}for(var n=this.children,r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){et.render();var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(r.drawMode=this.drawMode),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var A=a.shapes;if(Array.isArray(A))for(var o=0,s=A.length;o<s;o++){var l=A[o];i(e.shapes,l)}else i(e.shapes,A)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(o=0,s=this.material.length;o<s;o++)c.push(i(e.materials,this.material[o]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(t){var u=f(e.geometries),h=f(e.materials),d=f(e.textures),p=f(e.images);A=f(e.shapes);u.length>0&&(n.geometries=u),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),A.length>0&&(n.shapes=A)}return n.object=r,n;function f(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(et.render(),void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),Lt.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Lt,isScene:!0,copy:function(e,t){return Ut.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Ut.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Rt=[new Ve,new Ve,new Ve,new Ve,new Ve,new Ve,new Ve,new Ve],Pt=new Ve,Dt=new Wt,Qt=new Ve,Ot=new Ve,Ht=new Ve,_t=new Ve,Nt=new Ve,kt=new Ve,Gt=new Ve,Vt=new Ve,zt=new Ve,jt=new Ve;function Wt(e,t){this.min=void 0!==e?e:new Ve(1/0,1/0,1/0),this.max=void 0!==t?t:new Ve(-1/0,-1/0,-1/0)}function Xt(e,t,n,r,i){var a,A;for(a=0,A=e.length-3;a<=A;a+=3){jt.fromArray(e,a);var o=i.x*Math.abs(jt.x)+i.y*Math.abs(jt.y)+i.z*Math.abs(jt.z),s=t.dot(jt),l=n.dot(jt),c=r.dot(jt);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}Object.assign(Wt.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,A=-1/0,o=0,s=e.length;o<s;o+=3){var l=e[o],c=e[o+1],u=e[o+2];l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>a&&(a=c),u>A&&(A=u)}return this.min.set(t,n,r),this.max.set(i,a,A),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,A=-1/0,o=0,s=e.count;o<s;o++){var l=e.getX(o),c=e.getY(o),u=e.getZ(o);l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>a&&(a=c),u>A&&(A=u)}return this.min.set(t,n,r),this.max.set(i,a,A),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Pt.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ve),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ve),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(t||console.log(e),null===t.boundingBox&&t.computeBoundingBox(),Dt.copy(t.boundingBox),Dt.applyMatrix4(e.matrixWorld),this.expandByPoint(Dt.min),this.expandByPoint(Dt.max));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Ve),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Pt),Pt.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(Gt),Vt.subVectors(this.max,Gt),Qt.subVectors(e.a,Gt),Ot.subVectors(e.b,Gt),Ht.subVectors(e.c,Gt),_t.subVectors(Ot,Qt),Nt.subVectors(Ht,Ot),kt.subVectors(Qt,Ht);var t=[0,-_t.z,_t.y,0,-Nt.z,Nt.y,0,-kt.z,kt.y,_t.z,0,-_t.x,Nt.z,0,-Nt.x,kt.z,0,-kt.x,-_t.y,_t.x,0,-Nt.y,Nt.x,0,-kt.y,kt.x,0];return!!Xt(t,Qt,Ot,Ht,Vt)&&(!!Xt(t=[1,0,0,0,1,0,0,0,1],Qt,Ot,Ht,Vt)&&(zt.crossVectors(_t,Nt),Xt(t=[zt.x,zt.y,zt.z],Qt,Ot,Ht,Vt)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Ve),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Pt.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Pt).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(Rt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Rt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Rt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Rt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Rt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Rt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Rt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Rt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Rt)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Yt=new Wt;function Kt(e,t){this.center=void 0!==e?e:new Ve,this.radius=void 0!==t?t:0}Object.assign(Kt.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):Yt.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Ve),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Wt),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Zt=new Ve,Jt=new Ve,qt=new Ve,$t=new Ve,en=new Ve,tn=new Ve,nn=new Ve;function rn(e,t){this.origin=void 0!==e?e:new Ve,this.direction=void 0!==t?t:new Ve(0,0,-1)}Object.assign(rn.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Ve),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Zt)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Ve),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Zt.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Zt.copy(this.direction).multiplyScalar(t).add(this.origin),Zt.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){Jt.copy(e).add(t).multiplyScalar(.5),qt.copy(t).sub(e).normalize(),$t.copy(this.origin).sub(Jt);var i,a,A,o,s=.5*e.distanceTo(t),l=-this.direction.dot(qt),c=$t.dot(this.direction),u=-$t.dot(qt),h=$t.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*c-u,o=s*d,(i=l*u-c)>=0)if(a>=-o)if(a<=o){var p=1/d;A=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*u)+h}else a=s,A=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*u)+h;else a=-s,A=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*u)+h;else a<=-o?A=-(i=Math.max(0,-(-l*s+c)))*i+(a=i>0?-s:Math.min(Math.max(-s,-u),s))*(a+2*u)+h:a<=o?(i=0,A=(a=Math.min(Math.max(-s,-u),s))*(a+2*u)+h):A=-(i=Math.max(0,-(l*s+c)))*i+(a=i>0?s:Math.min(Math.max(-s,-u),s))*(a+2*u)+h;else a=l>0?-s:s,A=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*u)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(qt).multiplyScalar(a).add(Jt),A},intersectSphere:function(e,t){Zt.subVectors(e.center,this.origin);var n=Zt.dot(this.direction),r=Zt.dot(Zt)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),A=n-a,o=n+a;return A<0&&o<0?null:A<0?this.at(o,t):this.at(A,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,a,A,o,s=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,u=this.origin;return s>=0?(n=(e.min.x-u.x)*s,r=(e.max.x-u.x)*s):(n=(e.max.x-u.x)*s,r=(e.min.x-u.x)*s),l>=0?(i=(e.min.y-u.y)*l,a=(e.max.y-u.y)*l):(i=(e.max.y-u.y)*l,a=(e.min.y-u.y)*l),n>a||i>r?null:((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),c>=0?(A=(e.min.z-u.z)*c,o=(e.max.z-u.z)*c):(A=(e.max.z-u.z)*c,o=(e.min.z-u.z)*c),n>o||A>r?null:((A>n||n!=n)&&(n=A),(o<r||r!=r)&&(r=o),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Zt)},intersectTriangle:function(e,t,n,r,i){en.subVectors(t,e),tn.subVectors(n,e),nn.crossVectors(en,tn);var a,A=this.direction.dot(nn);if(A>0){if(r)return null;a=1}else{if(!(A<0))return null;a=-1,A=-A}$t.subVectors(this.origin,e);var o=a*this.direction.dot(tn.crossVectors($t,tn));if(o<0)return null;var s=a*this.direction.dot(en.cross($t));if(s<0)return null;if(o+s>A)return null;var l=-a*$t.dot(nn);return l<0?null:this.at(l/A,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var an=new Ve,An=new Ve,on=new We;function sn(e,t){this.normal=void 0!==e?e:new Ve(1,0,0),this.constant=void 0!==t?t:0}Object.assign(sn.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=an.subVectors(n,t).cross(An.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Ve),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Ve);var n=e.delta(an),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ve),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||on.getNormalMatrix(e),r=this.coplanarPoint(an).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var ln=new Ve,cn=new Ve,un=new Ve,hn=new Ve,dn=new Ve,pn=new Ve,fn=new Ve,gn=new Ve,mn=new Ve,vn=new Ve;function yn(e,t,n){this.a=void 0!==e?e:new Ve,this.b=void 0!==t?t:new Ve,this.c=void 0!==n?n:new Ve}Object.assign(yn,{getNormal:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new Ve),r.subVectors(n,t),ln.subVectors(e,t),r.cross(ln);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){ln.subVectors(r,t),cn.subVectors(n,t),un.subVectors(e,t);var a=ln.dot(ln),A=ln.dot(cn),o=ln.dot(un),s=cn.dot(cn),l=cn.dot(un),c=a*s-A*A;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new Ve),0===c)return i.set(-2,-1,-1);var u=1/c,h=(s*o-A*l)*u,d=(a*l-A*o)*u;return i.set(1-h-d,d,h)},containsPoint:function(e,t,n,r){return yn.getBarycoord(e,t,n,r,hn),hn.x>=0&&hn.y>=0&&hn.x+hn.y<=1},getUV:function(e,t,n,r,i,a,A,o){return this.getBarycoord(e,t,n,r,hn),o.set(0,0),o.addScaledVector(i,hn.x),o.addScaledVector(a,hn.y),o.addScaledVector(A,hn.z),o},isFrontFacing:function(e,t,n,r){return ln.subVectors(n,t),cn.subVectors(e,t),ln.cross(cn).dot(r)<0}}),Object.assign(yn.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return ln.subVectors(this.c,this.b),cn.subVectors(this.a,this.b),.5*ln.cross(cn).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ve),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return yn.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new sn),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return yn.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return yn.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return yn.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return yn.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Ve);var n,r,i=this.a,a=this.b,A=this.c;dn.subVectors(a,i),pn.subVectors(A,i),gn.subVectors(e,i);var o=dn.dot(gn),s=pn.dot(gn);if(o<=0&&s<=0)return t.copy(i);mn.subVectors(e,a);var l=dn.dot(mn),c=pn.dot(mn);if(l>=0&&c<=l)return t.copy(a);var u=o*c-l*s;if(u<=0&&o>=0&&l<=0)return n=o/(o-l),t.copy(i).addScaledVector(dn,n);vn.subVectors(e,A);var h=dn.dot(vn),d=pn.dot(vn);if(d>=0&&h<=d)return t.copy(A);var p=h*s-o*d;if(p<=0&&s>=0&&d<=0)return r=s/(s-d),t.copy(i).addScaledVector(pn,r);var f=l*d-h*c;if(f<=0&&c-l>=0&&h-d>=0)return fn.subVectors(A,a),r=(c-l)/(c-l+(h-d)),t.copy(a).addScaledVector(fn,r);var g=1/(f+p+u);return n=p*g,r=u*g,t.copy(i).addScaledVector(dn,n).addScaledVector(pn,r)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bn={h:0,s:0,l:0},xn={h:0,s:0,l:0};function bn(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Cn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Mn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function En(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function In(e,t,n,r,i,a){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new Ve,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new bn,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}Object.assign(bn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=He.euclideanModulo(e,1),t=He.clamp(t,0,1),n=He.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Cn(i,r,e+1/3),this.g=Cn(i,r,e),this.b=Cn(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var A=parseFloat(r[1])/360,o=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(A,o,s)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=n[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=wn[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Mn(e.r),this.g=Mn(e.g),this.b=Mn(e.b),this},copyLinearToSRGB:function(e){return this.r=En(e.r),this.g=En(e.g),this.b=En(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,A=Math.max(r,i,a),o=Math.min(r,i,a),s=(o+A)/2;if(o===A)t=0,n=0;else{var l=A-o;switch(n=s<=.5?l/(A+o):l/(2-A-o),A){case r:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-r)/l+2;break;case a:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=s,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(Bn),Bn.h+=e,Bn.s+=t,Bn.l+=n,this.setHSL(Bn.h,Bn.s,Bn.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Bn),e.getHSL(xn);var n=He.lerp(Bn.h,xn.h,t),r=He.lerp(Bn.s,xn.s,t),i=He.lerp(Bn.l,xn.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),bn.NAMES=wn,Object.assign(In.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Tn=0;function Sn(){Object.defineProperty(this,"id",{value:Tn++}),this.uuid=He.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=I,this.blendDst=T,this.blendEquation=M,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fe,this.stencilZFail=Fe,this.stencilZPass=Fe,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Fn(e){Sn.call(this),this.type="MeshBasicMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}function Un(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Ue,this.updateRange={offset:0,count:-1},this.version=0}function Ln(e,t,n){Un.call(this,new Int8Array(e),t,n)}function Rn(e,t,n){Un.call(this,new Uint8Array(e),t,n)}function Pn(e,t,n){Un.call(this,new Uint8ClampedArray(e),t,n)}function Dn(e,t,n){Un.call(this,new Int16Array(e),t,n)}function Qn(e,t,n){Un.call(this,new Uint16Array(e),t,n)}function On(e,t,n){Un.call(this,new Int32Array(e),t,n)}function Hn(e,t,n){Un.call(this,new Uint32Array(e),t,n)}function _n(e,t,n){Un.call(this,new Float32Array(e),t,n)}function Nn(e,t,n){Un.call(this,new Float64Array(e),t,n)}function kn(e,t,n){Un.call(this,e,t,n)}function Gn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Vn(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Sn.prototype=Object.assign(Object.create(De.prototype),{constructor:Sn,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e){for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}et.render()}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"}),et.render()}}),Object.defineProperty(Sn.prototype,"needsUpdate",{set:function(e){!0===e&&(this.version++,et.render())}}),Fn.prototype=Object.create(Sn.prototype),Fn.prototype.constructor=Fn,Fn.prototype.isMeshBasicMaterial=!0,Fn.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.defineProperty(Un.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Un.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new bn),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new _e),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new Ve),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new rt),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Ln.prototype=Object.create(Un.prototype),Ln.prototype.constructor=Ln,Rn.prototype=Object.create(Un.prototype),Rn.prototype.constructor=Rn,Pn.prototype=Object.create(Un.prototype),Pn.prototype.constructor=Pn,Dn.prototype=Object.create(Un.prototype),Dn.prototype.constructor=Dn,Qn.prototype=Object.create(Un.prototype),Qn.prototype.constructor=Qn,On.prototype=Object.create(Un.prototype),On.prototype.constructor=On,Hn.prototype=Object.create(Un.prototype),Hn.prototype.constructor=Hn,_n.prototype=Object.create(Un.prototype),_n.prototype.constructor=_n,Nn.prototype=Object.create(Un.prototype),Nn.prototype.constructor=Nn,kn.prototype=Object.create(Un.prototype),kn.prototype.constructor=kn,Object.assign(Gn.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,a=0;a<i.length;a++){var A=i[a];A.materialIndex!==r&&(r=A.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:r})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,A=i[1]&&i[1].length>0,o=e.morphTargets,s=o.length;if(s>0){t=[];for(var l=0;l<s;l++)t[l]={name:o[l].name,data:[]};this.morphTargets.position=t}var c,u=e.morphNormals,h=u.length;if(h>0){c=[];for(l=0;l<h;l++)c[l]={name:u[l].name,data:[]};this.morphTargets.normal=c}var d=e.skinIndices,p=e.skinWeights,f=d.length===r.length,g=p.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<n.length;l++){var m=n[l];this.vertices.push(r[m.a],r[m.b],r[m.c]);var v=m.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var y=m.normal;this.normals.push(y,y,y)}var w,B=m.vertexColors;if(3===B.length)this.colors.push(B[0],B[1],B[2]);else{var x=m.color;this.colors.push(x,x,x)}if(!0===a)void 0!==(w=i[0][l])?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new _e,new _e,new _e));if(!0===A)void 0!==(w=i[1][l])?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new _e,new _e,new _e));for(var b=0;b<s;b++){var C=o[b].vertices;t[b].data.push(C[m.a],C[m.b],C[m.c])}for(b=0;b<h;b++){var M=u[b].vertexNormals[l];c[b].data.push(M.a,M.b,M.c)}f&&this.skinIndices.push(d[m.a],d[m.b],d[m.c]),g&&this.skinWeights.push(p[m.a],p[m.b],p[m.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var zn=1,jn=new dt,Wn=new Ut,Xn=new Ve,Yn=new Wt,Kn=new Wt,Zn=new Ve;function Jn(){Object.defineProperty(this,"id",{value:zn+=2}),this.uuid=He.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function qn(e,t,n,r,i,a,A,o,s){nt.call(this,e,t,n,r,i,a,A,o,s),this.format=void 0!==A?A:Z,this.minFilter=void 0!==a?a:k,this.magFilter=void 0!==i?i:k,this.generateMipmaps=!1}Jn.prototype=Object.assign(Object.create(De.prototype),{constructor:Jn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Vn(e)>65535?Hn:Qn)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new We).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);var r=this.attributes.tangent;void 0!==r&&((new We).getNormalMatrix(e).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return jn.makeRotationX(e),this.applyMatrix(jn),this},rotateY:function(e){return jn.makeRotationY(e),this.applyMatrix(jn),this},rotateZ:function(e){return jn.makeRotationZ(e),this.applyMatrix(jn),this},translate:function(e,t,n){return jn.makeTranslation(e,t,n),this.applyMatrix(jn),this},scale:function(e,t,n){return jn.makeScale(e,t,n),this.applyMatrix(jn),this},lookAt:function(e){return Wn.lookAt(e),Wn.updateMatrix(),this.applyMatrix(Wn.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xn).negate(),this.translate(Xn.x,Xn.y,Xn.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new _n(3*t.vertices.length,3),r=new _n(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new _n(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new _n(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Gn).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Un(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Un(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.setAttribute("color",new Un(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Un(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Un(a,2).copyVector2sArray(e.uvs2))}for(var A in this.groups=e.groups,e.morphTargets){for(var o=[],s=e.morphTargets[A],l=0,c=s.length;l<c;l++){var u=s[l],h=new _n(3*u.data.length,3);h.name=u.name,o.push(h.copyVector3sArray(u.data))}this.morphAttributes[A]=o}if(e.skinIndices.length>0){var d=new _n(4*e.skinIndices.length,4);this.setAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new _n(4*e.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Wt);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Yn.setFromBufferAttribute(i),this.morphTargetsRelative?(Zn.addVectors(this.boundingBox.min,Yn.min),this.boundingBox.expandByPoint(Zn),Zn.addVectors(this.boundingBox.max,Yn.max),this.boundingBox.expandByPoint(Zn)):(this.boundingBox.expandByPoint(Yn.min),this.boundingBox.expandByPoint(Yn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Kt);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(Yn.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Kn.setFromBufferAttribute(a),this.morphTargetsRelative?(Zn.addVectors(Yn.min,Kn.min),Yn.expandByPoint(Zn),Zn.addVectors(Yn.max,Kn.max),Yn.expandByPoint(Zn)):(Yn.expandByPoint(Kn.min),Yn.expandByPoint(Kn.max))}Yn.getCenter(n);var A=0;for(r=0,i=e.count;r<i;r++)Zn.fromBufferAttribute(e,r),A=Math.max(A,n.distanceToSquared(Zn));if(t)for(r=0,i=t.length;r<i;r++){a=t[r];for(var o=this.morphTargetsRelative,s=0,l=a.count;s<l;s++)Zn.fromBufferAttribute(a,s),o&&(Xn.fromBufferAttribute(e,s),Zn.add(Xn)),A=Math.max(A,n.distanceToSquared(Zn))}this.boundingSphere.radius=Math.sqrt(A),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new Un(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var A,o,s,l=t.normal.array,c=new Ve,u=new Ve,h=new Ve,d=new Ve,p=new Ve;if(e){var f=e.array;for(i=0,a=e.count;i<a;i+=3)A=3*f[i+0],o=3*f[i+1],s=3*f[i+2],c.fromArray(n,A),u.fromArray(n,o),h.fromArray(n,s),d.subVectors(h,u),p.subVectors(c,u),d.cross(p),l[A]+=d.x,l[A+1]+=d.y,l[A+2]+=d.z,l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z}else for(i=0,a=n.length;i<a;i+=9)c.fromArray(n,i),u.fromArray(n,i+3),h.fromArray(n,i+6),d.subVectors(h,u),p.subVectors(c,u),d.cross(p),l[i]=d.x,l[i+1]=d.y,l[i+2]=d.z,l[i+3]=d.x,l[i+4]=d.y,l[i+5]=d.z,l[i+6]=d.x,l[i+7]=d.y,l[i+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],A=a.array,o=a.itemSize*t,s=Math.min(A.length,i.length-o),l=0,c=o;l<s;l++,c++)i[c]=A[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Zn.x=e.getX(t),Zn.y=e.getY(t),Zn.z=e.getZ(t),Zn.normalize(),e.setXYZ(t,Zn.x,Zn.y,Zn.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),a=0,A=0,o=0,s=t.length;o<s;o++){a=t[o]*r;for(var l=0;l<r;l++)i[A++]=n[a++]}return new Un(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Jn,n=this.index.array,r=this.attributes;for(var i in r){var a=e(r[i],n);t.setAttribute(i,a)}var A=this.morphAttributes;for(i in A){for(var o=[],s=A[i],l=0,c=s.length;l<c;l++){a=e(s[l],n);o.push(a)}t.morphAttributes[i]=o}t.morphTargetsRelative=this.morphTargetsRelative;for(var u=this.groups,h=(l=0,u.length);l<h;l++){var d=u[l];t.addGroup(d.start,d.count,d.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var a=(h=i[n]).toJSON();""!==h.name&&(a.name=h.name),e.data.attributes[n]=a}var A={},o=!1;for(var n in this.morphAttributes){for(var s=this.morphAttributes[n],l=[],c=0,u=s.length;c<u;c++){var h;a=(h=s[c]).toJSON();""!==h.name&&(a.name=h.name),l.push(a)}l.length>0&&(A[n]=l,o=!0)}o&&(e.data.morphAttributes=A,e.data.morphTargetsRelative=this.morphTargetsRelative);var d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));var p=this.boundingSphere;return null!==p&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e},clone:function(){return(new Jn).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var a=e.attributes;for(t in a){var A=a[t];this.setAttribute(t,A.clone())}var o=e.morphAttributes;for(t in o){var s=[],l=o[t];for(n=0,r=l.length;n<r;n++)s.push(l[n].clone());this.morphAttributes[t]=s}this.morphTargetsRelative=e.morphTargetsRelative;var c=e.groups;for(n=0,r=c.length;n<r;n++){var u=c[n];this.addGroup(u.start,u.count,u.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),qn.prototype=Object.assign(Object.create(nt.prototype),{constructor:qn,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0,et.render())}});var $n=new dt,er=new rn,tr=new Kt,nr=new Ve,rr=new Ve,ir=new Ve,ar=new Ve,Ar=new Ve,or=new Ve,sr=new Ve,lr=new Ve,cr=new Ve,ur=new _e,hr=new _e,dr=new _e,pr=new Ve,fr=new Ve;function gr(e,t){Ut.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Jn,this.material=void 0!==t?t:new Fn({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function mr(e,t,n,r,i,a,A,o){if(null===(1===t.side?r.intersectTriangle(A,a,i,!0,o):r.intersectTriangle(i,a,A,2!==t.side,o)))return null;fr.copy(o),fr.applyMatrix4(e.matrixWorld);var s=n.ray.origin.distanceTo(fr);return s<n.near||s>n.far?null:{distance:s,point:fr.clone(),object:e}}function vr(e,t,n,r,i,a,A,o,s,l,c,u){nr.fromBufferAttribute(i,l),rr.fromBufferAttribute(i,c),ir.fromBufferAttribute(i,u);var h=e.morphTargetInfluences;if(t.morphTargets&&a&&h){sr.set(0,0,0),lr.set(0,0,0),cr.set(0,0,0);for(var d=0,p=a.length;d<p;d++){var f=h[d],g=a[d];0!==f&&(ar.fromBufferAttribute(g,l),Ar.fromBufferAttribute(g,c),or.fromBufferAttribute(g,u),A?(sr.addScaledVector(ar,f),lr.addScaledVector(Ar,f),cr.addScaledVector(or,f)):(sr.addScaledVector(ar.sub(nr),f),lr.addScaledVector(Ar.sub(rr),f),cr.addScaledVector(or.sub(ir),f)))}nr.add(sr),rr.add(lr),ir.add(cr)}var m=mr(e,t,n,r,nr,rr,ir,pr);if(m){o&&(ur.fromBufferAttribute(o,l),hr.fromBufferAttribute(o,c),dr.fromBufferAttribute(o,u),m.uv=yn.getUV(pr,nr,rr,ir,ur,hr,dr,new _e)),s&&(ur.fromBufferAttribute(s,l),hr.fromBufferAttribute(s,c),dr.fromBufferAttribute(s,u),m.uv2=yn.getUV(pr,nr,rr,ir,ur,hr,dr,new _e));var v=new In(l,c,u);yn.getNormal(nr,rr,ir,v.normal),m.face=v}return m}gr.prototype=Object.assign(Object.create(Ut.prototype),{constructor:gr,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Ut.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var A=i[a[0]];if(void 0!==A)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=A.length;e<t;e++)n=A[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var o=r.morphTargets;void 0!==o&&o.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),tr.copy(r.boundingSphere),tr.applyMatrix4(a),!1!==e.ray.intersectsSphere(tr)&&($n.getInverse(a),er.copy(e.ray).applyMatrix4($n),null===r.boundingBox||!1!==er.intersectsBox(r.boundingBox))))if(0===this.drawMode){if(r.isBufferGeometry){var A,o,s,l,c,u,h,d,p,f=r.index,g=r.attributes.position,m=r.morphAttributes.position,v=r.morphTargetsRelative,y=r.attributes.uv,w=r.attributes.uv2,B=r.groups,x=r.drawRange;if(null!==f)if(Array.isArray(i))for(l=0,u=B.length;l<u;l++)for(p=i[(d=B[l]).materialIndex],c=Math.max(d.start,x.start),h=Math.min(d.start+d.count,x.start+x.count);c<h;c+=3)A=f.getX(c),o=f.getX(c+1),s=f.getX(c+2),(n=vr(this,p,e,er,g,m,v,y,w,A,o,s))&&(n.faceIndex=Math.floor(c/3),n.face.materialIndex=d.materialIndex,t.push(n));else for(l=Math.max(0,x.start),u=Math.min(f.count,x.start+x.count);l<u;l+=3)A=f.getX(l),o=f.getX(l+1),s=f.getX(l+2),(n=vr(this,i,e,er,g,m,v,y,w,A,o,s))&&(n.faceIndex=Math.floor(l/3),t.push(n));else if(void 0!==g)if(Array.isArray(i))for(l=0,u=B.length;l<u;l++)for(p=i[(d=B[l]).materialIndex],c=Math.max(d.start,x.start),h=Math.min(d.start+d.count,x.start+x.count);c<h;c+=3)(n=vr(this,p,e,er,g,m,v,y,w,A=c,o=c+1,s=c+2))&&(n.faceIndex=Math.floor(c/3),n.face.materialIndex=d.materialIndex,t.push(n));else for(l=Math.max(0,x.start),u=Math.min(g.count,x.start+x.count);l<u;l+=3)(n=vr(this,i,e,er,g,m,v,y,w,A=l,o=l+1,s=l+2))&&(n.faceIndex=Math.floor(l/3),t.push(n))}else if(r.isGeometry){var b,C,M,E,I=Array.isArray(i),T=r.vertices,S=r.faces,F=r.faceVertexUvs[0];F.length>0&&(E=F);for(var U=0,L=S.length;U<L;U++){var R=S[U],P=I?i[R.materialIndex]:i;if(void 0!==P&&(b=T[R.a],C=T[R.b],M=T[R.c],n=mr(this,P,e,er,b,C,M,pr))){if(E&&E[U]){var D=E[U];ur.copy(D[0]),hr.copy(D[1]),dr.copy(D[2]),n.uv=yn.getUV(pr,b,C,M,ur,hr,dr,new _e)}n.face=R,n.faceIndex=U,t.push(n)}}}}else console.warn("THREE.Mesh: TriangleStripDrawMode and TriangleFanDrawMode are not supported by .raycast().")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),gr.prototype.setVideoTexture=function(e){e.addEventListener("play",(function(e){et.renderEnabled=!0}));var t=new qn(e);t.minFilter=k,t.magFilter=k,t.format=Z,(Array.isArray(this.material)?this.material:[this.material]).forEach((function(e){e.albedo0||(e.albedo0=e.albedo),e.albedo=t,e.color.setStyle("#ffffff"),e.needsUpdate=!0}))},gr.prototype.clearVideoTexture=function(){(Array.isArray(this.material)?this.material:[this.material]).forEach((function(e){void 0!==e.albedo0&&(e.albedo=e.albedo0),e.needsUpdate=!0}))};var yr=0,wr=new dt,Br=new Ut,xr=new Ve;function br(){Object.defineProperty(this,"id",{value:yr+=2}),this.uuid=He.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1,this._verticesNeedUpdate=!1}Object.defineProperties(br.prototype,{verticesNeedUpdate:{get:function(){return this._verticesNeedUpdate},set:function(e){this._verticesNeedUpdate=e,!0===e&&et.render()}}}),br.prototype=Object.assign(Object.create(De.prototype),{constructor:br,isGeometry:!0,applyMatrix:function(e){for(var t=(new We).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var a=0,A=i.vertexNormals.length;a<A;a++)i.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return wr.makeRotationX(e),this.applyMatrix(wr),this},rotateY:function(e){return wr.makeRotationY(e),this.applyMatrix(wr),this},rotateZ:function(e){return wr.makeRotationZ(e),this.applyMatrix(wr),this},translate:function(e,t,n){return wr.makeTranslation(e,t,n),this.applyMatrix(wr),this},scale:function(e,t,n){return wr.makeScale(e,t,n),this.applyMatrix(wr),this},lookAt:function(e){return Br.lookAt(e),Br.updateMatrix(),this.applyMatrix(Br.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,A=void 0!==r.color?r.color.array:void 0,o=void 0!==r.uv?r.uv.array:void 0,s=void 0!==r.uv2?r.uv2.array:void 0;void 0!==s&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.length;l+=3)t.vertices.push((new Ve).fromArray(i,l)),void 0!==A&&t.colors.push((new bn).fromArray(A,l));function c(e,n,r,i){var l=void 0===A?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],c=new In(e,n,r,void 0===a?[]:[(new Ve).fromArray(a,3*e),(new Ve).fromArray(a,3*n),(new Ve).fromArray(a,3*r)],l,i);t.faces.push(c),void 0!==o&&t.faceVertexUvs[0].push([(new _e).fromArray(o,2*e),(new _e).fromArray(o,2*n),(new _e).fromArray(o,2*r)]),void 0!==s&&t.faceVertexUvs[1].push([(new _e).fromArray(s,2*e),(new _e).fromArray(s,2*n),(new _e).fromArray(s,2*r)])}var u=e.groups;if(u.length>0)for(l=0;l<u.length;l++)for(var h=u[l],d=h.start,p=d,f=d+h.count;p<f;p+=3)void 0!==n?c(n[p],n[p+1],n[p+2],h.materialIndex):c(p,p+1,p+2,h.materialIndex);else if(void 0!==n)for(l=0;l<n.length;l+=3)c(n[l],n[l+1],n[l+2]);else for(l=0;l<i.length/3;l+=3)c(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(xr).negate(),this.translate(xr.x,xr.y,xr.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new dt;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new Ve,t=new Ve,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],A=this.vertices[i.b],o=this.vertices[i.c];e.subVectors(o,A),t.subVectors(a,A),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,a,A;for(void 0===e&&(e=!0),A=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)A[t]=new Ve;if(e){var o,s,l,c=new Ve,u=new Ve;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],o=this.vertices[a.a],s=this.vertices[a.b],l=this.vertices[a.c],c.subVectors(l,s),u.subVectors(o,s),c.cross(u),A[a.a].add(c),A[a.b].add(c),A[a.c].add(c)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)A[(a=this.faces[r]).a].add(a.normal),A[a.b].add(a.normal),A[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)A[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(a=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(A[a.a]),h[1].copy(A[a.b]),h[2].copy(A[a.c])):(h[0]=A[a.a].clone(),h[1]=A[a.b].clone(),h[2]=A[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var a=new br;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var A=this.morphNormals[e].faceNormals,o=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)s=new Ve,l={a:new Ve,b:new Ve,c:new Ve},A.push(s),o.push(l)}var s,l,c=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],s=c.faceNormals[n],l=c.vertexNormals[n],s.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Wt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Kt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,a=this.vertices,A=e.vertices,o=this.faces,s=e.faces,l=this.colors,c=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new We).getNormalMatrix(t));for(var u=0,h=A.length;u<h;u++){var d=A[u].clone();void 0!==t&&d.applyMatrix4(t),a.push(d)}for(u=0,h=c.length;u<h;u++)l.push(c[u].clone());for(u=0,h=s.length;u<h;u++){var p,f,g,m=s[u],v=m.vertexNormals,y=m.vertexColors;(p=new In(m.a+i,m.b+i,m.c+i)).normal.copy(m.normal),void 0!==r&&p.normal.applyMatrix3(r).normalize();for(var w=0,B=v.length;w<B;w++)f=v[w].clone(),void 0!==r&&f.applyMatrix3(r).normalize(),p.vertexNormals.push(f);p.color.copy(m.color);for(w=0,B=y.length;w<B;w++)g=y[w],p.vertexColors.push(g.clone());p.materialIndex=m.materialIndex+n,o.push(p)}for(u=0,h=e.faceVertexUvs.length;u<h;u++){var x=e.faceVertexUvs[u];void 0===this.faceVertexUvs[u]&&(this.faceVertexUvs[u]=[]);for(w=0,B=x.length;w<B;w++){for(var b=x[w],C=[],M=0,E=b.length;M<E;M++)C.push(b[M].clone());this.faceVertexUvs[u].push(C)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,a,A,o,s={},l=[],c=[],u=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===s[t=Math.round(e.x*u)+"_"+Math.round(e.y*u)+"_"+Math.round(e.z*u)]?(s[t]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[s[t]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var p=h[n];for(this.faces.splice(p,1),A=0,o=this.faceVertexUvs.length;A<o;A++)this.faceVertexUvs[A].splice(p,1)}var f=this.vertices.length-l.length;return this.vertices=l,f},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new Ve(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,a=this.faceVertexUvs[0],A=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),A&&A.length===t&&(i=[]);for(n=0;n<t;n++){var o=e[n]._id;r&&r.push(a[o]),i&&i.push(A[o])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var A=[],o=[],s={},l=[],c={},u=[],h={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],f=d.normal.length()>0,g=d.vertexNormals.length>0,m=1!==d.color.r||1!==d.color.g||1!==d.color.b,v=d.vertexColors.length>0,y=0;if(y=b(y,0,0),y=b(y,1,!0),y=b(y,2,!1),y=b(y,3,p),y=b(y,4,f),y=b(y,5,g),y=b(y,6,m),y=b(y,7,v),A.push(y),A.push(d.a,d.b,d.c),A.push(d.materialIndex),p){var w=this.faceVertexUvs[0][i];A.push(E(w[0]),E(w[1]),E(w[2]))}if(f&&A.push(C(d.normal)),g){var B=d.vertexNormals;A.push(C(B[0]),C(B[1]),C(B[2]))}if(m&&A.push(M(d.color)),v){var x=d.vertexColors;A.push(M(x[0]),M(x[1]),M(x[2]))}}function b(e,t,n){return n?e|1<<t:e&~(1<<t)}function C(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==s[t]||(s[t]=o.length/3,o.push(e.x,e.y,e.z)),s[t]}function M(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=l.length,l.push(e.getHex())),c[t]}function E(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=u.length/2,u.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=r,e.data.normals=o,l.length>0&&(e.data.colors=l),u.length>0&&(e.data.uvs=[u]),e.data.faces=A,e},clone:function(){return(new br).copy(this)},copy:function(e){var t,n,r,i,a,A;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var o=e.vertices;for(t=0,n=o.length;t<n;t++)this.vertices.push(o[t].clone());var s=e.colors;for(t=0,n=s.length;t<n;t++)this.colors.push(s[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=c.length;r<i;r++){var u=c[r],h=[];for(a=0,A=u.length;a<A;a++){var d=u[a];h.push(d.clone())}this.faceVertexUvs[t].push(h)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var f={};if(f.name=p[t].name,void 0!==p[t].vertices)for(f.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)f.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(f.normals=[],r=0,i=p[t].normals.length;r<i;r++)f.normals.push(p[t].normals[r].clone());this.morphTargets.push(f)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var m={};if(void 0!==g[t].vertexNormals)for(m.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var v=g[t].vertexNormals[r],y={};y.a=v.a.clone(),y.b=v.b.clone(),y.c=v.c.clone(),m.vertexNormals.push(y)}if(void 0!==g[t].faceNormals)for(m.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)m.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(m)}var w=e.skinWeights;for(t=0,n=w.length;t<n;t++)this.skinWeights.push(w[t].clone());var B=e.skinIndices;for(t=0,n=B.length;t<n;t++)this.skinIndices.push(B[t].clone());var x=e.lineDistances;for(t=0,n=x.length;t<n;t++)this.lineDistances.push(x[t]);var b=e.boundingBox;null!==b&&(this.boundingBox=b.clone());var C=e.boundingSphere;return null!==C&&(this.boundingSphere=C.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Cr=function(e){s(n,e);var t=f(n);function n(e,r,a,A,o,s){var l;return i(this,n),(l=t.call(this)).type="BoxGeometry",l.parameters={width:e,height:r,depth:a,widthSegments:A,heightSegments:o,depthSegments:s},l.fromBufferGeometry(new Mr(e,r,a,A,o,s)),l.mergeVertices(),l}return n}(br),Mr=function(e){s(n,e);var t=f(n);function n(e,r,a,A,o,s){var l;i(this,n),(l=t.call(this)).type="BoxBufferGeometry",l.parameters={width:e,height:r,depth:a,widthSegments:A,heightSegments:o,depthSegments:s};var c=d(l);e=e||1,r=r||1,a=a||1,A=Math.floor(A)||1,o=Math.floor(o)||1,s=Math.floor(s)||1;var u=[],h=[],p=[],f=[],g=0,m=0;function v(e,t,n,r,i,a,A,o,s,l,d){var v,y,w=a/s,B=A/l,x=a/2,b=A/2,C=o/2,M=s+1,E=l+1,I=0,T=0,S=new Ve;for(y=0;y<E;y++){var F=y*B-b;for(v=0;v<M;v++){var U=v*w-x;S[e]=U*r,S[t]=F*i,S[n]=C,h.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=o>0?1:-1,p.push(S.x,S.y,S.z),f.push(v/s),f.push(1-y/l),I+=1}}for(y=0;y<l;y++)for(v=0;v<s;v++){var L=g+v+M*y,R=g+v+M*(y+1),P=g+(v+1)+M*(y+1),D=g+(v+1)+M*y;u.push(L,R,D),u.push(R,P,D),T+=6}c.addGroup(m,T,d),m+=T,g+=I}return v("z","y","x",-1,-1,a,r,e,s,o,0),v("z","y","x",1,-1,a,r,-e,s,o,1),v("x","z","y",1,1,e,a,r,A,s,2),v("x","z","y",1,-1,e,a,-r,A,s,3),v("x","y","z",1,-1,e,r,a,A,o,4),v("x","y","z",-1,-1,e,r,-a,A,o,5),l.setIndex(u),l.setAttribute("position",new _n(h,3)),l.setAttribute("normal",new _n(p,3)),l.setAttribute("uv",new _n(f,2)),l}return n}(Jn);function Er(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Ir(e){for(var t={},n=0;n<e.length;n++){var r=Er(e[n]);for(var i in r)t[i]=r[i]}return t}var Tr={clone:Er,merge:Ir};function Sr(e){Sn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",this.fragmentShader="\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Fr(){Ut.call(this),this.type="Camera",this.matrixWorldInverse=new dt,this.matrixWorldInverseR=new dt,this.rotateMatrix=(new dt).makeRotationFromEuler(new gt(0,1.570863267948966,0)),this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt}function Ur(e,t,n,r){Fr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Sr.prototype=Object.create(Sn.prototype),Sr.prototype.constructor=Sr,Sr.prototype.isShaderMaterial=!0,Sr.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Er(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Sr.prototype.toJSON=function(e){var t=Sn.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Fr.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Fr,isCamera:!0,copy:function(e,t){return Ut.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ve),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Ut.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverseR.getInverse(this.matrixWorld.clone().multiply(this.rotateMatrix)),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Ur.prototype=Object.assign(Object.create(Fr.prototype),{constructor:Ur,isPerspectiveCamera:!0,copy:function(e,t){return Fr.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*He.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*He.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*He.RAD2DEG*Math.atan(Math.tan(.5*He.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*He.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var A=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/A,t-=a.offsetY*n/o,r*=a.width/A,n*=a.height/o}var s=this.filmOffset;0!==s&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Ut.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var Lr=90;function Rr(e,t,n,r){Ut.call(this),this.type="CubeCamera";var i=new Ur(Lr,1,e,t);i.up.set(0,-1,0),i.lookAt(new Ve(1,0,0)),this.add(i);var a=new Ur(Lr,1,e,t);a.up.set(0,-1,0),a.lookAt(new Ve(-1,0,0)),this.add(a);var A=new Ur(Lr,1,e,t);A.up.set(0,0,1),A.lookAt(new Ve(0,1,0)),this.add(A);var o=new Ur(Lr,1,e,t);o.up.set(0,0,-1),o.lookAt(new Ve(0,-1,0)),this.add(o);var s=new Ur(Lr,1,e,t);s.up.set(0,-1,0),s.lookAt(new Ve(0,0,1)),this.add(s);var l=new Ur(Lr,1,e,t);l.up.set(0,-1,0),l.lookAt(new Ve(0,0,-1)),this.add(l),r=r||{format:Z,magFilter:k,minFilter:k},this.renderTarget=new Pr(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,c=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,A),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,s),r.texture.generateMipmaps=c,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),a=this.renderTarget,A=0;A<6;A++)e.setRenderTarget(a,A),e.clear(t,n,r);e.setRenderTarget(i)}}function Pr(e,t,n){it.call(this,e,t,n)}function Dr(e,t,n,r,i,a,A,o,s,l,c,u){nt.call(this,null,a,A,o,s,l,r,i,c,u),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==s?s:H,this.minFilter=void 0!==l?l:H,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Rr.prototype=Object.create(Ut.prototype),Rr.prototype.constructor=Rr,Pr.prototype=Object.create(it.prototype),Pr.prototype.constructor=Pr,Pr.prototype.isWebGLRenderTargetCube=!0,Pr.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new Lt,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new Sr({type:"CubemapFromEquirect",uniforms:Er(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;var a=new gr(new Mr(5,5,5),i);n.add(a);var A=new Rr(1,10,1);return A.renderTarget=this,A.renderTarget.texture.name="CubeCameraTexture",A.update(e,n),a.geometry.dispose(),a.material.dispose(),this},Dr.prototype=Object.create(nt.prototype),Dr.prototype.constructor=Dr,Dr.prototype.isDataTexture=!0;var Qr=new Kt,Or=new Ve;function Hr(e,t,n,r,i,a){this.planes=[void 0!==e?e:new sn,void 0!==t?t:new sn,void 0!==n?n:new sn,void 0!==r?r:new sn,void 0!==i?i:new sn,void 0!==a?a:new sn]}Object.assign(Hr.prototype,{set:function(e,t,n,r,i,a){var A=this.planes;return A[0].copy(e),A[1].copy(t),A[2].copy(n),A[3].copy(r),A[4].copy(i),A[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],A=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=n[9],d=n[10],p=n[11],f=n[12],g=n[13],m=n[14],v=n[15];return t[0].setComponents(A-r,c-o,p-u,v-f).normalize(),t[1].setComponents(A+r,c+o,p+u,v+f).normalize(),t[2].setComponents(A+i,c+s,p+h,v+g).normalize(),t[3].setComponents(A-i,c-s,p-h,v-g).normalize(),t[4].setComponents(A-a,c-l,p-d,v-m).normalize(),t[5].setComponents(A+a,c+l,p+d,v+m).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Qr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Qr)},intersectsSprite:function(e){return Qr.center.set(0,0,0),Qr.radius=.7071067811865476,Qr.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qr)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Or.x=r.normal.x>0?e.max.x:e.min.x,Or.y=r.normal.y>0?e.max.y:e.min.y,Or.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Or)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0},toArray:function(){for(var e=[],t=0;t<6;t++){var n=this.planes[t].normal.toArray();e.push.apply(e,n),n=null,e.push(this.planes[t].constant)}return e},setFromProjectionMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],A=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=n[9],d=n[10],p=n[11],f=n[12],g=n[13],m=n[14],v=n[15];return t[0].setComponents(A-r,c-o,p-u,v-f).normalize(),t[1].setComponents(A+r,c+o,p+u,v+f).normalize(),t[2].setComponents(A+i,c+s,p+h,v+g).normalize(),t[3].setComponents(A-i,c-s,p-h,v-g).normalize(),t[4].setComponents(A-a,c-l,p-d,v-m).normalize(),t[5].setComponents(A+a,c+l,p+d,v+m).normalize(),this}});var _r={alphamap_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",alphamap_pars_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",alphatest_fragment:"\n#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",aomap_fragment:"\n#ifdef USE_AOMAP\n\n\t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\n\t#endif\n\n#endif\n",aomap_pars_fragment:"\n#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif\n",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n\n#ifdef USE_TANGENT\n\n\tvec3 objectTangent = vec3( tangent.xyz );\n\n#endif\n",bsdfs:'\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via \'environmentBRDF\' from "Physically Based Shading on Mobile"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tvec4 r = roughness * c0 + c1;\n\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\n}\n\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\n\tif( cutoffDistance > 0.0 ) {\n\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\n\t}\n\n\treturn distanceFalloff;\n\n#else\n\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n#endif\n\n}\n\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\n\treturn RECIPROCAL_PI * diffuseColor;\n\n} // validated\n\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\n\t// Original approximation by Christophe Schlick \'94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\n\t// Optimized variant (presented by Epic at SIGGRAPH \'13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n} // validated\n\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\n\t// See F_Schlick\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\n\treturn Fr * fresnel + F0;\n\n}\n\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\n\t// also see #12151\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\n\treturn 1.0 / ( gl * gv );\n\n} // validated\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\tfloat a2 = pow2( alpha );\n\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\n\treturn 0.5 / max( gv + gl, EPSILON );\n\n}\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\n}\n\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat alpha = pow2( roughness ); // UE4\'s roughness\n\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\n\tfloat D = D_GGX( alpha, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// Rect Area Light\n\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\n\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\tfloat dotNV = saturate( dot( N, V ) );\n\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\treturn uv;\n\n}\n\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\n\tfloat l = length( f );\n\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n\n}\n\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\n\tfloat x = dot( v1, v2 );\n\n\tfloat y = abs( x );\n\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\n\treturn cross( v1, v2 ) * theta_sintheta;\n\n}\n\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\n/*\n\t// alternate method of adjusting for horizon clipping (see referece)\n\t// refactoring required\n\tfloat len = length( vectorFormFactor );\n\tfloat z = vectorFormFactor.z / len;\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\t// tabulated horizon-clipped sphere, apparently...\n\tvec2 uv = vec2( z * 0.5 + 0.5, len );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\tfloat scale = texture2D( ltc_2, uv ).w;\n\n\tfloat result = len * scale;\n*/\n\n\treturn vec3( result );\n\n}\n\n// End Rect Area Light\n\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\n\treturn specularColor * brdf.x + brdf.y;\n\n} // validated\n\n// Fdez-Agüera\'s "Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\n\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\n\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n\n#if defined( USE_SHEEN )\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L94\nfloat D_Charlie(float roughness, float NoH) {\n\t// Estevez and Kulla 2017, "Production Friendly Microfacet Sheen BRDF"\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125); // 2^(-14/2), so sin2h^2 > 0 in fp16\n\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L136\nfloat V_Neubelt(float NoV, float NoL) {\n\t// Neubelt and Pettineo 2013, "Crafting a Next-gen Material Pipeline for The Order: 1886"\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\n\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n\n}\n\n#endif\n',bumpmap_pars_fragment:"\n#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\n\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n",clipping_planes_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\tvec4 plane;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\n\t}\n\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\n\t\tbool clipped = true;\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\n\t\t}\n\n\t\tif ( clipped ) discard;\n\n\t#endif\n\n#endif\n",clipping_planes_pars_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n\n#endif\n",clipping_planes_pars_vertex:"\n#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"\n#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"\n#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif\n",color_pars_fragment:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_pars_vertex:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_vertex:"\n#ifdef USE_COLOR\n\n\tvColor.xyz = color.xyz;\n\n#endif\n",common:"\n#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#ifndef saturate\n// <tonemapping_pars_fragment> may have defined saturate() already\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\n\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\n\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\n\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n}\n\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nmat3 transposeMat3( const in mat3 m ) {\n\n\tmat3 tmp;\n\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\n\treturn tmp;\n\n}\n\n// https://en.wikipedia.org/wiki/Relative_luminance\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\n\treturn dot( weights, color.rgb );\n\n}\n\n    \nbool isPerspectiveMatrix( mat4 m ) {\n\n  return m[ 2 ][ 3 ] == - 1.0;\n\n}\n",cube_uv_reflection_fragment:"\n#ifdef ENVMAP_TYPE_CUBE_UV\n\n#define cubeUV_textureSize (1024.0)\n\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\n\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\t// Clamp the value to the max mip level counts. hard coded to 6 mips\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\n\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\t// float powScale = exp2(roughnessLevel + mipLevel);\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\t// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\t// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\n\tfloat rcpPowScale = 1.0 / powScale;\n\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\n\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\n\t// round to nearest mipmap if we are not interpolating.\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\n\t// Tri linear interpolation.\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\n\tvec4 result = mix(color10, color20, t);\n\n\treturn vec4(result.rgb, 1.0);\n}\n\nvec4 textureCubeUVSample( sampler2D envMap, vec3 reflectedDirection) {\n\n\tvec2 uv_10 = getCubeUV(reflectedDirection, 0.0, 0.0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\n\treturn color10;\n}\n\n#endif\n",defaultnormal_vertex:"\nvec3 transformedNormal = objectNormal;\n\n#ifdef USE_INSTANCING\n\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n\n#endif\n\ntransformedNormal = normalMatrix * transformedNormal;\n\n#ifdef FLIP_SIDED\n\n\ttransformedNormal = - transformedNormal;\n\n#endif\n\n#ifdef USE_TANGENT\n\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\n\t#ifdef FLIP_SIDED\n\n\t\ttransformedTangent = - transformedTangent;\n\n\t#endif\n\n#endif\n",displacementmap_pars_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n",displacementmap_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n\n#endif\n",emissivemap_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n\n#endif\n",emissivemap_pars_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n",encodings_fragment:"\ngl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\n// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\n\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\n\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\n\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\n\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\n\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\n\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\n\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\n\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\n\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\n\n// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\n\n// M matrix, for encoding\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\n\n// Inverse M matrix, for decoding\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",envmap_fragment:"\n#ifdef USE_ENVMAP\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\n\t\t}  else {\n\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\n\t\t}\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\tvec2 sampleUV;\n\n\t\treflectVec = normalize( reflectVec );\n\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\treflectVec = normalize( reflectVec );\n\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\n\t#else\n\n\t\tvec4 envColor = vec4( 0.0 );\n\n\t#endif\n\n\tenvColor = envMapTexelToLinear( envColor );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",envmap_common_pars_fragment:"\n#ifdef USE_ENVMAP\n\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif\n",envmap_pars_fragment:"\n#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\t#define ENV_WORLDPOS\n\n\t#endif\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n\n#endif\n",envmap_pars_vertex:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\n\t\t#define ENV_WORLDPOS\n\n\t#endif\n\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\n\t#endif\n\n#endif\n",envmap_physical_pars_fragment:"\n#if defined( USE_ENVMAP )\n\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\n\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\n\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\n\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\n\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#else\n\n\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\n\t\t#else\n\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\n\t\t#endif\n        \n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\n\t}\n\n\t// Trowbridge-Reitz distribution to Mip level, following the logic of http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\n\t\t// clamp to allowable LOD ranges.\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\n\t}\n\n\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\n\t\t  // Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\n\t\t#else\n\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\n\t\t#endif\n\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\n\t}\n\n#endif\n",envmap_vertex:"\n#ifdef USE_ENVMAP\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvWorldPosition = worldPosition.xyz;\n\n\t#else\n\n\t\tvec3 cameraToVertex;\n\n\t\tif ( isOrthographic ) { \n\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\n\t\t} else {\n\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t\t}\n\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\n\n\tfogDepth = -mvPosition.z;\n\n#endif\n",fog_pars_vertex:"\n#ifdef USE_FOG\n\n\tvarying float fogDepth;\n\n#endif\n",fog_fragment:"\n#ifdef USE_FOG\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\n\t#endif\n\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\n#endif\n",fog_pars_fragment:"\n#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\n\t#endif\n\n#endif\n",gradientmap_pars_fragment:"\n#ifdef TOON\n\n\tuniform sampler2D gradientMap;\n\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\n\t\t// dotNL will be from -1.0 to 1.0\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\n\t\t#ifdef USE_GRADIENTMAP\n\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\n\t\t#else\n\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\n\t\t#endif\n\n\n\t}\n\n#endif\n",lightmap_fragment:"\n#ifdef USE_LIGHTMAP\n\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\n\n#endif\n",lightmap_pars_fragment:"\n#ifdef USE_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif\n",lights_lambert_vertex:"\nvec3 diffuse = vec3( 1.0 );\n\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\n\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\n\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n\n#if NUM_POINT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if NUM_SPOT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\t}\n\n#endif\n\n/*\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\t// TODO (abelnation): implement\n\n\t}\n\n#endif\n*/\n\n#if NUM_DIR_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if NUM_HEMI_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\n\t\t#endif\n\n\t}\n\n#endif\n",lights_pars_begin:"\nuniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\n\n// get the irradiance (radiance convolved with cosine lobe) at the point 'normal' on the unit sphere\n// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\n\t// normal is assumed to have unit length\n\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\n\t// band 0\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\n\t// band 1\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\n\t// band 2\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\n\treturn result;\n\n}\n\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\n\treturn irradiance;\n\n}\n\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\n\tvec3 irradiance = ambientLightColor;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI;\n\n\t#endif\n\n\treturn irradiance;\n\n}\n\n#if NUM_DIR_LIGHTS > 0\n\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\n\t}\n\n#endif\n\n\n#if NUM_POINT_LIGHTS > 0\n\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\n\t}\n\n#endif\n\n\n#if NUM_SPOT_LIGHTS > 0\n\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\n\t\tif ( angleCos > spotLight.coneCos ) {\n\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\n\t\t} else {\n\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\n\t\t}\n\t}\n\n#endif\n\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\n\t// Pre-computed values of LinearTransformedCosine approximation of BRDF\n\t// BRDF approximation Texture is 64x64\n\tuniform sampler2D ltc_1; // RGBA Float\n\tuniform sampler2D ltc_2; // RGBA Float\n\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n\n#endif\n\n\n#if NUM_HEMI_LIGHTS > 0\n\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tirradiance *= PI;\n\n\t\t#endif\n\n\t\treturn irradiance;\n\n\t}\n\n#endif\n",lights_phong_fragment:"\nBlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n\nstruct BlinnPhongMaterial {\n\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n\n};\n\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t#ifdef TOON\n\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\n\t#else\n\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\n\t#endif\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n\n}\n\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"\nPhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n\n#ifdef REFLECTIVITY\n\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\n#else\n\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\n#endif\n\n#ifdef CLEARCOAT\n\n\tmaterial.clearcoat = saturate( clearcoat ); // Burley clearcoat model\n\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n\n#endif\n#ifdef USE_SHEEN\n\n\tmaterial.sheenColor = sheen;\n\n#endif\n",lights_physical_pars_fragment:"\nstruct PhysicalMaterial {\n\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n\n};\n\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\n\n// Clear coat directional hemishperical reflectance (this approximation should be improved)\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n\n}\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction\n\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\n\t\t// LTC Fresnel Approximation by Stephen Hill\n\t\t// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\n\t}\n\n#endif\n\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\n\tvec3 irradiance = dotNL * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\t#ifdef CLEARCOAT\n\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tccIrradiance *= PI; // punctual light\n\n\t\t#endif\n\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\n\t#else\n\n\t\tfloat clearcoatDHR = 0.0;\n\n\t#endif\n\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\n\t#ifdef CLEARCOAT\n\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\n\t#else\n\n\t\tfloat clearcoatDHR = 0.0;\n\n\t#endif\n\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\n\t// Both indirect specular and indirect diffuse light accumulate here\n\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n\n// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n\n}\n",lights_fragment_begin:"\n/**\n * This is a template that can be used to light a material, it uses pluggable\n * RenderEquations (RE)for specific lighting scenarios.\n *\n * Instructions for use:\n * - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined\n * - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???\n * - Create a material parameter that is to be passed as the third parameter to your lighting functions.\n *\n * TODO:\n * - Add area light support.\n * - Add sphere light support.\n * - Add diffuse light probe (irradiance cubemap) support.\n */\n\nGeometricContext geometry;\n\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n\n#ifdef CLEARCOAT\n\n\tgeometry.clearcoatNormal = clearcoatNormal;\n\n#endif\n\nIncidentLight directLight;\n\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\n\tRectAreaLight rectAreaLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\tvec3 iblIrradiance = vec3( 0.0 );\n\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t}\n\n\t#endif\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n\n#endif\n",lights_fragment_maps:"\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\n\t#ifdef CLEARCOAT\n\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\n\t#endif\n\n#endif\n",lights_fragment_end:"\n#if defined( RE_IndirectDiffuse )\n\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n    \n#endif\n",logdepthbuf_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\t// Doing a strict comparison with == 1.0 can cause noise artifacts\n\t// on some platforms. See issue #17623.\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n\n#endif\n",logdepthbuf_pars_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n\n#endif\n",logdepthbuf_pars_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\n\t#else\n\n\t\tuniform float logDepthBufFC;\n\n\t#endif\n\n#endif\n",logdepthbuf_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\n\t#else\n\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\n\t\t\tgl_Position.z *= gl_Position.w;\n\n\t\t}\n\n\t#endif\n\n#endif\n",map_fragment:"\n#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n\n#endif\n",map_pars_fragment:"\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n",map_particle_fragment:"\n#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_MAP\n\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n\n#endif\n\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n\n#endif\n",map_particle_pars_fragment:"\n#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\n\tuniform mat3 uvTransform;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",metalnessmap_fragment:"\nfloat metalnessFactor = metalness;\n\n#ifdef USE_METALNESSMAP\n\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\n\t// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tmetalnessFactor *= texelMetalness.b;\n\n#endif\n",metalnessmap_pars_fragment:"\n#ifdef USE_METALNESSMAP\n\n\tuniform sampler2D metalnessMap;\n\n#endif\n",morphnormal_vertex:"\n#ifdef USE_MORPHNORMALS\n\n\t// morphTargetBaseInfluence is set based on BufferGeometry.morphTargetsRelative value:\n\t// When morphTargetsRelative is false, this is set to 1 - sum(influences); this results in normal = sum((target - base) * influence)\n\t// When morphTargetsRelative is true, this is set to 1; as a result, all morph targets are simply added to the base after weighting\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\n#endif\n",morphtarget_pars_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\tuniform float morphTargetBaseInfluence;\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif\n",morphtarget_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\t// morphTargetBaseInfluence is set based on BufferGeometry.morphTargetsRelative value:\n\t// When morphTargetsRelative is false, this is set to 1 - sum(influences); this results in position = sum((target - base) * influence)\n\t// When morphTargetsRelative is true, this is set to 1; as a result, all morph targets are simply added to the base after weighting\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n",normal_fragment_begin:"\n#ifdef FLAT_SHADED\n\n\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\n\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#else\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t#endif\n\n\t#ifdef USE_TANGENT\n\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t#endif\n\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n\n// non perturbed normal for clearcoat among others\n\nvec3 geometryNormal = normal;\n\n",normal_fragment_maps:"\n\n#ifdef OBJECTSPACE_NORMALMAP\n\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\n\n\t#ifdef FLIP_SIDED\n\n\t\tnormal = - normal;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t#endif\n\n\tnormal = normalize( normalMatrix * normal );\n\n#elif defined( TANGENTSPACE_NORMALMAP )\n\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\n\t#ifdef USE_TANGENT\n\n\t\tnormal = normalize( vTBN * mapN );\n\n\t#else\n\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\n\t#endif\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n",normalmap_pars_fragment:"\n#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n#endif\n\n#ifdef OBJECTSPACE_NORMALMAP\n\n\tuniform mat3 normalMatrix;\n\n#endif\n\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\n\t// Per-Pixel Tangent Space Normal Mapping\n\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tmat3 tsn = mat3( S, T, N );\n\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n",clearcoat_normal_fragment_begin:"\n#ifdef CLEARCOAT\n\n\tvec3 clearcoatNormal = geometryNormal;\n\n#endif\n",clearcoat_normal_fragment_maps:"\n#ifdef USE_CLEARCOAT_NORMALMAP\n\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\n\t#ifdef USE_TANGENT\n\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\n\t#else\n\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\n\t#endif\n\n#endif\n",clearcoat_normalmap_pars_fragment:"\n#ifdef USE_CLEARCOAT_NORMALMAP\n\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n\n#endif\n",packing:"\nvec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\n\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\n\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\n\nconst float ShiftRight8 = 1. / 256.;\n\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\n\treturn r * PackUpscale;\n}\n\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\n\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpack2HalfToRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\n\n// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\n\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\n\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"\n#ifdef PREMULTIPLIED_ALPHA\n\n\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\n\tgl_FragColor.rgb *= gl_FragColor.a;\n\n#endif\n",project_vertex:"\nvec4 mvPosition = vec4( transformed, 1.0 );\n\n#ifdef USE_INSTANCING\n\n\tmvPosition = instanceMatrix * mvPosition;\n\n#endif\n\nmvPosition = modelViewMatrix * mvPosition;\n\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"\n#ifdef DITHERING\n\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n\n#endif\n",dithering_pars_fragment:"\n#ifdef DITHERING\n\n\t// based on https://www.shadertoy.com/view/MslGR8\n\tvec3 dithering( vec3 color ) {\n\t\t//Calculate grid position\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\n\t\t//Shift the individual colors differently, thus making it even harder to see the dithering pattern\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\n\t\t//modify shift acording to grid position.\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\n\t\t//shift the color by dither_shift\n\t\treturn color + dither_shift_RGB;\n\t}\n\n#endif\n",roughnessmap_fragment:"\nfloat roughnessFactor = roughness;\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\n\t// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\troughnessFactor *= texelRoughness.g;\n\n#endif\n",roughnessmap_pars_fragment:"\n#ifdef USE_ROUGHNESSMAP\n\n\tuniform sampler2D roughnessMap;\n\n#endif\n",shadowmap_pars_fragment:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): create uniforms for area light shadows\n\n\t#endif\n\t*/\n\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n\t}\n\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\n\t\treturn unpack2HalfToRGBA( texture2D( shadow, uv ) );\n\n\t}\n\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\n\t\tfloat occlusion = 1.0;\n\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\n\t\tfloat hard_shadow = step( compare , distribution.x ); // Hard Shadow\n\n\t\tif (hard_shadow != 1.0 ) {\n\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality\n\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed\n\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\n\t\t}\n\t\treturn occlusion;\n\n\t}\n\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\n\t\tvec2 f = fract( uv * size + 0.5 );\n\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\n\t\treturn c;\n\n\t}\n\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tfloat shadow = 1.0;\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\n\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#else // no percentage-closer filtering:\n\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#endif\n\n\t\t}\n\n\t\treturn shadow;\n\n\t}\n\n\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n\t// vector suitable for 2D texture mapping. This code uses the following layout for the\n\t// 2D texture:\n\t//\n\t// xzXZ\n\t//  y Y\n\t//\n\t// Y - Positive y direction\n\t// y - Negative y direction\n\t// X - Positive x direction\n\t// x - Negative x direction\n\t// Z - Positive z direction\n\t// z - Negative z direction\n\t//\n\t// Source and test bed:\n\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\t\t// Number of texels to avoid at the edge of each square\n\n\t\tvec3 absV = abs( v );\n\n\t\t// Intersect unit cube\n\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\n\t\t// Apply scale to avoid seams\n\n\t\t// two texels less per square (one texel will do for NEAREST)\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\t\t// Unwrap\n\n\t\t// space: -1 ... 1 range for each square\n\t\t//\n\t\t// #X##\t\tdim    := ( 4 , 2 )\n\t\t//  # #\t\tcenter := ( 1 , 1 )\n\n\t\tvec2 planar = v.xy;\n\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\tif ( absV.z >= almostOne ) {\n\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t}\n\n\t\t// Transform to UV space\n\n\t\t// scale := 0.5 / dim\n\t\t// translate := ( center + 0.5 ) / dim\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t}\n\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\n\t\t// the vector from the light to the world-space position of the fragment.\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\n\t\t// dp = normalized distance from light to fragment position\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n\t\tdp += shadowBias;\n\n\t\t// bd3D = base direction 3D\n\t\tvec3 bd3D = normalize( lightToPosition );\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering\n\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n\t\t#endif\n\n\t}\n\n#endif\n",shadowmap_pars_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): uniforms for area light shadows\n\n\t#endif\n\t*/\n\n#endif\n",shadowmap_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): update vAreaShadowCoord with area light info\n\n\t#endif\n\t*/\n\n#endif\n",shadowmask_pars_fragment:"\nfloat getShadowMask() {\n\n\tfloat shadow = 1.0;\n\n\t#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): update shadow for Area light\n\n\t#endif\n\t*/\n\n\t#endif\n\n\treturn shadow;\n\n}\n",skinbase_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif\n",skinning_pars_vertex:"\n#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",skinning_vertex:"\n#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n",skinnormal_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n\t#ifdef USE_TANGENT\n\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#endif\n\n#endif\n",specularmap_fragment:"\nfloat specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif\n",specularmap_pars_fragment:"\n#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif\n",tonemapping_fragment:"\n#if defined( TONE_MAPPING )\n\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n\n#endif\n",tonemapping_pars_fragment:"\n#ifndef saturate\n// <common> may have defined saturate() already\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\n\n// exposure only\nvec3 LinearToneMapping( vec3 color ) {\n\n\treturn toneMappingExposure * color;\n\n}\n\n// source: https://www.cs.utah.edu/~reinhard/cdrom/\nvec3 ReinhardToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n\n}\n\n// source: http://filmicgames.com/archives/75\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\n\t// John Hable's filmic operator from Uncharted 2 video game\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n\n}\n\n// source: http://filmicgames.com/archives/75\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\n\t// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n\n}\n\n// source: https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n\n}\n",uv_pars_fragment:"\n#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\n\tvarying vec2 vUv;\n\n#endif\n",uv_pars_vertex:"\n#ifdef USE_UV\n\n\t#ifdef UVS_VERTEX_ONLY\n\n\t\tvec2 vUv;\n\n\t#else\n\n\t\tvarying vec2 vUv;\n\n\t#endif\n\n\tuniform mat3 uvTransform;\n\n#endif\n",uv_vertex:"\n#ifdef USE_UV\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n",uv2_pars_fragment:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_pars_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvUv2 = uv2;\n\n#endif\n",worldpos_vertex:"\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\n\t#ifdef USE_INSTANCING\n\n\t\tworldPosition = instanceMatrix * worldPosition;\n\n\t#endif\n\n\tworldPosition = modelMatrix * worldPosition;\n\n#endif\n",amrt_aomap_fragment:"\n#if defined(USE_AOMAP)\n    float ambientOcclusion = pow( aoMapTexelToLinear(texture2D( aoMap, vUvAO )).g, aoScale);\n    reflectedLight.indirectDiffuse *= ambientOcclusion;\n    #if defined( USE_ENVMAP ) && defined( STANDARD )\n\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\n\t#endif\n#endif\n",amrt_emissivemap_fragment:"\n#if defined(USE_EMISSIVEMAP)\n    vec4 emissiveColor = texture2D( emissiveMap, vUvEmissive );\n\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",amrt_map_fragment:"\n#if defined( USE_ALBEDO )\n    vec4 texelColor = texture2D( albedo, vUvAlbedo );\n    texelColor = albedoTexelToLinear( texelColor );\n    diffuseColor *= texelColor;\n#endif\n",amrt_map_pars_fragment:"\n\n// struct MapData\n// {\n//     vec3 Normal;\n//     vec3 Albedo;\n//     float Emission;\n//     float Metallic;\n//     float Smoothness;\n//     float Occlusion;\n//     float Alpha;\n// };\n\n#ifdef USE_ALBEDO\n\n\tuniform sampler2D albedo;\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform float normalScale;\n\n#endif\n\n#ifdef USE_NORMALMAP2\n\n\tuniform sampler2D normalMap2;\n\tuniform float normalScale2;\n\n#endif\n\n#ifdef USE_METALLICMAP\n\n\tuniform sampler2D metallicMap;\n\n#endif\n\n#ifdef USE_ROUGHNESSMAP\n\n\tuniform sampler2D roughnessMap;\n\n#endif\n\n#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoScale;\n\n#endif\n\n#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n\n#ifdef USE_REFLECTMAP\n    #ifdef USE_REFLECTMAP_UV\n        uniform sampler2D reflectMap;\n    #else\n        uniform samplerCube reflectMap;\n    #endif\n\tuniform float reflectIntensity;\n\n#endif\n",amrt_metalnessmap_fragment:"\nfloat metalnessFactor = metalness;\n#if defined(USE_METALLICMAP)\n    metalnessFactor = metallicMapTexelToLinear(texture2D( metallicMap, vUvMetal )).r;\n#endif\n",amrt_normal_fragment_maps:"\n\n#if defined( USE_NORMALMAP ) || defined( USE_NORMALMAP2 )\n\n    #if defined( USE_NORMALMAP ) && defined( USE_NORMALMAP2 )\n        vec3 mapN = BlendNormals( UnpackScaleNormal(  normalMapTexelToLinear(texture2D( normalMap, vUvNormal )), normalScale ) , UnpackScaleNormal( normalMap2TexelToLinear(texture2D( normalMap2, vUvNormal2 )), normalScale2 ) );\n    #elif defined( USE_NORMALMAP )\n        vec3 mapN = normalize(UnpackScaleNormal( normalMapTexelToLinear(texture2D( normalMap, vUvNormal )), normalScale));\n    #elif defined( USE_NORMALMAP2 )\n        vec3 mapN = normalize(UnpackScaleNormal( normalMap2TexelToLinear(texture2D( normalMap2, vUvNormal2 )), normalScale2));\n    #endif\n    \n    #ifdef USE_TANGENT\n    \n        normal = normalize( vTBN * mapN );\n    \n    #else\n    \n        normal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n    \n    #endif\n    \n#endif\n",amrt_roughnessmap_fragment:"\n#if defined(USE_ROUGHNESSMAP)\n    roughnessFactor = roughnessMapTexelToLinear(texture2D( roughnessMap, vUvRough )).r;\n#endif\n",amrt_uv_pars_fragment:"\n\n#ifdef USE_ALBEDO\n\n\tvarying vec2 vUvAlbedo;\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tvarying vec2 vUvNormal;\n\n#endif\n\n#ifdef USE_NORMALMAP2\n\n\tvarying vec2 vUvNormal2;\n\n#endif\n\n#ifdef USE_METALLICMAP\n\n\tvarying vec2 vUvMetal;\n\n#endif\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvarying vec2 vUvRough;\n\n#endif\n\n#ifdef USE_AOMAP\n\n\tvarying vec2 vUvAO;\n\n#endif\n\n#ifdef USE_EMISSIVEMAP\n\n\tvarying vec2 vUvEmissive;\n\n#endif\n",amrt_uv_pars_vertex:"\n\nattribute vec2 uv2;\n\n#ifdef USE_ALBEDO\n\n\tvarying vec2 vUvAlbedo;\n\tuniform mat3 albedoUVTransform;\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tvarying vec2 vUvNormal;\n\tuniform mat3 normalUVTransform;\n\n#endif\n\n#ifdef USE_NORMALMAP2\n\n\tvarying vec2 vUvNormal2;\n\tuniform mat3 normal2UVTransform;\n\n#endif\n\n#ifdef USE_METALLICMAP\n\n\tvarying vec2 vUvMetal;\n\tuniform mat3 metalUVTransform;\n\n#endif\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvarying vec2 vUvRough;\n\tuniform mat3 roughUVTransform;\n\n#endif\n\n#ifdef USE_AOMAP\n\n\tvarying vec2 vUvAO;\n\tuniform mat3 aoUVTransform;\n\n#endif\n\n#ifdef USE_EMISSIVEMAP\n\n\tvarying vec2 vUvEmissive;\n\tuniform mat3 emissiveUVTransform;\n\n#endif\n\n",amrt_uv_vertex:"\n\n#ifdef USE_ALBEDO\n\t\n\t#ifdef ALBEDO_UV1\n\n\t\tvUvAlbedo = ( albedoUVTransform * vec3( uv, 1 ) ).xy;\n\n\t#else\n\n\t\tvUvAlbedo = ( albedoUVTransform * vec3( uv2, 1 ) ).xy;\n\n\t#endif\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n    vUvNormal = ( normalUVTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_NORMALMAP2\n\n    vUvNormal2 = ( normal2UVTransform * vec3( uv2, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_METALLICMAP\n\n    vUvMetal = ( metalUVTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_ROUGHNESSMAP\n    \n    vUvRough = ( roughUVTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_AOMAP\n\t\n\t#ifdef AO_UV1\n\n\t\tvUvAO = ( aoUVTransform * vec3( uv, 1 ) ).xy;\n\n\t#else\n\n\t\tvUvAO = ( aoUVTransform * vec3( uv2, 1 ) ).xy;\n\n\t#endif\n\n#endif\n\n#ifdef USE_EMISSIVEMAP\n\t\n\t#ifdef EMISSIVE_UV1\n\n\t\tvUvEmissive = ( emissiveUVTransform * vec3( uv, 1 ) ).xy;\n\n\t#else\n\n\t\tvUvEmissive = ( emissiveUVTransform * vec3( uv2, 1 ) ).xy;\n\n\t#endif\n\n#endif\n",amrt_worldpos_vertex:"\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_REFLECTMAP )\n\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\n\t#ifdef USE_INSTANCING\n\n\t\tworldPosition = instanceMatrix * worldPosition;\n\n\t#endif\n\n\tworldPosition = modelMatrix * worldPosition;\n#endif\n",amrt_envmap_physical_pars_fragment:"\n#if defined( USE_ENVMAP )\n\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\n\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\n        \n\n            vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\n\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\n\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#else\n\n\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\n\t\t#endif\n        \n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\n\t}\n\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n        float maxMIPLevelScalar = float( maxMIPLevel );\n\n        float sigma = PI * roughness * roughness / ( 1.0 + roughness ) + 0.000001;\n        float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n        // clamp to allowable LOD ranges.\n        return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n    \n\n\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in vec3 viewDir, const in vec3 normal, const in float roughness, const in float rroughness,const in int maxMIPLevel ) {\n        \n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\n\t\t  // Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\n\t\t#else\n\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\n\t\t#endif\n\n        #ifdef ENVMAP_TYPE_CUBE_UV\n\t\t    reflectVec = inverseTransformDirection( reflectVec, viewMatrixR );\n        #else\n            reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n        #endif\n        \n        reflectVec *= envYMatrix;\n        \n        float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\t\n            vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#endif\n\t\t\n\t\t\n\t\tenvMapColor = LinearTosRGB(envMapColor);\n\t\treturn envMapColor.rgb * envMapIntensity;\n\n\t}\n\n#endif\n",amrt_cube_uv_reflection_fragment:"\n#if defined(ENVMAP_TYPE_CUBE_UV) || defined(USE_REFLECTMAP_UV)\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\n// These shader functions convert between the UV coordinates of a single face of\n// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\n// sampling a textureCube (not generally normalized).\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n\nvec3 bilinearCubeUVR(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = reflectMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = reflectMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = reflectMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = reflectMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n\n// These defines must match with PMREMGenerator\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n\nvec4 textureCubeUVR(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUVR(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUVR(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif\n",amrt_lights_fragment_maps:"\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.normal, material.specularRoughness,roughnessFactor, maxMipLevel );\n\n\t#ifdef CLEARCOAT\n\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_REFLECTMAP )\n    vec3 reflectVec = reflect( -geometry.viewDir,  geometry.normal );\n   \n    #ifdef USE_REFLECTMAP_UV\n        reflectVec = inverseTransformDirection( reflectVec, viewMatrixR ); \n        vec4 reflectdiffuse = textureCubeUVR( reflectMap, reflectVec, 0.0 );\n        reflectdiffuse = LinearTosRGB(reflectdiffuse);\n        radiance += reflectdiffuse.rgb * reflectIntensity;\n    #else\n        reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n        reflectVec = vec3( -1.0 * reflectVec.x, reflectVec.yz );\n        vec4 reflectdiffuse = textureCube( reflectMap, reflectVec );\n        reflectdiffuse.rgb = reflectMapTexelToLinear(reflectdiffuse).rgb;\n        reflectdiffuse = LinearTosRGB(reflectdiffuse);\n        radiance += reflectdiffuse.rgb * reflectIntensity;\n    #endif\n#endif\n",amrt_bsdfs:'\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via \'environmentBRDF\' from "Physically Based Shading on Mobile"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tvec4 r = roughness * c0 + c1;\n\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\n}\n\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\n\tif( cutoffDistance > 0.0 ) {\n\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\n\t}\n\n\treturn distanceFalloff;\n\n#else\n\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n#endif\n\n}\n\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\n\treturn RECIPROCAL_PI * diffuseColor;\n\n} // validated\n\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\n\t// Original approximation by Christophe Schlick \'94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\n\t// Optimized variant (presented by Epic at SIGGRAPH \'13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n} // validated\n\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\n\t// See F_Schlick\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\n\treturn Fr * fresnel + F0;\n\n}\n\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\n\t// also see #12151\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\n\treturn 1.0 / ( gl * gv );\n\n} // validated\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\tfloat a2 = pow2( alpha );\n\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\n\treturn 0.5 / max( gv + gl, EPSILON );\n\n}\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\n}\n\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat alpha = pow2( roughness ); // UE4\'s roughness\n\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\n\tfloat D = D_GGX( alpha, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// Rect Area Light\n\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\n\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\tfloat dotNV = saturate( dot( N, V ) );\n\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\treturn uv;\n\n}\n\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\n\tfloat l = length( f );\n\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n\n}\n\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\n\tfloat x = dot( v1, v2 );\n\n\tfloat y = abs( x );\n\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\n\treturn cross( v1, v2 ) * theta_sintheta;\n\n}\n\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\n/*\n\t// alternate method of adjusting for horizon clipping (see referece)\n\t// refactoring required\n\tfloat len = length( vectorFormFactor );\n\tfloat z = vectorFormFactor.z / len;\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\t// tabulated horizon-clipped sphere, apparently...\n\tvec2 uv = vec2( z * 0.5 + 0.5, len );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\tfloat scale = texture2D( ltc_2, uv ).w;\n\n\tfloat result = len * scale;\n*/\n\n\treturn vec3( result );\n\n}\n\n// End Rect Area Light\n\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\n\treturn specularColor * brdf.x + brdf.y;\n\n} // validated\n\n// Fdez-Agüera\'s "Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\n\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\n\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n\n#if defined( USE_SHEEN )\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L94\nfloat D_Charlie(float roughness, float NoH) {\n\t// Estevez and Kulla 2017, "Production Friendly Microfacet Sheen BRDF"\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125); // 2^(-14/2), so sin2h^2 > 0 in fp16\n\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L136\nfloat V_Neubelt(float NoV, float NoL) {\n\t// Neubelt and Pettineo 2013, "Crafting a Next-gen Material Pipeline for The Order: 1886"\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\n\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n\n}\n\n#endif\n',amrt_lights_physical_fragment:"\nGeometricContext geometry;\n\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n\n#ifdef CLEARCOAT\n\n\tgeometry.clearcoatNormal = clearcoatNormal;\n\n#endif\n\n#if defined( USE_REFLECTMAP )\n    vec3 reflectVec = reflect( -geometry.viewDir,  geometry.normal );\n   \n    #ifdef USE_REFLECTMAP_UV\n        reflectVec = inverseTransformDirection( reflectVec, viewMatrixR );\n        reflectVec*=reflecYMatrix;\n        vec4 reflectdiffuse = textureCubeUVR( reflectMap, reflectVec, 0.0 );\n        reflectdiffuse = LinearTosRGB(reflectdiffuse);\n        diffuseColor.rgb += reflectdiffuse.rgb * reflectIntensity;\n    #else\n        reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n        reflectVec = vec3( -1.0 * reflectVec.x, reflectVec.yz );\n        reflectVec*=reflecYMatrix;\n        vec4 reflectdiffuse = textureCube( reflectMap, reflectVec );\n        reflectdiffuse.rgb = reflectMapTexelToLinear(reflectdiffuse).rgb;\n        reflectdiffuse = LinearTosRGB(reflectdiffuse);\n        diffuseColor.rgb += reflectdiffuse.rgb * reflectIntensity;\n    #endif\n#endif\n\nPhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor ) * 0.779083699;\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n\n#ifdef REFLECTIVITY\n\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\n#else\n\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\n#endif\n\n#ifdef CLEARCOAT\n\n\tmaterial.clearcoat = saturate( clearcoat ); // Burley clearcoat model\n\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n\n#endif\n#ifdef USE_SHEEN\n\n\tmaterial.sheenColor = sheen;\n\n#endif\n\nIncidentLight directLight;\n\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n        #ifdef TRANSPARENCY\n            directLight.color *= (1.0 - transparency);\n        #endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n        #ifdef TRANSPARENCY\n            directLight.color *= (1.0 - transparency);\n        #endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n        #ifdef TRANSPARENCY\n            directLight.color *= (1.0 - transparency);\n        #endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\n\tRectAreaLight rectAreaLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\tvec3 iblIrradiance = vec3( 0.0 );\n\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#ifdef TRANSPARENCY\n        irradiance *= (1.0 - transparency);\n    #endif\n\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t}\n\n\t#endif\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.normal, material.specularRoughness,roughnessFactor, maxMipLevel );\n\n\t#ifdef CLEARCOAT\n\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\n\t#endif\n\n#endif\n",background_frag:"\nuniform sampler2D t2D;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvec4 texColor = texture2D( t2D, vUv );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",background_vert:"\nvarying vec2 vUv;\nuniform mat3 uvTransform;\n\nvoid main() {\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n\n}\n",cube_frag:"\nuniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\n\nvarying vec3 vWorldDirection;\n\nvoid main() {\n\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",cube_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n}\n",depth_frag:"\n#if DEPTH_PACKING == 3200\n\n\tuniform float opacity;\n\n#endif\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tdiffuseColor.a = opacity;\n\n\t#endif\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\t#include <logdepthbuf_fragment>\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\n\t#elif DEPTH_PACKING == 3201\n\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\n\t#endif\n\n}\n",depth_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n}\n",distanceRGBA_frag:"\n#define DISTANCE\n\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main () {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist ); // clamp to [ 0, 1 ]\n\n\tgl_FragColor = packDepthToRGBA( dist );\n\n}\n",distanceRGBA_vert:"\n#define DISTANCE\n\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvWorldPosition = worldPosition.xyz;\n\n}\n",equirect_frag:"\nuniform sampler2D tEquirect;\n\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvec3 direction = normalize( vWorldDirection );\n\n\tvec2 sampleUV;\n\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",equirect_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n}\n",linedashed_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\nuniform float dashSize;\nuniform float totalSize;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\n\t\tdiscard;\n\n\t}\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\n\toutgoingLight = diffuseColor.rgb; // simple shader\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",linedashed_vert:"\nuniform float scale;\nattribute float lineDistance;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\n\tvLineDistance = scale * lineDistance;\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n",meshbasic_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\n\t// accumulation (baked indirect lighting only)\n\t#ifdef USE_LIGHTMAP\n\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\n\t#endif\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",meshbasic_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_ENVMAP\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshlambert_frag:"\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\n\t#endif\n\n\t#include <lightmap_fragment>\n\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\n\t#else\n\n\t\treflectedLight.directDiffuse = vLightFront;\n\n\t#endif\n\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"\n#define LAMBERT\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshmatcap_frag:"\n#define MATCAP\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\n\t#ifdef USE_MATCAP\n\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\n\t#else\n\n\t\tvec4 matcapColor = vec4( 1.0 );\n\n\t#endif\n\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",meshmatcap_vert:"\n#define MATCAP\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\t\tvNormal = normalize( transformedNormal );\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n}\n",meshphong_frag:"\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphong_vert:"\n#define PHONG\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshphysical_frag:"\n#define STANDARD\n\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t// this is a stub for the transparency model\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphysical_vert:"\n#define STANDARD\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",normal_frag:"\n#define NORMAL\n\nuniform float opacity;\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\n}\n",normal_vert:"\n#define NORMAL\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvViewPosition = - mvPosition.xyz;\n\n#endif\n\n}\n",points_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",points_vert:"\nuniform float size;\nuniform float scale;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\n\tgl_PointSize = size;\n\n\t#ifdef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\n\t#endif\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n\n}\n",shadow_frag:"\nuniform vec3 color;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n\nvoid main() {\n\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\n\t#include <fog_fragment>\n\n}\n",shadow_vert:"\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n\nvoid main() {\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",sprite_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",sprite_vert:"\nuniform float rotation;\nuniform vec2 center;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n\t#ifndef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\n\t#endif\n\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n",amrtbasic_vert:"\n#define STANDARD\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <amrt_uv_pars_vertex>\n\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <amrt_skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <amrt_uv_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <amrt_skinbase_vertex>\n\t#include <amrt_skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <amrt_skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <amrt_worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",amrtbasic_frag:"\n\nprecision mediump sampler2D;\n#define STANDARD\n\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\n#define REFLECTIVITY\n//#define TRANSPARENCY\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float smoothness;\nuniform float metalness;\nuniform float opacity;\nuniform mat3 envYMatrix;\nuniform mat3 reflecYMatrix;\n\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\nvec3 BlendNormals(vec3 n1, vec3 n2)\n{\n    return normalize(vec3(n1.xy + n2.xy, n1.z*n2.z));\n}\n\nvec3 UnpackScaleNormal(vec4 packednormal, float bumpScale)\n{\n    vec3 normal = packednormal.xyz * 2.0 - 1.0;\n    normal.xy *= bumpScale;\n    return normal;\n}\nfloat Pow5( const in float x ) { float x2 = x*x; return x2*x2*x; }\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <amrt_uv_pars_fragment>\n\n\nvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\n    vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n    vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n    \n    vec2 vUvs;\n    #if defined( USE_NORMALMAP2 )\n        vUvs = vUvNormal2;\n    #elif defined( USE_NORMALMAP )\n        vUvs = vUvNormal;\n    #endif\n    \n    vec2 st0 = dFdx( vUvs.st );\n    vec2 st1 = dFdy( vUvs.st );\n\n    float scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n    vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n    vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n    vec3 N = normalize( surf_norm );\n\n    mat3 tsn = mat3( S, T, N );\n\n    mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n    return normalize( tsn * mapN );\n\n}\n\n#include <amrt_map_pars_fragment>\n\n#include <amrt_bsdfs>\n#include <amrt_cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <amrt_envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n    float roughnessFactor = 1.0 - smoothness;\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <amrt_map_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <amrt_roughnessmap_fragment>\n\t#include <amrt_metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <amrt_normal_fragment_maps>\n\t\n\t#include <amrt_emissivemap_fragment>\n\n\t// accumulation\n\t#include <amrt_lights_physical_fragment>\n\t// #include <lights_fragment_begin>\n\t// #include <amrt_lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <amrt_aomap_fragment>\n\t\n    vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n    \n\t// this is a stub for the transparency model\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1.0 - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular));\n\t#endif\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}\n",acf_vert:"\n#ifdef USE_UV\n    varying vec2 vUv;\n#endif\n\nvoid main() {\n\n\t#ifdef USE_UV\n\n        vUv = uv;\n    \n    #endif\n\n\tvec4 mvPosition = vec4( position, 1.0 );\n    \n    mvPosition = modelViewMatrix * mvPosition;\n    \n    gl_Position = projectionMatrix * mvPosition;\n}\n",acf_frag:"\nuniform vec3 diffuse;\n\n#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n\nvoid main() {\n\n\tvec4 diffuseColor = vec4( diffuse, 1.0 );\n\n\t#ifdef USE_MAP\n        vec4 texelColor = texture2D( map, vUv );\n        diffuseColor *= texelColor;\n    #endif\n    \n\tgl_FragColor = diffuseColor;\n}\n",amrt_skinbase_vertex:"\n#ifdef USE_SKINNING\n\n        mat4 boneMatX = getBoneMatrix( skinIndex_4.x );\n        mat4 boneMatY = getBoneMatrix( skinIndex_4.y );\n        mat4 boneMatZ = getBoneMatrix( skinIndex_4.z );\n        mat4 boneMatW = getBoneMatrix( skinIndex_4.w );\n        \n        \n        #ifdef BONE_8\n            mat4 boneMatX_8 = getBoneMatrix( skinIndex_8.x );\n            mat4 boneMatY_8 = getBoneMatrix( skinIndex_8.y );\n            mat4 boneMatZ_8 = getBoneMatrix( skinIndex_8.z );\n            mat4 boneMatW_8 = getBoneMatrix( skinIndex_8.w );\n        #endif\n        \n        #ifdef BONE_12\n            mat4 boneMatX_12 = getBoneMatrix( skinIndex_12.x );\n            mat4 boneMatY_12 = getBoneMatrix( skinIndex_12.y );\n            mat4 boneMatZ_12 = getBoneMatrix( skinIndex_12.z );\n            mat4 boneMatW_12 = getBoneMatrix( skinIndex_12.w );\n        #endif\n        \n         #ifdef BONE_16\n            mat4 boneMatX_16 = getBoneMatrix( skinIndex_16.x );\n            mat4 boneMatY_16 = getBoneMatrix( skinIndex_16.y );\n            mat4 boneMatZ_16 = getBoneMatrix( skinIndex_16.z );\n            mat4 boneMatW_16 = getBoneMatrix( skinIndex_16.w );\n        #endif\n\n#endif\n",amrt_skinning_pars_vertex:"\n#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t\n    attribute vec4 skinIndex_4;\n\tattribute vec4 skinWeight_4;\n\t\n\t#ifdef BONE_8\n        attribute vec4 skinIndex_8;\n        attribute vec4 skinWeight_8;\n        \n\t#endif\n\t\n\t#ifdef BONE_12\n        attribute vec4 skinIndex_12;\n        attribute vec4 skinWeight_12;\n\t#endif\n\t\n\t#ifdef BONE_16\n        attribute vec4 skinIndex_16;\n        attribute vec4 skinWeight_16;\n\t#endif\n\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\t\t\n\t\tvec4 getSkinVertex(vec4 skinVertex, vec4 skinIndexTmp,vec4 skinWeightTmp){\n\t\t\n\t\t    mat4 boneMatX = getBoneMatrix( skinIndexTmp.x );\n            mat4 boneMatY = getBoneMatrix( skinIndexTmp.y );\n            mat4 boneMatZ = getBoneMatrix( skinIndexTmp.z );\n            mat4 boneMatW = getBoneMatrix( skinIndexTmp.w );\n            \n            vec4 skinned = vec4( 0.0 );\n\n            skinned += boneMatX * skinVertex * skinWeightTmp.x;\n            skinned += boneMatY * skinVertex * skinWeightTmp.y;\n            skinned += boneMatZ * skinVertex * skinWeightTmp.z;\n            skinned += boneMatW * skinVertex * skinWeightTmp.w;\n            return skinned;\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",amrt_skinning_vertex:"\n\n#ifdef USE_SKINNING\n\n        vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n        \n         vec4 skinned = vec4( 0.0 );\n        \n         skinned += boneMatX * skinVertex * skinWeight_4.x;\n         skinned += boneMatY * skinVertex * skinWeight_4.y;\n         skinned += boneMatZ * skinVertex * skinWeight_4.z;\n         skinned += boneMatW * skinVertex * skinWeight_4.w;\n         \n         #ifdef BONE_8\n            skinned += boneMatX_8 * skinVertex * skinWeight_8.x;\n            skinned += boneMatY_8 * skinVertex * skinWeight_8.y;\n            skinned += boneMatZ_8 * skinVertex * skinWeight_8.z;\n            skinned += boneMatW_8 * skinVertex * skinWeight_8.w;\n\n         #endif\n         \n         #ifdef BONE_12\n            skinned += boneMatX_12 * skinVertex * skinWeight_12.x;\n            skinned += boneMatY_12 * skinVertex * skinWeight_12.y;\n            skinned += boneMatZ_12 * skinVertex * skinWeight_12.z;\n            skinned += boneMatW_12 * skinVertex * skinWeight_12.w;\n         #endif\n         \n         #ifdef BONE_16\n            skinned += boneMatX_16 * skinVertex * skinWeight_16.x;\n            skinned += boneMatY_16 * skinVertex * skinWeight_16.y;\n            skinned += boneMatZ_16 * skinVertex * skinWeight_16.z;\n            skinned += boneMatW_16 * skinVertex * skinWeight_16.w;\n         #endif\n        \n         transformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n",amrt_skinnormal_vertex:"\n#ifdef USE_SKINNING\n\n\t mat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight_4.x * boneMatX;\n\tskinMatrix += skinWeight_4.y * boneMatY;\n\tskinMatrix += skinWeight_4.z * boneMatZ;\n\tskinMatrix += skinWeight_4.w * boneMatW;\n\t\n\t#ifdef BONE_8\n        skinMatrix += skinWeight_8.x * boneMatX_8;\n        skinMatrix += skinWeight_8.y * boneMatY_8;\n        skinMatrix += skinWeight_8.z * boneMatZ_8;\n        skinMatrix += skinWeight_8.w * boneMatW_8;\n\t#endif\n\t\n\t#ifdef BONE_12\n        skinMatrix += skinWeight_12.x * boneMatX_12;\n        skinMatrix += skinWeight_12.y * boneMatY_12;\n        skinMatrix += skinWeight_12.z * boneMatZ_12;\n        skinMatrix += skinWeight_12.w * boneMatW_12;\n\t#endif\n\t\n\t#ifdef BONE_16\n        skinMatrix += skinWeight_16.x * boneMatX_16;\n        skinMatrix += skinWeight_16.y * boneMatY_16;\n        skinMatrix += skinWeight_16.z * boneMatZ_16;\n        skinMatrix += skinWeight_16.w * boneMatW_16;\n\t#endif\n\t\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\t\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n\t#ifdef USE_TANGENT\n\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#endif\n\n#endif\n"},Nr={common:{diffuse:{value:new bn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new We},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new bn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new We}},sprite:{diffuse:{value:new bn(15658734)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new We}},amrtbasic:{diffuse:{value:new bn(.5,.5,.5)},opacity:{value:1},emissive:{value:new bn(0)},smoothness:{value:.5},metalness:{value:.5},transparency:{value:0},cutout:{value:1},albedo:{value:null},normalMap:{value:null},normalScale:{value:1},normalMap2:{value:null},normalScale2:{value:1},metallicMap:{value:null},roughnessMap:{value:null},aoMap:{value:null},aoScale:{value:1},emissiveMap:{value:null},reflectMap:{value:null},reflectIntensity:{value:0},envMapIntensity:{value:1},albedoUVTransform:{value:new We},normalUVTransform:{value:new We},normal2UVTransform:{value:new We},metalUVTransform:{value:new We},roughUVTransform:{value:new We},aoUVTransform:{value:new We},emissiveUVTransform:{value:new We}}},kr={basic:{uniforms:Ir([Nr.common,Nr.specularmap,Nr.envmap,Nr.aomap,Nr.lightmap,Nr.fog]),vertexShader:_r.meshbasic_vert,fragmentShader:_r.meshbasic_frag},lambert:{uniforms:Ir([Nr.common,Nr.specularmap,Nr.envmap,Nr.aomap,Nr.lightmap,Nr.emissivemap,Nr.fog,Nr.lights,{emissive:{value:new bn(0)}}]),vertexShader:_r.meshlambert_vert,fragmentShader:_r.meshlambert_frag},phong:{uniforms:Ir([Nr.common,Nr.specularmap,Nr.envmap,Nr.aomap,Nr.lightmap,Nr.emissivemap,Nr.bumpmap,Nr.normalmap,Nr.displacementmap,Nr.gradientmap,Nr.fog,Nr.lights,{emissive:{value:new bn(0)},specular:{value:new bn(1118481)},shininess:{value:30}}]),vertexShader:_r.meshphong_vert,fragmentShader:_r.meshphong_frag},standard:{uniforms:Ir([Nr.common,Nr.envmap,Nr.aomap,Nr.lightmap,Nr.emissivemap,Nr.bumpmap,Nr.normalmap,Nr.displacementmap,Nr.roughnessmap,Nr.metalnessmap,Nr.fog,Nr.lights,{emissive:{value:new bn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:_r.meshphysical_vert,fragmentShader:_r.meshphysical_frag},matcap:{uniforms:Ir([Nr.common,Nr.bumpmap,Nr.normalmap,Nr.displacementmap,Nr.fog,{matcap:{value:null}}]),vertexShader:_r.meshmatcap_vert,fragmentShader:_r.meshmatcap_frag},points:{uniforms:Ir([Nr.points,Nr.fog]),vertexShader:_r.points_vert,fragmentShader:_r.points_frag},dashed:{uniforms:Ir([Nr.common,Nr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_r.linedashed_vert,fragmentShader:_r.linedashed_frag},depth:{uniforms:Ir([Nr.common,Nr.displacementmap]),vertexShader:_r.depth_vert,fragmentShader:_r.depth_frag},normal:{uniforms:Ir([Nr.common,Nr.bumpmap,Nr.normalmap,Nr.displacementmap,{opacity:{value:1}}]),vertexShader:_r.normal_vert,fragmentShader:_r.normal_frag},sprite:{uniforms:Ir([Nr.sprite,Nr.fog]),vertexShader:_r.sprite_vert,fragmentShader:_r.sprite_frag},background:{uniforms:{uvTransform:{value:new We},t2D:{value:null}},vertexShader:_r.background_vert,fragmentShader:_r.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_r.cube_vert,fragmentShader:_r.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_r.equirect_vert,fragmentShader:_r.equirect_frag},distanceRGBA:{uniforms:Ir([Nr.common,Nr.displacementmap,{referencePosition:{value:new Ve},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_r.distanceRGBA_vert,fragmentShader:_r.distanceRGBA_frag},shadow:{uniforms:Ir([Nr.lights,Nr.fog,{color:{value:new bn(0)},opacity:{value:1}}]),vertexShader:_r.shadow_vert,fragmentShader:_r.shadow_frag},acf:{uniforms:{diffuse:{value:new bn(0)},map:{value:null}},vertexShader:_r.acf_vert,fragmentShader:_r.acf_frag}};function Gr(){var e=null,t=!1,n=null;function r(i,a){!1!==t&&(n(i,a),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Vr(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.usage,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback();var A=e.FLOAT;return r instanceof Float32Array?A=e.FLOAT:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?A=e.UNSIGNED_SHORT:r instanceof Int16Array?A=e.SHORT:r instanceof Uint32Array?A=e.UNSIGNED_INT:r instanceof Int32Array?A=e.INT:r instanceof Int8Array?A=e.BYTE:r instanceof Uint8Array&&(A=e.UNSIGNED_BYTE),{buffer:a,type:A,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,a=n.updateRange;e.bindBuffer(r,t),-1===a.count?e.bufferSubData(r,0,i):(e.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function zr(e,t,n,r){br.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new jr(e,t,n,r)),this.mergeVertices()}function jr(e,t,n,r){Jn.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,a,A=(e=e||1)/2,o=(t=t||1)/2,s=Math.floor(n)||1,l=Math.floor(r)||1,c=s+1,u=l+1,h=e/s,d=t/l,p=[],f=[],g=[],m=[];for(a=0;a<u;a++){var v=a*d-o;for(i=0;i<c;i++){var y=i*h-A;f.push(y,-v,0),g.push(0,0,1),m.push(i/s),m.push(1-a/l)}}for(a=0;a<l;a++)for(i=0;i<s;i++){var w=i+c*a,B=i+c*(a+1),x=i+1+c*(a+1),b=i+1+c*a;p.push(w,B,b),p.push(B,x,b)}this.setIndex(p),this.setAttribute("position",new _n(f,3)),this.setAttribute("normal",new _n(g,3)),this.setAttribute("uv",new _n(m,2))}function Wr(e,t,n,r){var i,a,A=new bn(0),o=0,s=null,l=0;function c(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return A},setClearColor:function(e,t){A.set(e),c(A,o=void 0!==t?t:1)},getClearAlpha:function(){return o},setClearAlpha:function(e){c(A,o=e)},render:function(t,r,u,h){var d=r.background,p=e.vr,f=p.getSession&&p.getSession();if(f&&"additive"===f.environmentBlendMode&&(d=null),null===d?(c(A,o),s=null,l=0):d&&d.isColor&&(c(d,1),h=!0,s=null,l=0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new gr(new Mr(1,1,1),new Sr({type:"BackgroundCubeMaterial",uniforms:Er(kr.cube.uniforms),vertexShader:kr.cube.vertexShader,fragmentShader:kr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var g=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=g,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,s===d&&l===g.version||(a.material.needsUpdate=!0,s=d,l=g.version),t.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===i&&((i=new gr(new jr(2,2),new Sr({type:"BackgroundMaterial",uniforms:Er(kr.background.uniforms),vertexShader:kr.background.vertexShader,fragmentShader:kr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),i.material.uniforms.uvTransform.value.copy(d.matrix),s===d&&l===d.version||(i.material.needsUpdate=!0,s=d,l=d.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Xr(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(r,A,o,s){if(0!==s){var l,c;if(a)l=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](i,A,o,s),n.update(o,i,s)}}}function Yr(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,A=void 0!==n.precision?n.precision:"highp",o=i(A);o!==A&&(console.warn("THREE.WebGLRenderer:",A,"not supported, using",o,"instead."),A=o);var s=!0===n.logarithmicDepthBuffer,l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),f=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),m=c>0,v=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:A,logarithmicDepthBuffer:s,maxTextures:l,maxVertexTextures:c,maxTextureSize:u,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:f,maxFragmentUniforms:g,vertexTextures:m,floatFragmentTextures:v,floatVertexTextures:m&&v,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function Kr(){var e=this,t=null,n=0,r=!1,i=!1,a=new sn,A=new We,o={value:null,needsUpdate:!1};function s(){o.value!==t&&(o.value=t,o.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function l(t,n,r,i){var s=null!==t?t.length:0,l=null;if(0!==s){if(l=o.value,!0!==i||null===l){var c=r+4*s,u=n.matrixWorldInverse;A.getNormalMatrix(u),(null===l||l.length<c)&&(l=new Float32Array(c));for(var h=0,d=r;h!==s;++h,d+=4)a.copy(t[h]).applyMatrix4(u,A),a.normal.toArray(l,d),l[d+3]=a.constant}o.value=l,o.needsUpdate=!0}return e.numPlanes=s,l}this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,a){var A=0!==e.length||i||0!==n||r;return r=i,t=l(e,a,0),n=e.length,A},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,s()},this.setState=function(e,a,A,c,u,h){if(!r||null===e||0===e.length||i&&!A)i?l(null):s();else{var d=i?0:n,p=4*d,f=u.clippingState||null;o.value=f,f=l(e,c,p,h);for(var g=0;g!==p;++g)f[g]=t[g];u.clippingState=f,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function Zr(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Jr(e,t,n){var r=new WeakMap,i=new WeakMap;function a(e){var A=e.target,o=r.get(A);for(var s in null!==o.index&&t.remove(o.index),o.attributes)t.remove(o.attributes[s]);A.removeEventListener("dispose",a),r.delete(A);var l=i.get(o);l&&(t.remove(l),i.delete(o)),n.memory.geometries--}function A(n){var r=[],a=n.index,A=n.attributes.position,o=0;if(null!==a){var s=a.array;o=a.version;for(var l=0,c=s.length;l<c;l+=3){var u=s[l+0],h=s[l+1],d=s[l+2];r.push(u,h,h,d,d,u)}}else{s=A.array;o=A.version;for(l=0,c=s.length/3-1;l<c;l+=3){u=l+0,h=l+1,d=l+2;r.push(u,h,h,d,d,u)}}var p=new(Vn(r)>65535?Hn:Qn)(r,1);p.version=o,t.update(p,e.ELEMENT_ARRAY_BUFFER);var f=i.get(n);f&&t.remove(f),i.set(n,p)}return{get:function(e,t){var i=r.get(t);return i||(t.addEventListener("dispose",a),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Jn).setFromObject(e)),i=t._bufferGeometry),r.set(t,i),n.memory.geometries++,i)},update:function(n){var r=n.index,i=n.attributes;for(var a in null!==r&&t.update(r,e.ELEMENT_ARRAY_BUFFER),i)t.update(i[a],e.ARRAY_BUFFER);var A=n.morphAttributes;for(var a in A)for(var o=A[a],s=0,l=o.length;s<l;s++)t.update(o[s],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&A(e)}else A(e);return i.get(e)}}}function qr(e,t,n,r){var i,a,A,o=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,A=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*A),n.update(r,i)},this.renderInstances=function(r,s,l,c){if(0!==c){var u,h;if(o)u=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](i,l,a,s*A,c),n.update(l,i,c)}}}function $r(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(i=i||1,t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.TRIANGLE_STRIP:case e.TRIANGLE_FAN:t.triangles+=i*(n-2);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function ei(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ti(e){var t={},n=new Float32Array(8);return{update:function(r,i,a,A){var o=r.morphTargetInfluences,s=o.length,l=t[i.id];if(void 0===l){l=[];for(var c=0;c<s;c++)l[c]=[c,0];t[i.id]=l}var u=a.morphTargets&&i.morphAttributes.position,h=a.morphNormals&&i.morphAttributes.normal;for(c=0;c<s;c++){0!==(p=l[c])[1]&&(u&&i.deleteAttribute("morphTarget"+c),h&&i.deleteAttribute("morphNormal"+c))}for(c=0;c<s;c++){(p=l[c])[0]=c,p[1]=o[c]}l.sort(ei);var d=0;for(c=0;c<8;c++){var p;if(p=l[c]){var f=p[0],g=p[1];if(g){u&&i.setAttribute("morphTarget"+c,u[f]),h&&i.setAttribute("morphNormal"+c,h[f]),n[c]=g,d+=g;continue}}n[c]=0}var m=i.morphTargetsRelative?1:1-d;A.getUniforms().setValue(e,"morphTargetBaseInfluence",m),A.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function ni(e,t,n,r){var i={};return{update:function(a){var A=r.render.frame,o=a.geometry,s=t.get(a,o);return i[s.id]!==A&&(o.isGeometry&&s.updateFromObject(a),t.update(s),i[s.id]=A),a.isInstancedMesh&&n.update(a.instanceMatrix,e.ARRAY_BUFFER),s},dispose:function(){i={}}}}function ri(e,t,n,r,i,a,A,o,s,l){e=void 0!==e?e:[],t=void 0!==t?t:F,A=void 0!==A?A:Z,nt.call(this,e,t,n,r,i,a,A,o,s,l),this.flipY=!1}function ii(e,t,n,r){nt.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=H,this.minFilter=H,this.wrapR=Q,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function ai(e,t,n,r){nt.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=H,this.minFilter=H,this.wrapR=Q,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}kr.physical={uniforms:Ir([kr.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new bn(0)},clearcoatNormalScale:{value:new _e(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:_r.meshphysical_vert,fragmentShader:_r.meshphysical_frag},kr.amrtbasic={uniforms:Ir([Nr.envmap,Nr.amrtbasic,Nr.fog,Nr.lights,{envYMatrix:{value:new We},reflecYMatrix:{value:new We}}]),vertexShader:_r.amrtbasic_vert,fragmentShader:_r.amrtbasic_frag},zr.prototype=Object.create(br.prototype),zr.prototype.constructor=zr,jr.prototype=Object.create(Jn.prototype),jr.prototype.constructor=jr,ri.prototype=Object.create(nt.prototype),ri.prototype.constructor=ri,ri.prototype.isCubeTexture=!0,Object.defineProperty(ri.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),ii.prototype=Object.create(nt.prototype),ii.prototype.constructor=ii,ii.prototype.isDataTexture2DArray=!0,ai.prototype=Object.create(nt.prototype),ai.prototype.constructor=ai,ai.prototype.isDataTexture3D=!0;var Ai=new nt,oi=new ii,si=new ai,li=new ri,ci=[],ui=[],hi=new Float32Array(16),di=new Float32Array(9),pi=new Float32Array(4);function fi(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=ci[i];if(void 0===a&&(a=new Float32Array(i),ci[i]=a),0!==t){r.toArray(a,0);for(var A=1,o=0;A!==t;++A)o+=n,e[A].toArray(a,o)}return a}function gi(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function mi(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function vi(e,t){var n=ui[t];void 0===n&&(n=new Int32Array(t),ui[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function yi(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function wi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(gi(n,t))return;e.uniform2fv(this.addr,t),mi(n,t)}}function Bi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(gi(n,t))return;e.uniform3fv(this.addr,t),mi(n,t)}}function xi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(gi(n,t))return;e.uniform4fv(this.addr,t),mi(n,t)}}function bi(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(gi(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),mi(n,t)}else{if(gi(n,r))return;pi.set(r),e.uniformMatrix2fv(this.addr,!1,pi),mi(n,r)}}function Ci(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(gi(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),mi(n,t)}else{if(gi(n,r))return;di.set(r),e.uniformMatrix3fv(this.addr,!1,di),mi(n,r)}}function Mi(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(gi(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),mi(n,t)}else{if(gi(n,r))return;hi.set(r),e.uniformMatrix4fv(this.addr,!1,hi),mi(n,r)}}function Ei(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||Ai,i)}function Ii(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||oi,i)}function Ti(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||si,i)}function Si(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||li,i)}function Fi(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ui(e,t){var n=this.cache;gi(n,t)||(e.uniform2iv(this.addr,t),mi(n,t))}function Li(e,t){var n=this.cache;gi(n,t)||(e.uniform3iv(this.addr,t),mi(n,t))}function Ri(e,t){var n=this.cache;gi(n,t)||(e.uniform4iv(this.addr,t),mi(n,t))}function Pi(e,t){e.uniform1fv(this.addr,t)}function Di(e,t){e.uniform1iv(this.addr,t)}function Qi(e,t){e.uniform2iv(this.addr,t)}function Oi(e,t){e.uniform3iv(this.addr,t)}function Hi(e,t){e.uniform4iv(this.addr,t)}function _i(e,t){var n=fi(t,this.size,2);e.uniform2fv(this.addr,n)}function Ni(e,t){var n=fi(t,this.size,3);e.uniform3fv(this.addr,n)}function ki(e,t){var n=fi(t,this.size,4);e.uniform4fv(this.addr,n)}function Gi(e,t){var n=fi(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Vi(e,t){var n=fi(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function zi(e,t){var n=fi(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ji(e,t,n){var r=t.length,i=vi(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||Ai,i[a])}function Wi(e,t,n){var r=t.length,i=vi(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||li,i[a])}function Xi(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return yi;case 35664:return wi;case 35665:return Bi;case 35666:return xi;case 35674:return bi;case 35675:return Ci;case 35676:return Mi;case 35678:case 36198:return Ei;case 35679:return Ti;case 35680:return Si;case 36289:return Ii;case 5124:case 35670:return Fi;case 35667:case 35671:return Ui;case 35668:case 35672:return Li;case 35669:case 35673:return Ri}}(t.type)}function Yi(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Pi;case 35664:return _i;case 35665:return Ni;case 35666:return ki;case 35674:return Gi;case 35675:return Vi;case 35676:return zi;case 35678:return ji;case 35680:return Wi;case 5124:case 35670:return Di;case 35667:case 35671:return Qi;case 35668:case 35672:return Oi;case 35669:case 35673:return Hi}}(t.type)}function Ki(e){this.id=e,this.seq=[],this.map={}}Yi.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),mi(t,e)},Ki.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var A=r[i];A.setValue(e,t[A.id],n)}};var Zi=/([\w\d_]+)(\])?(\[|\.)?/g;function Ji(e,t){e.seq.push(t),e.map[t.id]=t}function qi(e,t,n){var r=e.name,i=r.length;for(Zi.lastIndex=0;;){var a=Zi.exec(r),A=Zi.lastIndex,o=a[1],s="]"===a[2],l=a[3];if(s&&(o|=0),void 0===l||"["===l&&A+2===i){Ji(n,void 0===l?new Xi(o,e,t):new Yi(o,e,t));break}var c=n.map[o];void 0===c&&Ji(n,c=new Ki(o)),n=c}}function $i(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;++r){var i=e.getActiveUniform(t,r);qi(i,e.getUniformLocation(t,i.name),this)}}function ea(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}$i.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},$i.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},$i.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var A=t[i],o=n[A.id];!1!==o.needsUpdate&&A.setValue(e,o.value,r)}},$i.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var ta=0;function na(e){switch(e){case xe:return["Linear","( value )"];case be:return["sRGB","( value )"];case Me:return["RGBE","( value )"];case Ee:return["RGBM","( value, 7.0 )"];case Ie:return["RGBM","( value, 16.0 )"];case Te:return["RGBD","( value, 256.0 )"];case Ce:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function ra(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function ia(e,t){var n=na(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function aa(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Aa(e){return""!==e}function oa(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function sa(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var la=/^[ \t]*#include +<([\w\d./]+)>/gm;function ca(e){return e.replace(la,ua)}function ua(e,t){var n=_r[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ca(n)}var ha=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function da(e){return e.replace(ha,pa)}function pa(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function fa(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ga(e,t,n,r,i,a){var A,o,s,l,c,u=e.getContext(),h=r.defines,d=i.vertexShader,p=i.fragmentShader,f=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(a),g=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case F:case U:t="ENVMAP_TYPE_CUBE";break;case R:case P:t="ENVMAP_TYPE_CUBE_UV";break;case 303:case L:t="ENVMAP_TYPE_EQUIREC";break;case 305:t="ENVMAP_TYPE_SPHERE"}return t}(a),m=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case U:case L:t="ENVMAP_MODE_REFRACTION"}return t}(a),v=function(e){var t="ENVMAP_BLENDING_MULTIPLY";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(a),y=e.gammaFactor>0?e.gammaFactor:1,w=a.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||!t.vertexTangents?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":"",n.get("OES_texture_half_float")?"#extension OES_texture_half_float : enable":""].filter(Aa).join("\n")}(r.extensions,a,t),B=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(h),x=u.createProgram(),b=a.numMultiviewViews;if(r.isRawShaderMaterial?((A=[B].filter(Aa).join("\n")).length>0&&(A+="\n"),(o=[w,B].filter(Aa).join("\n")).length>0&&(o+="\n")):(A=[fa(a),"#define SHADER_NAME "+i.name,B,a.instancing?"#define USE_INSTANCING":"",a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+f:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.albedo?"#define USE_ALBEDO":"",1===a.albedoUV?"#define ALBEDO_UV2":"#define ALBEDO_UV1",a.normalMap2?"#define USE_NORMALMAP2":"",a.metallicMap?"#define USE_METALLICMAP":"",1===a.aoUV?"#define AO_UV2":"#define AO_UV1",1===a.emissiveUV?"#define EMISSIVE_UV2":"#define EMISSIVE_UV1",a.reflectMap?"#define USE_REFLECTMAP":"",a.boneNum>4?"#define BONE_8":"",a.boneNum>8?"#define BONE_12":"",a.boneNum>12?"#define BONE_16":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","\n"].filter(Aa).join("\n"),o=[w,fa(a),"#define SHADER_NAME "+i.name,B,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+g:"",a.envMap?"#define "+m:"",a.envMap?"#define "+v:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.sheen?"#define USE_SHEEN":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+f:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensions&&r.extensions.shaderTextureLOD||a.envMap||a.reflectMap)&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform mat4 viewMatrixR;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?_r.tonemapping_pars_fragment:"",0!==a.toneMapping?aa("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?_r.encodings_pars_fragment:"",a.mapEncoding?ia("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?ia("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?ia("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?ia("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(s="linearToOutputTexel",l=a.outputEncoding,c=na(l),"vec4 "+s+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"):"",a.albedoEncoding?ia("albedoTexelToLinear",a.albedoEncoding):"",a.normalMapEncoding?ia("normalMapTexelToLinear",a.normalMapEncoding):"",a.normalMap2Encoding?ia("normalMap2TexelToLinear",a.normalMap2Encoding):"",a.metallicMapEncoding?ia("metallicMapTexelToLinear",a.metallicMapEncoding):"",a.roughnessMapEncoding?ia("roughnessMapTexelToLinear",a.roughnessMapEncoding):"",a.aoMapEncoding?ia("aoMapTexelToLinear",a.aoMapEncoding):"",a.reflectMapEncoding?ia("reflectMapTexelToLinear",a.reflectMapEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",a.albedo?"#define USE_ALBEDO":"",1===a.albedoUV?"#define ALBEDO_UV2":"#define ALBEDO_UV1",a.normalMap2?"#define USE_NORMALMAP2":"",a.metallicMap?"#define USE_METALLICMAP":"",1===a.aoUV?"#define AO_UV2":"#define AO_UV1",1===a.emissiveUV?"#define EMISSIVE_UV2":"#define EMISSIVE_UV1",a.reflectMap?"#define USE_REFLECTMAP":"",a.reflectMapUV?"#define USE_REFLECTMAP_UV":"",a.transparency?"#define TRANSPARENCY":"","\n"].filter(Aa).join("\n")),d=sa(d=oa(d=ca(d),a),a),p=sa(p=oa(p=ca(p),a),a),d=da(d),p=da(p),a.isWebGL2&&!r.isRawShaderMaterial){var C=!1,M=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==d.match(M)&&null!==p.match(M)&&(C=!0,d=d.replace(M,""),p=p.replace(M,"")),A=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+A,o=["#version 300 es\n","#define varying in",C?"":"out highp vec4 pc_fragColor;",C?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o,b>0&&(A=(A=A.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+b+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+b+"];","uniform mat4 projectionMatrices["+b+"];","uniform mat4 viewMatrices["+b+"];","uniform mat3 normalMatrices["+b+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),o=(o=o.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+b+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var E,I,T=A+d,S=o+p,D=ea(u,u.VERTEX_SHADER,T),Q=ea(u,u.FRAGMENT_SHADER,S);if(u.attachShader(x,D),u.attachShader(x,Q),void 0!==r.index0AttributeName?u.bindAttribLocation(x,0,r.index0AttributeName):!0===a.morphTargets&&u.bindAttribLocation(x,0,"position"),u.linkProgram(x),e.debug.checkShaderErrors){var O=u.getProgramInfoLog(x).trim(),H=u.getShaderInfoLog(D).trim(),_=u.getShaderInfoLog(Q).trim(),N=!0,k=!0;if(!1===u.getProgramParameter(x,u.LINK_STATUS)){N=!1;var G=ra(u,D,"vertex"),V=ra(u,Q,"fragment");console.error("THREE.WebGLProgram: shader error: ",u.getError(),"gl.VALIDATE_STATUS",u.getProgramParameter(x,u.VALIDATE_STATUS),"gl.getProgramInfoLog",O,G,V)}else""!==O?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",O):""!==H&&""!==_||(k=!1);k&&(this.diagnostics={runnable:N,material:r,programLog:O,vertexShader:{log:H,prefix:A},fragmentShader:{log:_,prefix:o}})}return u.deleteShader(D),u.deleteShader(Q),this.getUniforms=function(){return void 0===E&&(E=new $i(u,x)),E},this.getAttributes=function(){return void 0===I&&(I=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(u,x)),I},this.destroy=function(){u.deleteProgram(x),this.program=void 0},this.name=i.name,this.id=ta++,this.cacheKey=n,this.usedTimes=1,this.program=x,this.vertexShader=D,this.fragmentShader=Q,this.numMultiviewViews=b,this}function ma(e,t,n){var r=[],i=n.isWebGL2,a=n.logarithmicDepthBuffer,A=n.floatVertexTextures,o=n.precision,s=n.maxVertexUniforms,l=n.vertexTextures,c={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite",AMRTBasicMaterial:"amrtbasic",ACFBasicMaterial:"acf"},u=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","albedo","albedoEncoding","albedoUV","normalMap2","metallicMap","aoUV","emissiveUV","reflectMap","reflectMapUV","reflectMapEncoding","normalMapEncoding","normalMap2Encoding","metallicMapEncoding","roughnessMapEncoding","aoMapEncoding","transparency","boneNum"];function h(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=xe,n===xe&&t&&(n=Ce),n}this.getParameters=function(t,r,u,d,p,f,g){var m=c[t.type],v=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(A)return 1024;var n=s,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0,y=g.boneNum?g.boneNum:0;null!==t.precision&&(o=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",o,"instead.");var w=e.getRenderTarget(),B=w&&w.isWebGLMultiviewRenderTarget?w.numViews:0;return{isWebGL2:i,shaderID:m,precision:o,instancing:!0===g.isInstancedMesh,supportsVertexTextures:l,numMultiviewViews:B,outputEncoding:h(w?w.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:h(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:h(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:h(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===R||t.envMap.mapping===P),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:h(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,tangentSpaceNormalMap:0===t.normalMapType,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||t.displacementMap),uvsVertexOnly:!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||!t.displacementMap),fog:!!d,useFog:t.fog,fogExp2:d&&d.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:a,skinning:t.skinning&&v>0,maxBones:v,useVertexTexture:A,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numDirLightShadows:r.directionalShadowMap.length,numPointLightShadows:r.pointShadowMap.length,numSpotLightShadows:r.spotShadowMap.length,numClippingPlanes:p,numClipIntersection:f,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking,albedo:!!t.albedo,albedoUV:t.albedoUV,normalMap2:!!t.normalMap2,metallicMap:!!t.metallicMap,aoUV:t.aoUV,emissiveUV:t.emissiveUV,reflectMap:!!t.reflectMap,reflectMapUV:!!t.reflectMap&&!t.reflectMap.isCubeTexture,aoMapEncoding:h(t.aoMap,e.gammaInput),roughnessMapEncoding:h(t.roughnessMap,e.gammaInput),metallicMapEncoding:h(t.metallicMap,e.gammaInput),normalMapEncoding:h(t.normalMap,e.gammaInput),normalMap2Encoding:h(t.normalMap2,e.gammaInput),albedoEncoding:h(t.albedo,e.gammaInput),reflectMapEncoding:h(t.reflectMap,e.gammaInput),transparency:void 0!==t.transparency&&t.transparency>0,boneNum:y}},this.getProgramCacheKey=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var a=0;a<u.length;a++)r.push(n[u[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(n,i,a,A){for(var o,s=0,l=r.length;s<l;s++){var c=r[s];if(c.cacheKey===A){++(o=c).usedTimes;break}}return void 0===o&&(o=new ga(e,t,A,n,i,a),r.push(o)),o},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function va(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function ya(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function wa(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ba(){var e=[],t=0,n=[],r=[],i={id:-1};function a(n,r,a,A,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:a,program:a.program||i,groupOrder:A,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=a,l.program=a.program||i,l.groupOrder=A,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,i,A,o,s){var l=a(e,t,i,A,o,s);(!0===i.transparent?r:n).push(l)},unshift:function(e,t,i,A,o,s){var l=a(e,t,i,A,o,s);(!0===i.transparent?r:n).unshift(l)},sort:function(){n.length>1&&n.sort(ya),r.length>1&&r.sort(wa)}}}function xa(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i,a=e.get(n);return void 0===a?(i=new Ba,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):void 0===(i=a.get(r))&&(i=new Ba,a.set(r,i)),i},dispose:function(){e=new WeakMap}}}function ba(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Ve,color:new bn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"SpotLight":n={position:new Ve,direction:new Ve,color:new bn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":n={position:new Ve,color:new bn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new Ve,skyColor:new bn,groundColor:new bn};break;case"RectAreaLight":n={color:new bn,position:new Ve,halfWidth:new Ve,halfHeight:new Ve}}return e[t.id]=n,n}}}var Ca=0;function Ma(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ea(){for(var e=new ba,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)t.probe.push(new Ve);var r=new Ve,i=new dt,a=new dt;return{setup:function(n,A,o){for(var s=0,l=0,c=0,u=0;u<9;u++)t.probe[u].set(0,0,0);var h=0,d=0,p=0,f=0,g=0,m=0,v=0,y=0,w=o.matrixWorldInverse;n.sort(Ma),u=0;for(var B=n.length;u<B;u++){var x=n[u],b=x.color,C=x.intensity,M=x.distance,E=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)s+=b.r*C,l+=b.g*C,c+=b.b*C;else if(x.isLightProbe)for(var I=0;I<9;I++)t.probe[I].addScaledVector(x.sh.coefficients[I],C);else if(x.isDirectionalLight){if((S=e.get(x)).color.copy(x.color).multiplyScalar(x.intensity),S.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(w),S.shadow=x.castShadow,x.castShadow){var T=x.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,t.directionalShadowMap[h]=E,t.directionalShadowMatrix[h]=x.shadow.matrix,m++}t.directional[h]=S,h++}else if(x.isSpotLight){if((S=e.get(x)).position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(w),S.color.copy(b).multiplyScalar(C),S.distance=M,S.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(w),S.coneCos=Math.cos(x.angle),S.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),S.decay=x.decay,S.shadow=x.castShadow,x.castShadow){T=x.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,t.spotShadowMap[p]=E,t.spotShadowMatrix[p]=x.shadow.matrix,y++}t.spot[p]=S,p++}else if(x.isRectAreaLight){(S=e.get(x)).color.copy(b).multiplyScalar(C),S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(w),a.identity(),i.copy(x.matrixWorld),i.premultiply(w),a.extractRotation(i),S.halfWidth.set(.5*x.width,0,0),S.halfHeight.set(0,.5*x.height,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),t.rectArea[f]=S,f++}else if(x.isPointLight){if((S=e.get(x)).position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(w),S.color.copy(x.color).multiplyScalar(x.intensity),S.distance=x.distance,S.decay=x.decay,S.shadow=x.castShadow,x.castShadow){T=x.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,S.shadowCameraNear=T.camera.near,S.shadowCameraFar=T.camera.far,t.pointShadowMap[d]=E,t.pointShadowMatrix[d]=x.shadow.matrix,v++}t.point[d]=S,d++}else if(x.isHemisphereLight){var S;(S=e.get(x)).direction.setFromMatrixPosition(x.matrixWorld),S.direction.transformDirection(w),S.direction.normalize(),S.skyColor.copy(x.color).multiplyScalar(C),S.groundColor.copy(x.groundColor).multiplyScalar(C),t.hemi[g]=S,g++}}t.ambient[0]=s,t.ambient[1]=l,t.ambient[2]=c;var F=t.hash;F.directionalLength===h&&F.pointLength===d&&F.spotLength===p&&F.rectAreaLength===f&&F.hemiLength===g&&F.numDirectionalShadows===m&&F.numPointShadows===v&&F.numSpotShadows===y||(t.directional.length=h,t.spot.length=p,t.rectArea.length=f,t.point.length=d,t.hemi.length=g,t.directionalShadowMap.length=m,t.pointShadowMap.length=v,t.spotShadowMap.length=y,t.directionalShadowMatrix.length=m,t.pointShadowMatrix.length=v,t.spotShadowMatrix.length=y,F.directionalLength=h,F.pointLength=d,F.spotLength=p,F.rectAreaLength=f,F.hemiLength=g,F.numDirectionalShadows=m,F.numPointShadows=v,F.numSpotShadows=y,t.version=Ca++)},state:t}}function Ia(){var e=new Ea,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Ta(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i;return!1===e.has(n)?(i=new Ia,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):!1===e.get(n).has(r)?(i=new Ia,e.get(n).set(r,i)):i=e.get(n).get(r),i},dispose:function(){e=new WeakMap}}}function Sa(e){Sn.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Fa(e){Sn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ve,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Sa.prototype=Object.create(Sn.prototype),Sa.prototype.constructor=Sa,Sa.prototype.isMeshDepthMaterial=!0,Sa.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Fa.prototype=Object.create(Sn.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isMeshDistanceMaterial=!0,Fa.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Ua(e,t,n){var r=new Hr,i=new _e,a=new _e,A=new rt,o=[],s=[],l={},c={0:1,1:0,2:2},u=new Sr({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:"\n\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n\n",fragmentShader:"\nuniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n\n#include <packing>\n\nvoid main() {\n\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\n\t// This seems totally useless but it's a crazy work around for a Adreno compiler bug\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\n    #ifdef HORIZONAL_PASS\n\n      vec2 distribution = unpack2HalfToRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\n    #else\n\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n\n    #endif\n\n  }\n\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n\n  float std_dev = sqrt( squared_mean - mean * mean );\n\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n\n}\n"}),h=u.clone();h.defines.HORIZONAL_PASS=1;var d=new Jn;d.setAttribute("position",new Un(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new gr(d,u),f=this;function g(n,r){var i=t.update(p);u.uniforms.shadow_pass.value=n.map.texture,u.uniforms.resolution.value=n.mapSize,u.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,u,p,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,p,null)}function m(e,t,n){var r=e<<0|t<<1|n<<2,i=o[r];return void 0===i&&(i=new Sa({depthPacking:Se,morphTargets:e,skinning:t}),o[r]=i),i}function v(e,t,n){var r=e<<0|t<<1|n<<2,i=s[r];return void 0===i&&(i=new Fa({morphTargets:e,skinning:t}),s[r]=i),i}function y(t,n,r,i,a,A){var o=t.geometry,s=null,u=m,h=t.customDepthMaterial;if(!0===r.isPointLight&&(u=v,h=t.customDistanceMaterial),void 0===h){var d=!1;!0===n.morphTargets&&(!0===o.isBufferGeometry?d=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:!0===o.isGeometry&&(d=o.morphTargets&&o.morphTargets.length>0));var p=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),s=u(d,p,!0===t.isInstancedMesh)}else s=h;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=s.uuid,g=n.uuid,y=l[f];void 0===y&&(y={},l[f]=y);var w=y[g];void 0===w&&(w=s.clone(),y[g]=w),s=w}return s.visible=n.visible,s.wireframe=n.wireframe,s.side=3===A?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:c[n.side],s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===r.isPointLight&&!0===s.isMeshDistanceMaterial&&(s.referencePosition.setFromMatrixPosition(r.matrixWorld),s.nearDistance=i,s.farDistance=a),s}function w(n,i,a,A,o){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===o)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=t.update(n),l=n.material;if(Array.isArray(l))for(var c=s.groups,u=0,h=c.length;u<h;u++){var d=c[u],p=l[d.materialIndex];if(p&&p.visible){var f=y(n,p,A,a.near,a.far,o);e.renderBufferDirect(a,null,s,f,n,d)}}else if(l.visible){f=y(n,l,A,a.near,a.far,o);e.renderBufferDirect(a,null,s,f,n,null)}}for(var g=n.children,m=0,v=g.length;m<v;m++)w(g[m],i,a,A,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,o,s){if(!1!==f.enabled&&(!1!==f.autoUpdate||!1!==f.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),c=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var m=t[d],v=m.shadow;if(void 0!==v){i.copy(v.mapSize);var y=v.getFrameExtents();if(i.multiply(y),a.copy(v.mapSize),(i.x>n||i.y>n)&&(console.warn("THREE.WebGLShadowMap:",m,"has shadow exceeding max texture size, reducing"),i.x>n&&(a.x=Math.floor(n/y.x),i.x=a.x*y.x,v.mapSize.x=a.x),i.y>n&&(a.y=Math.floor(n/y.y),i.y=a.y*y.y,v.mapSize.y=a.y)),null===v.map&&!v.isPointLightShadow&&3===this.type){var B={minFilter:k,magFilter:k,format:J};v.map=new it(i.x,i.y,B),v.map.texture.name=m.name+".shadowMap",v.mapPass=new it(i.x,i.y,B),v.camera.updateProjectionMatrix()}if(null===v.map){B={minFilter:H,magFilter:H,format:J};v.map=new it(i.x,i.y,B),v.map.texture.name=m.name+".shadowMap",v.camera.updateProjectionMatrix()}e.setRenderTarget(v.map),e.clear();for(var x=v.getViewportCount(),b=0;b<x;b++){var C=v.getViewport(b);A.set(a.x*C.x,a.y*C.y,a.x*C.z,a.y*C.w),h.viewport(A),v.updateMatrices(m,b),r=v.getFrustum(),w(o,s,v.camera,m,this.type)}v.isPointLightShadow||3!==this.type||g(v,s)}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}f.needsUpdate=!1,e.setRenderTarget(l,c,u)}}}function La(e,t,n){var r,i,a=n.isWebGL2;var A=new function(){var t=!1,n=new rt,r=null,i=new rt(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,A,o){!0===o&&(t*=A,r*=A,a*=A),n.set(t,r,a,A),!1===i.equals(n)&&(e.clearColor(t,r,a,A),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?j(e.DEPTH_TEST):W(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,A=null,o=null,s=null,l=null;return{setTest:function(n){t||(n?j(e.STENCIL_TEST):W(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,A){r===t&&i===n&&a===A||(e.stencilFunc(t,n,A),r=t,i=n,a=A)},setOp:function(t,n,r){A===t&&o===n&&s===r||(e.stencilOp(t,n,r),A=t,o=n,s=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,A=null,o=null,s=null,l=null}}},c=e.getParameter(e.MAX_VERTEX_ATTRIBS),u=new Uint8Array(c),h=new Uint8Array(c),d=new Uint8Array(c),p={},f=null,g=null,m=null,v=null,y=null,w=null,B=null,x=null,b=null,C=!1,S=null,F=null,U=null,L=null,R=null,P=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),D=!1,Q=0,O=e.getParameter(e.VERSION);-1!==O.indexOf("WebGL")?(Q=parseFloat(/^WebGL\ ([0-9])/.exec(O)[1]),D=Q>=1):-1!==O.indexOf("OpenGL ES")&&(Q=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(O)[1]),D=Q>=2);var H=null,_={},N=new rt,k=new rt;function G(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var A=0;A<r;A++)e.texImage2D(n+A,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return a}var V={};function z(n,r){(u[n]=1,0===h[n]&&(e.enableVertexAttribArray(n),h[n]=1),d[n]!==r)&&((a?e:t.get("ANGLE_instanced_arrays"))[a?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),d[n]=r)}function j(t){!0!==p[t]&&(e.enable(t),p[t]=!0)}function W(t){!1!==p[t]&&(e.disable(t),p[t]=!1)}V[e.TEXTURE_2D]=G(e.TEXTURE_2D,e.TEXTURE_2D,1),V[e.TEXTURE_CUBE_MAP]=G(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),A.setClear(0,0,0,1),s.setClear(1),l.setClear(0),j(e.DEPTH_TEST),s.setFunc(3),J(!1),q(1),j(e.CULL_FACE),Z(0);var X=(o(r={},M,e.FUNC_ADD),o(r,101,e.FUNC_SUBTRACT),o(r,102,e.FUNC_REVERSE_SUBTRACT),r);if(a)X[103]=e.MIN,X[104]=e.MAX;else{var Y=t.get("EXT_blend_minmax");null!==Y&&(X[103]=Y.MIN_EXT,X[104]=Y.MAX_EXT)}var K=(o(i={},200,e.ZERO),o(i,E,e.ONE),o(i,202,e.SRC_COLOR),o(i,I,e.SRC_ALPHA),o(i,210,e.SRC_ALPHA_SATURATE),o(i,208,e.DST_COLOR),o(i,206,e.DST_ALPHA),o(i,203,e.ONE_MINUS_SRC_COLOR),o(i,T,e.ONE_MINUS_SRC_ALPHA),o(i,209,e.ONE_MINUS_DST_COLOR),o(i,207,e.ONE_MINUS_DST_ALPHA),i);function Z(t,n,r,i,a,A,o,s){if(0!==t){if(g||(j(e.BLEND),g=!0),5===t)a=a||n,A=A||r,o=o||i,n===v&&a===B||(e.blendEquationSeparate(X[n],X[a]),v=n,B=a),r===y&&i===w&&A===x&&o===b||(e.blendFuncSeparate(K[r],K[i],K[A],K[o]),y=r,w=i,x=A,b=o),m=t,C=null;else if(t!==m||s!==C){if(v===M&&B===M||(e.blendEquation(e.FUNC_ADD),v=M,B=M),s)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,w=null,x=null,b=null,m=t,C=s}}else g&&(W(e.BLEND),g=!1)}function J(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function q(t){0!==t?(j(e.CULL_FACE),t!==F&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):W(e.CULL_FACE),F=t}function $(t,n,r){t?(j(e.POLYGON_OFFSET_FILL),L===n&&R===r||(e.polygonOffset(n,r),L=n,R=r)):W(e.POLYGON_OFFSET_FILL)}function ee(t){void 0===t&&(t=e.TEXTURE0+P-1),H!==t&&(e.activeTexture(t),H=t)}return{buffers:{color:A,depth:s,stencil:l},initAttributes:function(){for(var e=0,t=u.length;e<t;e++)u[e]=0},enableAttribute:function(e){z(e,0)},enableAttributeAndDivisor:z,disableUnusedAttributes:function(){for(var t=0,n=h.length;t!==n;++t)h[t]!==u[t]&&(e.disableVertexAttribArray(t),h[t]=0)},enable:j,disable:W,useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:Z,setMaterial:function(t,n){2===t.side?W(e.CULL_FACE):j(e.CULL_FACE);var r=1===t.side;n&&(r=!r),J(r),1===t.blending&&!1===t.transparent?Z(0):Z(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),A.setMask(t.colorWrite);var i=t.stencilWrite;l.setTest(i),i&&(l.setMask(t.stencilWriteMask),l.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),l.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),$(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:J,setCullFace:q,setLineWidth:function(t){t!==U&&(D&&e.lineWidth(t),U=t)},setPolygonOffset:$,setScissorTest:function(t){t?j(e.SCISSOR_TEST):W(e.SCISSOR_TEST)},activeTexture:ee,bindTexture:function(t,n){null===H&&ee();var r=_[H];void 0===r&&(r={type:void 0,texture:void 0},_[H]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||V[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=_[H];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===k.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),k.copy(t))},reset:function(){for(var t=0;t<h.length;t++)1===h[t]&&(e.disableVertexAttribArray(t),h[t]=0);p={},H=null,_={},f=null,m=null,S=null,F=null,A.reset(),s.reset(),l.reset()}}}function Ra(e,t,n,r,i,a,A){var s,l,c,u=i.isWebGL2,h=i.maxTextures,d=i.maxCubemapSize,p=i.maxTextureSize,f=i.maxSamples,g=new WeakMap,m="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d");function v(e,t){return m?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function y(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?He.floorPowerOfTwo:Math.floor,A=a(i*e.width),o=a(i*e.height);void 0===c&&(c=v(A,o));var s=n?v(A,o):c;return s.width=A,s.height=o,s.getContext("2d").drawImage(e,0,0,A,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+A+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function w(e){return He.isPowerOfTwo(e.width)&&He.isPowerOfTwo(e.height)}function B(e,t){return e.generateMipmaps&&t&&e.minFilter!==H&&e.minFilter!==k}function x(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function b(n,r){if(!1===u)return n;var i=n;return n===e.RED&&(r===e.FLOAT&&(i=e.R32F),r===e.HALF_FLOAT&&(i=e.R16F),r===e.UNSIGNED_BYTE&&(i=e.R8)),n===e.RGB&&(r===e.FLOAT&&(i=e.RGB32F),r===e.HALF_FLOAT&&(i=e.RGB16F),r===e.UNSIGNED_BYTE&&(i=e.RGB8)),n===e.RGBA&&(r===e.FLOAT&&(i=e.RGBA32F),r===e.HALF_FLOAT&&(i=e.RGBA16F),r===e.UNSIGNED_BYTE&&(i=e.RGBA8)),i===e.R16F||i===e.R32F||i===e.RGBA16F||i===e.RGBA32F?t.get("EXT_color_buffer_float"):i!==e.RGB16F&&i!==e.RGB32F||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),i}function C(t){return t===H||t===_||t===N?e.NEAREST:e.LINEAR}function M(t){var n=t.target;n.removeEventListener("dispose",M),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&g.delete(n),A.memory.textures--}function E(t){var n=t.target;n.removeEventListener("dispose",E),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(n.__webglColorTexture),e.deleteTexture(n.__webglDepthStencilTexture),A.memory.textures-=2;a=0;for(var o=n.__webglViewFramebuffers.length;a<o;a++)e.deleteFramebuffer(n.__webglViewFramebuffers[a])}r.remove(t.texture),r.remove(t)}(n),A.memory.textures--}var I=0;function T(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=A.render.frame;g.get(e)!==t&&(g.set(e,t),e.update())}(t),t.version>0&&a.__version!==t.version){var o=t.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void z(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D,a.__webglTexture)}function S(t,i){if(6===t.image.length){var A=r.get(t);if(t.version>0&&A.__version!==t.version){P(A,t),n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,A.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var o=t&&t.isCompressedTexture,s=t.image[0]&&t.image[0].isDataTexture,l=[],c=0;c<6;c++)l[c]=o||s?s?t.image[c].image:t.image[c]:y(t.image[c],!1,!0,d);var h,p=l[0],f=w(p)||u,g=a.convert(t.format),m=a.convert(t.type),v=b(g,m);if(R(e.TEXTURE_CUBE_MAP,t,f),o){for(c=0;c<6;c++){h=l[c].mipmaps;for(var C=0;C<h.length;C++){var M=h[C];t.format!==J&&t.format!==Z?null!==g?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,C,v,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,C,v,M.width,M.height,0,g,m,M.data)}}A.__maxMipLevel=h.length-1}else{h=t.mipmaps;for(c=0;c<6;c++)if(s){n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,v,l[c].width,l[c].height,0,g,m,l[c].data);for(C=0;C<h.length;C++){var E=(M=h[C]).image[c].image;n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,C+1,v,E.width,E.height,0,g,m,E.data)}}else{n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,v,g,m,l[c]);for(C=0;C<h.length;C++){M=h[C];n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,C+1,v,g,m,M.image[c])}}A.__maxMipLevel=h.length}B(t,f)&&x(e.TEXTURE_CUBE_MAP,t,p.width,p.height),A.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,A.__webglTexture)}}function F(t,i){n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)}var U=(o(s={},D,e.REPEAT),o(s,Q,e.CLAMP_TO_EDGE),o(s,O,e.MIRRORED_REPEAT),s),L=(o(l={},H,e.NEAREST),o(l,_,e.NEAREST_MIPMAP_NEAREST),o(l,N,e.NEAREST_MIPMAP_LINEAR),o(l,k,e.LINEAR),o(l,G,e.LINEAR_MIPMAP_NEAREST),o(l,V,e.LINEAR_MIPMAP_LINEAR),l);function R(n,a,A){A?(e.texParameteri(n,e.TEXTURE_WRAP_S,U[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,U[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,U[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,L[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,L[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===Q&&a.wrapT===Q||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C(a.minFilter)),a.minFilter!==H&&a.minFilter!==k&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var o=t.get("EXT_texture_filter_anisotropic");if(o){if(a.type===X&&null===t.get("OES_texture_float_linear"))return;if(a.type===Y&&null===(u||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function P(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",M),t.__webglTexture=e.createTexture(),A.memory.textures++)}function z(t,r,i){var A=e.TEXTURE_2D;r.isDataTexture2DArray&&(A=e.TEXTURE_2D_ARRAY),r.isDataTexture3D&&(A=e.TEXTURE_3D),P(t,r),n.activeTexture(e.TEXTURE0+i),n.bindTexture(A,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var o=function(e){return!u&&(e.wrapS!==Q||e.wrapT!==Q||e.minFilter!==H&&e.minFilter!==k)}(r)&&!1===w(r.image),s=y(r.image,o,!1,p),l=w(s)||u,c=a.convert(r.format),h=a.convert(r.type),d=b(c,h);R(A,r,l);var f,g=r.mipmaps;if(r.isDepthTexture){if(d=e.DEPTH_COMPONENT,r.type===X){if(!1===u)throw new Error("Float Depth Texture only supported in WebGL2.0");d=e.DEPTH_COMPONENT32F}else u&&(d=e.DEPTH_COMPONENT16);r.format===$&&d===e.DEPTH_COMPONENT&&r.type!==j&&r.type!==W&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=j,h=a.convert(r.type)),r.format===ee&&(d=e.DEPTH_STENCIL,r.type!==K&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=K,h=a.convert(r.type))),n.texImage2D(e.TEXTURE_2D,0,d,s.width,s.height,0,c,h,null)}else if(r.isDataTexture)if(g.length>0&&l){for(var m=0,v=g.length;m<v;m++)f=g[m],n.texImage2D(e.TEXTURE_2D,m,d,f.width,f.height,0,c,h,f.data);r.generateMipmaps=!1,t.__maxMipLevel=g.length-1}else n.texImage2D(e.TEXTURE_2D,0,d,s.width,s.height,0,c,h,s.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(m=0,v=g.length;m<v;m++)f=g[m],r.format!==J&&r.format!==Z?null!==c?n.compressedTexImage2D(e.TEXTURE_2D,m,d,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,m,d,f.width,f.height,0,c,h,f.data);t.__maxMipLevel=g.length-1}else if(r.isDataTexture2DArray)n.texImage3D(e.TEXTURE_2D_ARRAY,0,d,s.width,s.height,s.depth,0,c,h,s.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(e.TEXTURE_3D,0,d,s.width,s.height,s.depth,0,c,h,s.data),t.__maxMipLevel=0;else if(g.length>0&&l){for(m=0,v=g.length;m<v;m++)f=g[m],n.texImage2D(e.TEXTURE_2D,m,d,c,h,f);r.generateMipmaps=!1,t.__maxMipLevel=g.length-1}else n.texImage2D(e.TEXTURE_2D,0,d,c,h,s),t.__maxMipLevel=0;B(r,l)&&x(e.TEXTURE_2D,r,s.width,s.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function q(t,i,A,o){var s=a.convert(i.texture.format),l=a.convert(i.texture.type),c=b(s,l);n.texImage2D(o,0,c,i.width,i.height,0,s,l,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,A,o,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function te(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=re(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,i,e.DEPTH_COMPONENT16,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=re(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{var A=b(a.convert(n.texture.format),a.convert(n.texture.type));if(r){i=re(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,i,A,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,A,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function ne(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),T(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===$)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==ee)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),te(n.__webglDepthbuffer[a],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),te(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function re(e){return u&&e.isWebGLMultisampleRenderTarget?Math.min(f,e.samples):0}var ie=!1,ae=!1;this.allocateTextureUnit=function(){var e=I;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),I+=1,e},this.resetTextureUnits=function(){I=0},this.setTexture2D=T,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?z(a,t,i):(n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture))},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?z(a,t,i):(n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_3D,a.__webglTexture))},this.setTextureCube=S,this.setTextureCubeDynamic=F,this.setupRenderTarget=function(i){var o=r.get(i),s=r.get(i.texture);i.addEventListener("dispose",E),s.__webglTexture=e.createTexture(),A.memory.textures++;var l=!0===i.isWebGLRenderTargetCube,c=!0===i.isWebGLMultisampleRenderTarget,h=!0===i.isWebGLMultiviewRenderTarget,d=w(i)||u;if(l){o.__webglFramebuffer=[];for(var p=0;p<6;p++)o.__webglFramebuffer[p]=e.createFramebuffer()}else if(o.__webglFramebuffer=e.createFramebuffer(),c)if(u){o.__webglMultisampledFramebuffer=e.createFramebuffer(),o.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,o.__webglColorRenderbuffer);var f=b(a.convert(i.texture.format),a.convert(i.texture.type)),g=re(i);e.renderbufferStorageMultisample(e.RENDERBUFFER,g,f,i.width,i.height),e.bindFramebuffer(e.FRAMEBUFFER,o.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,o.__webglColorRenderbuffer),e.bindRenderbuffer(e.RENDERBUFFER,null),i.depthBuffer&&(o.__webglDepthRenderbuffer=e.createRenderbuffer(),te(o.__webglDepthRenderbuffer,i,!0)),e.bindFramebuffer(e.FRAMEBUFFER,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(h){var m=i.width,v=i.height,y=i.numViews;e.bindFramebuffer(e.FRAMEBUFFER,o.__webglFramebuffer);var C=t.get("OVR_multiview2");A.memory.textures+=2;var M=e.createTexture();e.bindTexture(e.TEXTURE_2D_ARRAY,M),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texImage3D(e.TEXTURE_2D_ARRAY,0,e.RGBA8,m,v,y,0,e.RGBA,e.UNSIGNED_BYTE,null),C.framebufferTextureMultiviewOVR(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,M,0,0,y);var I=e.createTexture();e.bindTexture(e.TEXTURE_2D_ARRAY,I),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texImage3D(e.TEXTURE_2D_ARRAY,0,e.DEPTH24_STENCIL8,m,v,y,0,e.DEPTH_STENCIL,e.UNSIGNED_INT_24_8,null),C.framebufferTextureMultiviewOVR(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,I,0,0,y);var T=new Array(y);for(p=0;p<y;++p)T[p]=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,T[p]),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,M,0,p);o.__webglColorTexture=M,o.__webglDepthStencilTexture=I,o.__webglViewFramebuffers=T,e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D_ARRAY,null)}if(l){n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture),R(e.TEXTURE_CUBE_MAP,i.texture,d);for(p=0;p<6;p++)q(o.__webglFramebuffer[p],i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+p);B(i.texture,d)&&x(e.TEXTURE_CUBE_MAP,i.texture,i.width,i.height),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else h||(n.bindTexture(e.TEXTURE_2D,s.__webglTexture),R(e.TEXTURE_2D,i.texture,d),q(o.__webglFramebuffer,i,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),B(i.texture,d)&&x(e.TEXTURE_2D,i.texture,i.width,i.height),n.bindTexture(e.TEXTURE_2D,null));i.depthBuffer&&ne(i)},this.updateRenderTargetMipmap=function(t){var i=t.texture;if(B(i,w(t)||u)){var a=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,A=r.get(i).__webglTexture;n.bindTexture(a,A),x(a,i,t.width,t.height),n.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(u){var n=r.get(t);e.bindFramebuffer(e.READ_FRAMEBUFFER,n.__webglMultisampledFramebuffer),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n.__webglFramebuffer);var i=t.width,a=t.height,A=e.COLOR_BUFFER_BIT;t.depthBuffer&&(A|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(A|=e.STENCIL_BUFFER_BIT),e.blitFramebuffer(0,0,i,a,0,0,i,a,A,e.NEAREST)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===ie&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),ie=!0),e=e.texture),T(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===ae&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ae=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?S(e,t):F(e,t)}}function Pa(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i;if(n===z)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1019===n)return e.UNSIGNED_SHORT_5_6_5;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===j)return e.UNSIGNED_SHORT;if(1013===n)return e.INT;if(n===W)return e.UNSIGNED_INT;if(n===X)return e.FLOAT;if(n===Y)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===n)return e.ALPHA;if(n===Z)return e.RGB;if(n===J)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===$)return e.DEPTH_COMPONENT;if(n===ee)return e.DEPTH_STENCIL;if(1028===n)return e.RED;if(n===te||n===ne||n===re||n===ie){if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===te)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ne)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===re)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ie)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===ae||n===Ae||n===oe||n===se){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===ae)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ae)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===oe)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===se)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===le)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if((n===he||n===de)&&null!==(i=t.get("WEBGL_compressed_texture_etc"))){if(n===he)return i.COMPRESSED_RGB8_ETC2;if(n===de)return i.COMPRESSED_RGBA8_ETC2_EAC}return n===ce||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n?null!==(i=t.get("WEBGL_compressed_texture_astc"))?n:null:n===ue?null!==(i=t.get("EXT_texture_compression_bptc"))?n:null:n===K?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Da(e,t,n,r){it.call(this,e,t,r),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function Qa(e,t){var n,r,i,a,A,o,s,l=e.extensions,c=e.properties,u=0;function h(e){return e.isArrayCamera?e.cameras:(A[0]=e,A)}this.isAvailable=function(){if(void 0===s){var e=l.get("OVR_multiview2");if(s=null!==e&&!1===t.getContextAttributes().antialias){u=t.getParameter(e.MAX_VIEWS_OVR),n=new Da(0,0,2),o=new _e,a=[],i=[],A=[];for(var r=0;r<u;r++)a[r]=new dt,i[r]=new We}}return s},this.attachCamera=function(t){!1!==function(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>u)return!1;for(var n=1,r=t.length;n<r;n++)if(t[0].viewport.z!==t[n].viewport.z||t[0].viewport.w!==t[n].viewport.w)return!1;return!0}(t)&&(r=e.getRenderTarget(),function(t){if(r?o.set(r.width,r.height):e.getDrawingBufferSize(o),t.isArrayCamera){var i=t.cameras[0].viewport;n.setSize(i.z,i.w),n.setNumViews(t.cameras.length)}else n.setSize(o.x,o.y),n.setNumViews(2)}(t),e.setRenderTarget(n))},this.detachCamera=function(i){n===e.getRenderTarget()&&(e.setRenderTarget(r),function(e){var r=n,i=r.numViews,a=c.get(r).__webglViewFramebuffers,A=r.width,s=r.height;if(e.isArrayCamera)for(var l=0;l<i;l++){var u=e.cameras[l].viewport,h=u.x,d=u.y,p=h+u.z,f=d+u.w;t.bindFramebuffer(t.READ_FRAMEBUFFER,a[l]),t.blitFramebuffer(0,0,A,s,h,d,p,f,t.COLOR_BUFFER_BIT,t.NEAREST)}else t.bindFramebuffer(t.READ_FRAMEBUFFER,a[0]),t.blitFramebuffer(0,0,A,s,0,0,o.x,o.y,t.COLOR_BUFFER_BIT,t.NEAREST)}(i))},this.updateCameraProjectionMatricesUniform=function(e,n){for(var r=h(e),i=0;i<r.length;i++)a[i].copy(r[i].projectionMatrix);n.setValue(t,"projectionMatrices",a)},this.updateCameraViewMatricesUniform=function(e,n){for(var r=h(e),i=0;i<r.length;i++)a[i].copy(r[i].matrixWorldInverse);n.setValue(t,"viewMatrices",a)},this.updateObjectMatricesUniforms=function(e,n,r){for(var A=h(n),o=0;o<A.length;o++)a[o].multiplyMatrices(A[o].matrixWorldInverse,e.matrixWorld),i[o].getNormalMatrix(a[o]);r.setValue(t,"modelViewMatrices",a),r.setValue(t,"normalMatrices",i)}}function Oa(){Ut.call(this),this.type="Group"}function Ha(e){Ur.call(this),this.cameras=e||[]}Da.prototype=Object.assign(Object.create(it.prototype),{constructor:Da,isWebGLMultiviewRenderTarget:!0,copy:function(e){return it.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),Oa.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Oa,isGroup:!0}),Ha.prototype=Object.assign(Object.create(Ur.prototype),{constructor:Ha,isArrayCamera:!0});var _a,Na=new Ve,ka=new Ve;function Ga(e,t,n){Na.setFromMatrixPosition(t.matrixWorld),ka.setFromMatrixPosition(n.matrixWorld);var r=Na.distanceTo(ka),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,A=i[14]/(i[10]-1),o=i[14]/(i[10]+1),s=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],u=(a[8]+1)/a[0],h=A*c,d=A*u,p=r/(-c+u),f=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=A+p,m=o+p,v=h-f,y=d+(r-f),w=s*o/m*g,B=l*o/m*g;e.projectionMatrix.makePerspective(v,y,w,B,g,m)}function Va(e){var t,n,r=this,i=null,a=null,A=[],o=new dt,s=new dt,l=1,c="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",B,!1));var u=new dt,h=new Ne,d=new Ve,p=new Ur,f=new Ur;f.viewport=new rt,f.layers.enable(1);var g=new Ur;g.viewport=new rt,g.layers.enable(2);var m=new Ha([f,g]);function v(){return null!==i&&!0===i.isPresenting}m.layers.enable(1),m.layers.enable(2);var y,w=new _e;function B(){if(v()){var a=i.getEyeParameters("left");t=2*a.renderWidth*l,n=a.renderHeight*l,y=e.getPixelRatio(),e.getSize(w),e.setDrawingBufferSize(t,n,1),f.viewport.set(0,0,t/2,n),g.viewport.set(t/2,0,t/2,n),E.start(),r.dispatchEvent({type:"sessionstart"})}else r.enabled&&e.setDrawingBufferSize(w.width,w.height,y),E.stop(),r.dispatchEvent({type:"sessionend"})}var x=[],b=[];function C(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=t.length;n<r;n++){var i=t[n];if(i&&("Daydream Controller"===i.id||"Gear VR Controller"===i.id||"Oculus Go Controller"===i.id||"OpenVR Gamepad"===i.id||i.id.startsWith("Oculus Touch")||i.id.startsWith("HTC Vive Focus")||i.id.startsWith("Spatial Controller"))){var a=i.hand;if(0===e&&(""===a||"right"===a))return i;if(1===e&&"left"===a)return i}}}function M(e,r){null!==r&&4===r.length&&e.set(r[0]*t,r[1]*n,r[2]*t,r[3]*n)}this.enabled=!1,this.getController=function(e){var t=A[e];return void 0===t&&((t=new Oa).matrixAutoUpdate=!1,t.visible=!1,A[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),E.setContext(e)},this.setFramebufferScaleFactor=function(e){l=e},this.setReferenceSpaceType=function(e){c=e},this.getCamera=function(e){var t="local-floor"===c?1.6:0;if(i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(a),"local-floor"===c){var n=i.stageParameters;n?o.fromArray(n.sittingToStandingTransform):o.makeTranslation(0,t,0)}var r=a.pose;p.matrix.copy(o),p.matrix.decompose(p.position,p.quaternion,p.scale),null!==r.orientation&&(h.fromArray(r.orientation),p.quaternion.multiply(h)),null!==r.position&&(h.setFromRotationMatrix(o),d.fromArray(r.position),d.applyQuaternion(h),p.position.add(d)),p.updateMatrixWorld(),e.matrixWorld.copy(p.matrixWorld);for(var l=e.children,v=0,y=l.length;v<y;v++)l[v].updateMatrixWorld(!0);f.near=e.near,g.near=e.near,f.far=e.far,g.far=e.far,f.matrixWorldInverse.fromArray(a.leftViewMatrix),g.matrixWorldInverse.fromArray(a.rightViewMatrix),s.getInverse(o),"local-floor"===c&&(f.matrixWorldInverse.multiply(s),g.matrixWorldInverse.multiply(s));var w=e.parent;null!==w&&(u.getInverse(w.matrixWorld),f.matrixWorldInverse.multiply(u),g.matrixWorldInverse.multiply(u)),f.matrixWorld.getInverse(f.matrixWorldInverse),g.matrixWorld.getInverse(g.matrixWorldInverse),f.projectionMatrix.fromArray(a.leftProjectionMatrix),g.projectionMatrix.fromArray(a.rightProjectionMatrix),Ga(m,f,g);var B=i.getLayers();if(B.length){var E=B[0];M(f.viewport,E.leftBounds),M(g.viewport,E.rightBounds)}return function(){for(var e=0;e<A.length;e++){var t=A[e],n=C(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(o),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;void 0===x[e]&&(x[e]=!1),x[e]!==n.buttons[i].pressed&&(x[e]=n.buttons[i].pressed,!0===x[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"}))),i=2,void 0===b[e]&&(b[e]=!1),void 0!==n.buttons[i]&&b[e]!==n.buttons[i].pressed&&(b[e]=n.buttons[i].pressed,!0===b[e]?t.dispatchEvent({type:"squeezestart"}):(t.dispatchEvent({type:"squeezeend"}),t.dispatchEvent({type:"squeeze"})))}else t.visible=!1}}(),m},this.getStandingMatrix=function(){return o},this.isPresenting=v;var E=new Gr;this.setAnimationLoop=function(e){E.setAnimationLoop(e),v()&&E.start()},this.submitFrame=function(){v()&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",B)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function za(e,t){var n=this,r=null,i=null,a="local-floor",A=null,o=[],s=[];var l=new Ur;l.layers.enable(1),l.viewport=new rt;var c=new Ur;c.layers.enable(2),c.viewport=new rt;var u=new Ha([l,c]);function h(e){for(var t=0;t<o.length;t++)s[t]===e.inputSource&&o[t].dispatchEvent({type:e.type})}function d(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),y.stop(),n.dispatchEvent({type:"sessionend"})}function p(e){i=e,y.setContext(r),y.start(),n.dispatchEvent({type:"sessionstart"})}function f(){for(var e=0;e<o.length;e++)s[e]=g(e)}function g(e){for(var t=r.inputSources,n=0;n<t.length;n++){var i=t[n],a=i.handedness;if(0===e&&("none"===a||"right"===a))return i;if(1===e&&"left"===a)return i}}function m(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}u.layers.enable(1),u.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=o[e];return void 0===t&&((t=new Oa).matrixAutoUpdate=!1,t.visible=!1,o[e]=t),t},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){a=e},this.getSession=function(){return r},this.setSession=function(e){null!==(r=e)&&(r.addEventListener("select",h),r.addEventListener("selectstart",h),r.addEventListener("selectend",h),r.addEventListener("squeeze",h),r.addEventListener("squeezestart",h),r.addEventListener("squeezeend",h),r.addEventListener("end",d),r.updateRenderState({baseLayer:new XRWebGLLayer(r,t)}),r.requestReferenceSpace(a).then(p),r.addEventListener("inputsourceschange",f),f())},this.getCamera=function(e){var t=e.parent,n=u.cameras;m(u,t);for(var r=0;r<n.length;r++)m(n[r],t);e.matrixWorld.copy(u.matrixWorld);for(var i=e.children,a=(r=0,i.length);r<a;r++)i[r].updateMatrixWorld(!0);return Ga(u,l,c),u},this.isPresenting=function(){return null!==r&&null!==i};var v=null;var y=new Gr;y.setAnimationLoop((function(t,n){if(null!==(A=n.getViewerPose(i))){var a=A.views,l=r.renderState.baseLayer;e.setFramebuffer(l.framebuffer);for(var c=0;c<a.length;c++){var h=a[c],d=l.getViewport(h),p=h.transform.inverse.matrix,f=u.cameras[c];f.matrix.fromArray(p).getInverse(f.matrix),f.projectionMatrix.fromArray(h.projectionMatrix),f.viewport.set(d.x,d.y,d.width,d.height),0===c&&u.matrix.copy(f.matrix)}}for(c=0;c<o.length;c++){var g=o[c],m=s[c];if(m){var y=n.getPose(m.targetRaySpace,i);if(null!==y){g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(t)})),this.setAnimationLoop=function(e){v=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new dt},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function ja(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,A=void 0!==e.antialias&&e.antialias,o=void 0===e.premultipliedAlpha||e.premultipliedAlpha,s=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,u=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,p,f,g,m,v,y,w,B,x,b,C,M,E,I,T,S,F,U=this,L=!1,R=null,P=0,D=0,Q=null,O=null,H=-1,_={geometry:null,program:null,wireframe:!1},N=null,k=null,G=new rt,V=new rt,j=null,W=t.width,K=t.height,Z=1,q=new rt(0,0,W,K),$=new rt(0,0,W,K),ee=!1,te=new Hr,ne=new Kr,re=!1,ie=!1,ae=new dt,Ae=new Ve;function oe(){return null===Q?Z:1}this.acfFrustum=te;try{var se={alpha:r,depth:i,stencil:a,antialias:A,premultipliedAlpha:o,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c,xrCompatible:!0};t.addEventListener("webglcontextlost",pe,!1),t.addEventListener("webglcontextrestored",fe,!1);try{le=le||{}}catch(e){var le={}}if(null===(d=n||t.getContext(le&&le.isWebGL2?"webgl2":"webgl",se)||t.getContext("experimental-webgl",se)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function ce(){p=new Zr(d),!1===(f=new Yr(d,p,e)).isWebGL2&&(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),F=new Pa(d,p,f),(g=new La(d,p,f)).scissor(V.copy($).multiplyScalar(Z).floor()),g.viewport(G.copy(q).multiplyScalar(Z).floor()),m=new $r(d),v=new va,y=new Ra(d,p,g,v,f,F,m),w=new Vr(d),B=new Jr(d,w,m),x=new ni(d,B,w,m),I=new ti(d),b=new ma(U,p,f),C=new xa,M=new Ta,E=new Wr(U,g,x,o),T=new Xr(d,p,m,f),S=new qr(d,p,m,f),m.programs=b.programs,U.capabilities=f,U.extensions=p,U.properties=v,U.renderLists=C,U.state=g,U.info=m}ce();var ue="undefined"!=typeof navigator&&"xr"in navigator?new za(U,d):new Va(U);this.vr=ue;var he=new Qa(U,d),de=new Ua(U,x,f.maxTextureSize);function pe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function fe(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1,ce()}function ge(e){var t=e.target;t.removeEventListener("dispose",ge),function(e){me(e),v.remove(e)}(t)}function me(e){var t=v.get(e).program;e.program=void 0,void 0!==t&&b.releaseProgram(t)}this.shadowMap=de,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(e){void 0!==e&&(Z=e,this.setSize(W,K,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new _e),e.set(W,K)},this.setSize=function(e,n,r){ue.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=e,K=n,t.width=Math.floor(e*Z),t.height=Math.floor(n*Z),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new _e),e.set(W*Z,K*Z).floor()},this.setDrawingBufferSize=function(e,n,r){W=e,K=n,Z=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new rt),e.copy(G)},this.getViewport=function(e){return e.copy(q)},this.setViewport=function(e,t,n,r){e.isVector4?q.set(e.x,e.y,e.z,e.w):q.set(e,t,n,r),g.viewport(G.copy(q).multiplyScalar(Z).floor())},this.getScissor=function(e){return e.copy($)},this.setScissor=function(e,t,n,r){e.isVector4?$.set(e.x,e.y,e.z,e.w):$.set(e,t,n,r),g.scissor(V.copy($).multiplyScalar(Z).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(e){g.setScissorTest(ee=e)},this.getClearColor=function(){return E.getClearColor()},this.setClearColor=function(){E.setClearColor.apply(E,arguments)},this.getClearAlpha=function(){return E.getClearAlpha()},this.setClearAlpha=function(){E.setClearAlpha.apply(E,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=d.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=d.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=d.STENCIL_BUFFER_BIT),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",pe,!1),t.removeEventListener("webglcontextrestored",fe,!1),C.dispose(),M.dispose(),v.dispose(),x.dispose(),ue.dispose(),ye.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var n=v.get(e);e.hasPositions&&!n.position&&(n.position=d.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=d.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=d.createBuffer()),e.hasColors&&!n.color&&(n.color=d.createBuffer());var r=t.getAttributes();e.hasPositions&&(d.bindBuffer(d.ARRAY_BUFFER,n.position),d.bufferData(d.ARRAY_BUFFER,e.positionArray,d.DYNAMIC_DRAW),g.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,d.FLOAT,!1,0,0)),e.hasNormals&&(d.bindBuffer(d.ARRAY_BUFFER,n.normal),d.bufferData(d.ARRAY_BUFFER,e.normalArray,d.DYNAMIC_DRAW),g.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,d.FLOAT,!1,0,0)),e.hasUvs&&(d.bindBuffer(d.ARRAY_BUFFER,n.uv),d.bufferData(d.ARRAY_BUFFER,e.uvArray,d.DYNAMIC_DRAW),g.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,d.FLOAT,!1,0,0)),e.hasColors&&(d.bindBuffer(d.ARRAY_BUFFER,n.color),d.bufferData(d.ARRAY_BUFFER,e.colorArray,d.DYNAMIC_DRAW),g.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,d.FLOAT,!1,0,0)),g.disableUnusedAttributes(),d.drawArrays(d.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){var A=i.isMesh&&i.matrixWorld.determinant()<0;g.setMaterial(r,A);var o=Ce(e,t,r,i),s=!1;_.geometry===n.id&&_.program===o.id&&_.wireframe===(!0===r.wireframe)||(_.geometry=n.id,_.program=o.id,_.wireframe=!0===r.wireframe,s=!0),i.morphTargetInfluences&&(I.update(i,n,r,o),s=!0);var l=n.index,c=n.attributes.position;if((null===l||0!==l.count)&&void 0!==c&&0!==c.count){var u,h=1;!0===r.wireframe&&(l=B.getWireframeAttribute(n),h=2);var m=T;null!==l&&(u=w.get(l),(m=S).setIndex(u)),s&&(!function(e,t,n,r){if(!1===f.isWebGL2&&(e.isInstancedMesh||t.isInstancedBufferGeometry)&&null===p.get("ANGLE_instanced_arrays"))return;g.initAttributes();var i=t.attributes,a=r.getAttributes(),A=n.defaultAttributeValues;for(var o in a){var s=a[o];if(s>=0){var l=i[o];if(void 0!==l){var c=l.normalized,u=l.itemSize;if(void 0===(b=w.get(l)))continue;var h=b.buffer,m=b.type,v=b.bytesPerElement;if(l.isInterleavedBufferAttribute){var y=l.data,B=y.stride,x=l.offset;y&&y.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(s,y.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=y.meshPerAttribute*y.count)):g.enableAttribute(s),d.bindBuffer(d.ARRAY_BUFFER,h),d.vertexAttribPointer(s,u,m,c,B*v,x*v)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(s),d.bindBuffer(d.ARRAY_BUFFER,h),d.vertexAttribPointer(s,u,m,c,0,0)}else if("instanceMatrix"===o){if(void 0===e.instanceMatrix)continue;var b;if(void 0===(b=w.get(e.instanceMatrix)))continue;h=b.buffer,m=b.type;g.enableAttributeAndDivisor(s+0,1),g.enableAttributeAndDivisor(s+1,1),g.enableAttributeAndDivisor(s+2,1),g.enableAttributeAndDivisor(s+3,1),d.bindBuffer(d.ARRAY_BUFFER,h),d.vertexAttribPointer(s+0,4,m,!1,64,0),d.vertexAttribPointer(s+1,4,m,!1,64,16),d.vertexAttribPointer(s+2,4,m,!1,64,32),d.vertexAttribPointer(s+3,4,m,!1,64,48)}else if(void 0!==A){var C=A[o];if(void 0!==C)switch(C.length){case 2:d.vertexAttrib2fv(s,C);break;case 3:d.vertexAttrib3fv(s,C);break;case 4:d.vertexAttrib4fv(s,C);break;default:d.vertexAttrib1fv(s,C)}}}}g.disableUnusedAttributes()}(i,n,r,o),null!==l&&d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,u.buffer));var v=1/0;null!==l?v=l.count:void 0!==c&&(v=c.count);var y=n.drawRange.start*h,x=n.drawRange.count*h,b=null!==a?a.start*h:0,C=null!==a?a.count*h:1/0,M=Math.max(y,b),E=Math.min(v,y+x,b+C)-1,F=Math.max(0,E-M+1);if(0!==F){if(i.isMesh)if(!0===r.wireframe)g.setLineWidth(r.wireframeLinewidth*oe()),m.setMode(d.LINES);else switch(i.drawMode){case 0:m.setMode(d.TRIANGLES);break;case 1:m.setMode(d.TRIANGLE_STRIP);break;case 2:m.setMode(d.TRIANGLE_FAN)}else if(i.isLine){var U=r.linewidth;void 0===U&&(U=1),g.setLineWidth(U*oe()),i.isLineSegments?m.setMode(d.LINES):i.isLineLoop?m.setMode(d.LINE_LOOP):m.setMode(d.LINE_STRIP)}else i.isPoints?m.setMode(d.POINTS):i.isSprite&&m.setMode(d.TRIANGLES);i.isInstancedMesh?m.renderInstances(n,M,F,i.count):n.isInstancedBufferGeometry?m.renderInstances(n,M,F,n.maxInstancedCount):m.render(M,F)}}},this.compile=function(e,t){(h=M.get(e,t)).init(),e.traverse((function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)be(t.material[n],e.fog,t);else be(t.material,e.fog,t)}))};var ve=null;var ye=new Gr;function we(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||te.intersectsSprite(e)){r&&Ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ae);var i=x.update(e);(a=e.material).visible&&u.push(e,i,a,n,Ae.z,null)}}else if(e.isImmediateRenderObject)r&&Ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ae),u.push(e,null,e.material,n,Ae.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton&&e.skeleton.frame!==m.render.frame&&(e.skeleton.update(),e.skeleton.frame=m.render.frame),!e.frustumCulled||te.intersectsObject(e))){r&&Ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ae);i=x.update(e);var a=e.material;if(Array.isArray(a))for(var A=i.groups,o=0,s=A.length;o<s;o++){var l=A[o],c=a[l.materialIndex];c&&c.visible&&u.push(e,i,c,n,Ae.z,l)}else a.visible&&u.push(e,i,a,n,Ae.z,null)}var d=e.children;for(o=0,s=d.length;o<s;o++)we(d[o],t,n,r)}}function Be(e,t,n,r){for(var i=0,a=e.length;i<a;i++){var A=e[i],o=A.object,s=A.geometry,l=void 0===r?A.material:r,c=A.group;if(n.isArrayCamera)if(k=n,ue.enabled&&he.isAvailable())xe(o,t,n,s,l,c);else for(var u=n.cameras,d=0,p=u.length;d<p;d++){var f=u[d];o.layers.test(f.layers)&&(g.viewport(G.copy(f.viewport)),h.setupLights(f),xe(o,t,f,s,l,c))}else k=null,xe(o,t,n,s,l,c)}}function xe(e,t,n,r,i,a){if(e.onBeforeRender(U,t,n,r,i,a),h=M.get(t,k||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){g.setMaterial(i);var A=Ce(n,t.fog,i,e);_.geometry=null,_.program=null,_.wireframe=!1,function(e,t){e.render((function(e){U.renderBufferImmediate(e,t)}))}(e,A)}else U.renderBufferDirect(n,t.fog,r,i,e,a);e.onAfterRender(U,t,n,r,i,a),h=M.get(t,k||n)}function be(e,t,n){var r=v.get(e),i=h.state.lights,a=h.state.shadowsArray,A=i.state.version,o=b.getParameters(e,i.state,a,t,ne.numPlanes,ne.numIntersection,n),s=b.getProgramCacheKey(e,o),l=r.program,c=!0;if(void 0===l)e.addEventListener("dispose",ge);else if(l.cacheKey!==s)me(e);else if(r.lightsStateVersion!==A)r.lightsStateVersion=A,c=!1;else{if(void 0!==o.shaderID)return;c=!1}if(c){if(o.shaderID){var u=kr[o.shaderID];r.shader={name:e.type,uniforms:Er(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,U),s=b.getProgramCacheKey(e,o),l=b.acquireProgram(e,r.shader,o,s),r.program=l,e.program=l}var d=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<U.maxMorphTargets;p++)d["morphTarget"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(p=0;p<U.maxMorphNormals;p++)d["morphNormal"+p]>=0&&e.numSupportedMorphNormals++}var f=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=ne.numPlanes,r.numIntersection=ne.numIntersection,f.clippingPlanes=ne.uniform),r.fog=t,r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isAMRTBasicMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=A,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.spotLights.value=i.state.spot,f.rectAreaLights.value=i.state.rectArea,f.pointLights.value=i.state.point,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotShadowMatrix.value=i.state.spotShadowMatrix,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),m=$i.seqWithValue(g.seq,f);r.uniformsList=m}function Ce(e,t,n,r){y.resetTextureUnits();var i=v.get(n),a=h.state.lights;if(re&&(ie||e!==N)){var A=e===N&&n.id===H;ne.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,A)}n.version===i.__version&&(void 0===i.program||n.fog&&i.fog!==t||i.needsLights&&i.lightsStateVersion!==a.state.version?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===ne.numPlanes&&i.numIntersection===ne.numIntersection||(n.needsUpdate=!0)),n.version!==i.__version&&(be(n,t,r),i.__version=n.version);var o,s,l=!1,c=!1,u=!1,p=i.program,m=p.getUniforms(),w=i.shader.uniforms;if(g.useProgram(p.program)&&(l=!0,c=!0,u=!0),n.id!==H&&(H=n.id,c=!0),l||N!==e){if(p.numMultiviewViews>0?he.updateCameraProjectionMatricesUniform(e,m):m.setValue(d,"projectionMatrix",e.projectionMatrix),f.logarithmicDepthBuffer&&m.setValue(d,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),N!==e&&(N=e,c=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isAMRTBasicMaterial||n.isACFBasicMaterial||n.envMap){var B=m.map.cameraPosition;void 0!==B&&B.setValue(d,Ae.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isAMRTBasicMaterial||n.isACFBasicMaterial||n.isShaderMaterial)&&m.setValue(d,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isAMRTBasicMaterial||n.isACFBasicMaterial||n.isShaderMaterial||n.skinning)&&(p.numMultiviewViews>0?he.updateCameraViewMatricesUniform(e,m):(m.setValue(d,"viewMatrix",e.matrixWorldInverse),m.setValue(d,"viewMatrixR",e.matrixWorldInverseR)))}if(n.skinning){m.setOptional(d,r,"bindMatrix"),m.setOptional(d,r,"bindMatrixInverse");var x=r.skeleton;if(x){var b=x.bones;if(f.floatVertexTextures){if(void 0===x.boneTexture){var C=Math.sqrt(4*b.length);C=He.ceilPowerOfTwo(C),C=Math.max(C,4);var M=new Float32Array(C*C*4);M.set(x.boneMatrices);var E=new Dr(M,C,C,J,X);x.boneMatrices=M,x.boneTexture=E,x.boneTextureSize=C}m.setValue(d,"boneTexture",x.boneTexture,y),m.setValue(d,"boneTextureSize",x.boneTextureSize)}else m.setOptional(d,x,"boneMatrices")}}return(c||i.receiveShadow!==r.receiveShadow)&&(i.receiveShadow=r.receiveShadow,m.setValue(d,"receiveShadow",r.receiveShadow)),c&&(m.setValue(d,"toneMappingExposure",U.toneMappingExposure),m.setValue(d,"toneMappingWhitePoint",U.toneMappingWhitePoint),i.needsLights&&(s=u,(o=w).ambientLightColor.needsUpdate=s,o.lightProbe.needsUpdate=s,o.directionalLights.needsUpdate=s,o.pointLights.needsUpdate=s,o.spotLights.needsUpdate=s,o.rectAreaLights.needsUpdate=s,o.hemisphereLights.needsUpdate=s),t&&n.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(w,t),n.isMeshBasicMaterial?Me(w,n):n.isMeshLambertMaterial?(Me(w,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(w,n)):n.isMeshPhongMaterial?(Me(w,n),n.isMeshToonMaterial?function(e,t){Ee(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(w,n):Ee(w,n)):n.isMeshStandardMaterial?(Me(w,n),n.isMeshPhysicalMaterial?function(e,t){Ie(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(w,n):Ie(w,n)):n.isAMRTBasicMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.emissive.value.copy(t.emissive),e.smoothness.value=t.smoothness,e.metalness.value=t.metallic,e.reflectivity.value=t.reflectivity,e.transparency.value=t.transparency,e.envYMatrix.value.copy(t.envYMatrix),e.reflecYMatrix.value.copy(t.reflecYMatrix),t.albedo&&(e.albedo.value=t.albedo,!0===t.albedo.matrixAutoUpdate&&t.albedo.updateMatrix(),e.albedoUVTransform.value.copy(t.albedo.matrix));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value=t.normalScale,!0===t.normalMap.matrixAutoUpdate&&t.normalMap.updateMatrix(),e.normalUVTransform.value.copy(t.normalMap.matrix));t.normalMap2&&(e.normalMap2.value=t.normalMap2,e.normalScale2.value=t.normalScale2,!0===t.normalMap2.matrixAutoUpdate&&t.normalMap2.updateMatrix(),e.normal2UVTransform.value.copy(t.normalMap2.matrix));t.metallicMap&&(e.metallicMap.value=t.metallicMap,!0===t.metallicMap.matrixAutoUpdate&&t.metallicMap.updateMatrix(),e.metalUVTransform.value.copy(t.metallicMap.matrix));t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,!0===t.roughnessMap.matrixAutoUpdate&&t.roughnessMap.updateMatrix(),e.roughUVTransform.value.copy(t.roughnessMap.matrix));t.aoMap&&(e.aoMap.value=t.aoMap,e.aoScale.value=t.aoScale,!0===t.aoMap.matrixAutoUpdate&&t.aoMap.updateMatrix(),e.aoUVTransform.value.copy(t.aoMap.matrix));t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap,!0===t.emissiveMap.matrixAutoUpdate&&t.emissiveMap.updateMatrix(),e.emissiveUVTransform.value.copy(t.emissiveMap.matrix));t.reflectMap&&(e.reflectMap.value=t.reflectMap,e.reflectIntensity.value=t.reflectIntensity);e.cutout.value=t.cutout,t.envMap&&(e.envMap.value=t.envMap,e.envMapIntensity.value=t.envMapIntensity,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=8)}(w,n):n.isMeshMatcapMaterial?(Me(w,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,n)):n.isMeshDepthMaterial?(Me(w,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,n)):n.isMeshDistanceMaterial?(Me(w,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(w,n)):n.isMeshNormalMaterial?(Me(w,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(w,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(w,n)):n.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Z,e.scale.value=.5*K,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(w,n):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(w,n):n.isShadowMaterial?(w.color.value.copy(n.color),w.opacity.value=n.opacity):n.isACFBasicMaterial&&(n.color&&w.diffuse.value.copy(n.color),n.map&&(w.map.value=n.map)),void 0!==w.ltc_1&&(w.ltc_1.value=Nr.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=Nr.LTC_2),$i.upload(d,i.uniformsList,w,y),n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&($i.upload(d,i.uniformsList,w,y),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&m.setValue(d,"center",r.center),p.numMultiviewViews>0?he.updateObjectMatricesUniforms(r,e,m):(m.setValue(d,"modelViewMatrix",r.modelViewMatrix),m.setValue(d,"normalMatrix",r.normalMatrix)),m.setValue(d,"modelMatrix",r.matrixWorld),p}function Me(e,t){var n;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=v.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function Ee(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ie(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}ye.setAnimationLoop((function(e){ue.isPresenting()||ve&&ve(e)})),"undefined"!=typeof window&&ye.setContext(window),this.setAnimationLoop=function(e){ve=e,ue.setAnimationLoop(e),ye.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),t&&t.isCamera){if(!L){_.geometry=null,_.program=null,_.wireframe=!1,H=-1,N=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ue.enabled&&ue.isPresenting()&&(t=ue.getCamera(t)),(h=M.get(e,t)).init(),e.onBeforeRender(U,e,t,n||Q),ae.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),te.setFromMatrix(ae),ie=this.localClippingEnabled,re=ne.init(this.clippingPlanes,ie,t),(u=C.get(e,t)).init(),we(e,t,0,U.sortObjects),!0===U.sortObjects&&u.sort(),re&&ne.beginShadows();var i=h.state.shadowsArray;de.render(i,e,t),h.setupLights(t),re&&ne.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ue.enabled&&he.isAvailable()&&he.attachCamera(t),E.render(u,e,t,r);var a=u.opaque,A=u.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;a.length&&Be(a,e,t,o),A.length&&Be(A,e,t,o)}else a.length&&Be(a,e,t),A.length&&Be(A,e,t);e.onAfterRender(U,e,t),null!==Q&&(y.updateRenderTargetMipmap(Q),y.updateMultisampleRenderTarget(Q)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),ue.enabled&&(he.isAvailable()&&he.detachCamera(t),ue.submitFrame()),u=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){R!==e&&null===Q&&d.bindFramebuffer(d.FRAMEBUFFER,e),R=e},this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return Q},this.setRenderTarget=function(e,t,n){Q=e,P=t,D=n,e&&void 0===v.get(e).__webglFramebuffer&&y.setupRenderTarget(e);var r=R,i=!1;if(e){var a=v.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(r=a[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?v.get(e).__webglMultisampledFramebuffer:a,G.copy(e.viewport),V.copy(e.scissor),j=e.scissorTest}else G.copy(q).multiplyScalar(Z).floor(),V.copy($).multiplyScalar(Z).floor(),j=ee;if(O!==r&&(d.bindFramebuffer(d.FRAMEBUFFER,r),O=r),g.viewport(G),g.scissor(V),g.setScissorTest(j),i){var A=v.get(e.texture);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_CUBE_MAP_POSITIVE_X+(t||0),A.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,a,A){if(e&&e.isWebGLRenderTarget){var o=v.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==A&&(o=o[A]),o){var s=!1;o!==O&&(d.bindFramebuffer(d.FRAMEBUFFER,o),s=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==J&&F.convert(c)!==d.getParameter(d.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===z||F.convert(u)===d.getParameter(d.IMPLEMENTATION_COLOR_READ_TYPE)||u===X&&(f.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float"))||u===Y&&(f.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");d.checkFramebufferStatus(d.FRAMEBUFFER)===d.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&d.readPixels(t,n,r,i,F.convert(c),F.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&d.bindFramebuffer(d.FRAMEBUFFER,O)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r),A=F.convert(t.format);y.setTexture2D(t,0),d.copyTexImage2D(d.TEXTURE_2D,n,A,e.x,e.y,i,a,0),g.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,a=t.image.height,A=F.convert(n.format),o=F.convert(n.type);y.setTexture2D(n,0),t.isDataTexture?d.texSubImage2D(d.TEXTURE_2D,r||0,e.x,e.y,i,a,A,o,t.image.data):d.texSubImage2D(d.TEXTURE_2D,r||0,e.x,e.y,A,o,t.image),g.unbindTexture()},this.initTexture=function(e){y.setTexture2D(e,0),g.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Wa(e,t){this.name="",this.color=new bn(e),this.density=void 0!==t?t:25e-5}function Xa(e,t,n){this.name="",this.color=new bn(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Ya(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Ue,this.updateRange={offset:0,count:-1},this.version=0}function Ka(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Za(e){Sn.call(this),this.type="SpriteMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.assign(Va.prototype,De.prototype),Object.assign(za.prototype,De.prototype),Object.assign(Wa.prototype,{isFogExp2:!0,clone:function(){return new Wa(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Xa.prototype,{isFog:!0,clone:function(){return new Xa(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Ya.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ya.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Ka.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ka.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Za.prototype=Object.create(Sn.prototype),Za.prototype.constructor=Za,Za.prototype.isSpriteMaterial=!0,Za.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Ja=new Ve,qa=new Ve,$a=new Ve,eA=new _e,tA=new _e,nA=new dt,rA=new Ve,iA=new Ve,aA=new Ve,AA=new _e,oA=new _e,sA=new _e;function lA(e){if(Ut.call(this),this.type="Sprite",void 0===_a){_a=new Jn;var t=new Ya(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);_a.setIndex([0,1,2,0,2,3]),_a.setAttribute("position",new Ka(t,3,0,!1)),_a.setAttribute("uv",new Ka(t,2,3,!1))}this.geometry=_a,this.material=void 0!==e?e:new Za,this.center=new _e(.5,.5)}function cA(e,t,n,r,i,a){eA.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(tA.x=a*eA.x-i*eA.y,tA.y=i*eA.x+a*eA.y):tA.copy(eA),e.copy(t),e.x+=tA.x,e.y+=tA.y,e.applyMatrix4(nA)}lA.prototype=Object.assign(Object.create(Ut.prototype),{constructor:lA,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qa.setFromMatrixScale(this.matrixWorld),nA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$a.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&qa.multiplyScalar(-$a.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;cA(rA.set(-.5,-.5,0),$a,a,qa,n,r),cA(iA.set(.5,-.5,0),$a,a,qa,n,r),cA(aA.set(.5,.5,0),$a,a,qa,n,r),AA.set(0,0),oA.set(1,0),sA.set(1,1);var A=e.ray.intersectTriangle(rA,iA,aA,!1,Ja);if(null!==A||(cA(iA.set(-.5,.5,0),$a,a,qa,n,r),oA.set(0,1),null!==(A=e.ray.intersectTriangle(rA,aA,iA,!1,Ja)))){var o=e.ray.origin.distanceTo(Ja);o<e.near||o>e.far||t.push({distance:o,point:Ja.clone(),uv:yn.getUV(Ja,rA,iA,aA,AA,oA,sA,new _e),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Ut.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var uA=new Ve,hA=new Ve;function dA(){Ut.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function pA(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),gr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new dt,this.bindMatrixInverse=new dt}dA.prototype=Object.assign(Object.create(Ut.prototype),{constructor:dA,isLOD:!0,copy:function(e){Ut.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){uA.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(uA);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){uA.setFromMatrixPosition(e.matrixWorld),hA.setFromMatrixPosition(this.matrixWorld);var n=uA.distanceTo(hA);t[0].object.visible=!0;for(var r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){var t=Ut.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),pA.prototype=Object.assign(Object.create(gr.prototype),{constructor:pA,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new rt,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){gr.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var fA=new dt,gA=new dt;function mA(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new dt)}}function vA(){Ut.call(this),this.type="Bone"}Object.assign(mA.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new dt;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var A=e[i]?e[i].matrixWorld:gA;fA.multiplyMatrices(A,t[i]),fA.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new mA(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),vA.prototype=Object.assign(Object.create(Ut.prototype),{constructor:vA,isBone:!0});var yA=new dt,wA=new dt,BA=[],xA=new gr,bA=new Wt;function CA(e,t,n){gr.call(this,e,t),this.bufferArray=new Float32Array(16*n),this.instanceMatrix=new Un(this.bufferArray,16),this.count=n,this.objects=[],null==this.geometry.boundingBox&&this.geometry.computeBoundingBox(),bA.copy(this.geometry.boundingBox)}function MA(e){Sn.call(this),this.type="LineBasicMaterial",this.color=new bn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}CA.prototype=Object.assign(Object.create(gr.prototype),{constructor:CA,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(xA.geometry=this.geometry,xA.material=this.material,void 0!==xA.material)for(var i=0;i<r;i++)this.getMatrixAt(i,yA),wA.multiplyMatrices(n,yA),xA.matrixWorld=wA,xA.raycast(e,BA),BA.length>0&&(BA[0].instanceId=i,BA[0].object=this,t.push(BA[0]),BA.length=0)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e),0===e?(this.geometry.boundingBox.copy((new Wt).copy(bA).applyMatrix4(t)),null==this.geometry.boundingSphere&&(this.geometry.boundingSphere=new Kt)):this.geometry.boundingBox.union((new Wt).copy(bA).applyMatrix4(t)),this.geometry.boundingBox.getBoundingSphere(this.geometry.boundingSphere)},updateMorphTargets:function(){}}),MA.prototype=Object.create(Sn.prototype),MA.prototype.constructor=MA,MA.prototype.isLineBasicMaterial=!0,MA.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var EA=new Ve,IA=new Ve,TA=new dt,SA=new rn,FA=new Kt;function UA(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Ut.call(this),this.type="Line",this.geometry=void 0!==e?e:new Jn,this.material=void 0!==t?t:new MA({color:16777215*Math.random()})}UA.prototype=Object.assign(Object.create(Ut.prototype),{constructor:UA,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)EA.fromBufferAttribute(t,r-1),IA.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=EA.distanceTo(IA);e.setAttribute("lineDistance",new _n(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;(n=e.lineDistances)[0]=0;for(r=1,i=a.length;r<i;r++)n[r]=n[r-1],n[r]+=a[r-1].distanceTo(a[r])}return this},raycast:function(e,t){var n=e.linePrecision,r=this.geometry,i=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),FA.copy(r.boundingSphere),FA.applyMatrix4(i),FA.radius+=n,!1!==e.ray.intersectsSphere(FA)){TA.getInverse(i),SA.copy(e.ray).applyMatrix4(TA);var a=n/((this.scale.x+this.scale.y+this.scale.z)/3),A=a*a,o=new Ve,s=new Ve,l=new Ve,c=new Ve,u=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var h=r.index,d=r.attributes.position.array;if(null!==h)for(var p=h.array,f=0,g=p.length-1;f<g;f+=u){var m=p[f],v=p[f+1];if(o.fromArray(d,3*m),s.fromArray(d,3*v),!(SA.distanceSqToSegment(o,s,c,l)>A))c.applyMatrix4(this.matrixWorld),(B=e.ray.origin.distanceTo(c))<e.near||B>e.far||t.push({distance:B,point:l.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}else for(f=0,g=d.length/3-1;f<g;f+=u){if(o.fromArray(d,3*f),s.fromArray(d,3*f+3),!(SA.distanceSqToSegment(o,s,c,l)>A))c.applyMatrix4(this.matrixWorld),(B=e.ray.origin.distanceTo(c))<e.near||B>e.far||t.push({distance:B,point:l.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}}else if(r.isGeometry){var y=r.vertices,w=y.length;for(f=0;f<w-1;f+=u){var B;if(!(SA.distanceSqToSegment(y[f],y[f+1],c,l)>A))c.applyMatrix4(this.matrixWorld),(B=e.ray.origin.distanceTo(c))<e.near||B>e.far||t.push({distance:B,point:l.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var LA=new Ve,RA=new Ve;function PA(e,t){UA.call(this,e,t),this.type="LineSegments"}function DA(e,t){UA.call(this,e,t),this.type="LineLoop"}function QA(e){Sn.call(this),this.type="PointsMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}PA.prototype=Object.assign(Object.create(UA.prototype),{constructor:PA,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)LA.fromBufferAttribute(t,r),RA.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+LA.distanceTo(RA);e.setAttribute("lineDistance",new _n(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;for(n=e.lineDistances,r=0,i=a.length;r<i;r+=2)LA.copy(a[r]),RA.copy(a[r+1]),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+LA.distanceTo(RA)}return this}}),DA.prototype=Object.assign(Object.create(UA.prototype),{constructor:DA,isLineLoop:!0}),QA.prototype=Object.create(Sn.prototype),QA.prototype.constructor=QA,QA.prototype.isPointsMaterial=!0,QA.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var OA=new dt,HA=new rn,_A=new Kt,NA=new Ve;function kA(e,t){Ut.call(this),this.type="Points",this.geometry=void 0!==e?e:new Jn,this.material=void 0!==t?t:new QA({color:16777215*Math.random()}),this.updateMorphTargets()}function GA(e,t,n,r,i,a,A){var o=HA.distanceSqToPoint(e);if(o<n){var s=new Ve;HA.closestPointToPoint(e,s),s.applyMatrix4(r);var l=i.ray.origin.distanceTo(s);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(o),point:s,index:t,face:null,object:A})}}function VA(e,t,n,r,i,a,A,o,s,l,c,u){nt.call(this,null,a,A,o,s,l,r,i,c,u),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function zA(e,t,n,r,i,a,A,o,s){nt.call(this,e,t,n,r,i,a,A,o,s),this.needsUpdate=!0}function jA(e,t,n,r,i,a,A,o,s,l){if((l=void 0!==l?l:$)!==$&&l!==ee)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===$&&(n=j),void 0===n&&l===ee&&(n=K),nt.call(this,null,r,i,a,A,o,l,n,s),this.image={width:e,height:t},this.magFilter=void 0!==A?A:H,this.minFilter=void 0!==o?o:H,this.flipY=!1,this.generateMipmaps=!1}function WA(e){Jn.call(this),this.type="WireframeGeometry";var t,n,r,i,a,A,o,s,l,c,u=[],h=[0,0],d={},p=["a","b","c"];if(e&&e.isGeometry){var f=e.faces;for(t=0,r=f.length;t<r;t++){var g=f[t];for(n=0;n<3;n++)o=g[p[n]],s=g[p[(n+1)%3]],h[0]=Math.min(o,s),h[1]=Math.max(o,s),void 0===d[l=h[0]+","+h[1]]&&(d[l]={index1:h[0],index2:h[1]})}for(l in d)A=d[l],c=e.vertices[A.index1],u.push(c.x,c.y,c.z),c=e.vertices[A.index2],u.push(c.x,c.y,c.z)}else if(e&&e.isBufferGeometry){var m,v,y,w,B,x,b;if(c=new Ve,null!==e.index){for(m=e.attributes.position,v=e.index,0===(y=e.groups).length&&(y=[{start:0,count:v.count,materialIndex:0}]),i=0,a=y.length;i<a;++i)for(t=B=(w=y[i]).start,r=B+w.count;t<r;t+=3)for(n=0;n<3;n++)o=v.getX(t+n),s=v.getX(t+(n+1)%3),h[0]=Math.min(o,s),h[1]=Math.max(o,s),void 0===d[l=h[0]+","+h[1]]&&(d[l]={index1:h[0],index2:h[1]});for(l in d)A=d[l],c.fromBufferAttribute(m,A.index1),u.push(c.x,c.y,c.z),c.fromBufferAttribute(m,A.index2),u.push(c.x,c.y,c.z)}else for(t=0,r=(m=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)x=3*t+n,c.fromBufferAttribute(m,x),u.push(c.x,c.y,c.z),b=3*t+(n+1)%3,c.fromBufferAttribute(m,b),u.push(c.x,c.y,c.z)}this.setAttribute("position",new _n(u,3))}function XA(e,t,n){br.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new YA(e,t,n)),this.mergeVertices()}function YA(e,t,n){Jn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,a=[],A=[],o=[],s=[],l=1e-5,c=new Ve,u=new Ve,h=new Ve,d=new Ve,p=new Ve;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=t+1;for(r=0;r<=n;r++){var g=r/n;for(i=0;i<=t;i++){var m=i/t;e(m,g,u),A.push(u.x,u.y,u.z),m-l>=0?(e(m-l,g,h),d.subVectors(u,h)):(e(m+l,g,h),d.subVectors(h,u)),g-l>=0?(e(m,g-l,h),p.subVectors(u,h)):(e(m,g+l,h),p.subVectors(h,u)),c.crossVectors(d,p).normalize(),o.push(c.x,c.y,c.z),s.push(m,g)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var v=r*f+i,y=r*f+i+1,w=(r+1)*f+i+1,B=(r+1)*f+i;a.push(v,y,B),a.push(y,w,B)}this.setIndex(a),this.setAttribute("position",new _n(A,3)),this.setAttribute("normal",new _n(o,3)),this.setAttribute("uv",new _n(s,2))}function KA(e,t,n,r){br.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new ZA(e,t,n,r)),this.mergeVertices()}function ZA(e,t,n,r){Jn.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],a=[];function A(e,t,n,r){var i,a,A=Math.pow(2,r),s=[];for(i=0;i<=A;i++){s[i]=[];var l=e.clone().lerp(n,i/A),c=t.clone().lerp(n,i/A),u=A-i;for(a=0;a<=u;a++)s[i][a]=0===a&&i===A?l:l.clone().lerp(c,a/u)}for(i=0;i<A;i++)for(a=0;a<2*(A-i)-1;a++){var h=Math.floor(a/2);a%2==0?(o(s[i][h+1]),o(s[i+1][h]),o(s[i][h])):(o(s[i][h+1]),o(s[i+1][h+1]),o(s[i+1][h]))}}function o(e){i.push(e.x,e.y,e.z)}function s(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function l(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new Ve,r=new Ve,i=new Ve,a=0;a<t.length;a+=3)s(t[a+0],n),s(t[a+1],r),s(t[a+2],i),A(n,r,i,e)}(r=r||0),function(e){for(var t=new Ve,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new Ve,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=c(e)/2/Math.PI+.5,r=(A=e,Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))/Math.PI+.5);a.push(n,1-r)}var A;(function(){for(var e=new Ve,t=new Ve,n=new Ve,r=new Ve,A=new _e,o=new _e,s=new _e,u=0,h=0;u<i.length;u+=9,h+=6){e.set(i[u+0],i[u+1],i[u+2]),t.set(i[u+3],i[u+4],i[u+5]),n.set(i[u+6],i[u+7],i[u+8]),A.set(a[h+0],a[h+1]),o.set(a[h+2],a[h+3]),s.set(a[h+4],a[h+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=c(r);l(A,h+0,e,d),l(o,h+2,t,d),l(s,h+4,n,d)}})(),function(){for(var e=0;e<a.length;e+=6){var t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),A=Math.min(t,n,r);i>.9&&A<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new _n(i,3)),this.setAttribute("normal",new _n(i.slice(),3)),this.setAttribute("uv",new _n(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function JA(e,t){br.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new qA(e,t)),this.mergeVertices()}function qA(e,t){ZA.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $A(e,t){br.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new eo(e,t)),this.mergeVertices()}function eo(e,t){ZA.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function to(e,t){br.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new no(e,t)),this.mergeVertices()}function no(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];ZA.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ro(e,t){br.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new io(e,t)),this.mergeVertices()}function io(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];ZA.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ao(e,t,n,r,i,a){br.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var A=new Ao(e,t,n,r,i);this.tangents=A.tangents,this.normals=A.normals,this.binormals=A.binormals,this.fromBufferGeometry(A),this.mergeVertices()}function Ao(e,t,n,r,i){Jn.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var A,o,s=new Ve,l=new Ve,c=new _e,u=new Ve,h=[],d=[],p=[],f=[];function g(i){u=e.getPointAt(i/t,u);var A=a.normals[i],c=a.binormals[i];for(o=0;o<=r;o++){var p=o/r*Math.PI*2,f=Math.sin(p),g=-Math.cos(p);l.x=g*A.x+f*c.x,l.y=g*A.y+f*c.y,l.z=g*A.z+f*c.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=u.x+n*l.x,s.y=u.y+n*l.y,s.z=u.z+n*l.z,h.push(s.x,s.y,s.z)}}!function(){for(A=0;A<t;A++)g(A);g(!1===i?t:0),function(){for(A=0;A<=t;A++)for(o=0;o<=r;o++)c.x=A/t,c.y=o/r,p.push(c.x,c.y)}(),function(){for(o=1;o<=t;o++)for(A=1;A<=r;A++){var e=(r+1)*(o-1)+(A-1),n=(r+1)*o+(A-1),i=(r+1)*o+A,a=(r+1)*(o-1)+A;f.push(e,n,a),f.push(n,i,a)}}()}(),this.setIndex(f),this.setAttribute("position",new _n(h,3)),this.setAttribute("normal",new _n(d,3)),this.setAttribute("uv",new _n(p,2))}function oo(e,t,n,r,i,a,A){br.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==A&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new so(e,t,n,r,i,a)),this.mergeVertices()}function so(e,t,n,r,i,a){Jn.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var A,o,s=[],l=[],c=[],u=[],h=new Ve,d=new Ve,p=new Ve,f=new Ve,g=new Ve,m=new Ve,v=new Ve;for(A=0;A<=n;++A){var y=A/n*i*Math.PI*2;for(I(y,i,a,e,p),I(y+.01,i,a,e,f),m.subVectors(f,p),v.addVectors(f,p),g.crossVectors(m,v),v.crossVectors(g,m),g.normalize(),v.normalize(),o=0;o<=r;++o){var w=o/r*Math.PI*2,B=-t*Math.cos(w),x=t*Math.sin(w);h.x=p.x+(B*v.x+x*g.x),h.y=p.y+(B*v.y+x*g.y),h.z=p.z+(B*v.z+x*g.z),l.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),c.push(d.x,d.y,d.z),u.push(A/n),u.push(o/r)}}for(o=1;o<=n;o++)for(A=1;A<=r;A++){var b=(r+1)*(o-1)+(A-1),C=(r+1)*o+(A-1),M=(r+1)*o+A,E=(r+1)*(o-1)+A;s.push(b,C,E),s.push(C,M,E)}function I(e,t,n,r,i){var a=Math.cos(e),A=Math.sin(e),o=n/t*e,s=Math.cos(o);i.x=r*(2+s)*.5*a,i.y=r*(2+s)*A*.5,i.z=r*Math.sin(o)*.5}this.setIndex(s),this.setAttribute("position",new _n(l,3)),this.setAttribute("normal",new _n(c,3)),this.setAttribute("uv",new _n(u,2))}function lo(e,t,n,r,i){br.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new co(e,t,n,r,i)),this.mergeVertices()}function co(e,t,n,r,i){Jn.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,A,o=[],s=[],l=[],c=[],u=new Ve,h=new Ve,d=new Ve;for(a=0;a<=n;a++)for(A=0;A<=r;A++){var p=A/r*i,f=a/n*Math.PI*2;h.x=(e+t*Math.cos(f))*Math.cos(p),h.y=(e+t*Math.cos(f))*Math.sin(p),h.z=t*Math.sin(f),s.push(h.x,h.y,h.z),u.x=e*Math.cos(p),u.y=e*Math.sin(p),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(A/r),c.push(a/n)}for(a=1;a<=n;a++)for(A=1;A<=r;A++){var g=(r+1)*a+A-1,m=(r+1)*(a-1)+A-1,v=(r+1)*(a-1)+A,y=(r+1)*a+A;o.push(g,m,y),o.push(m,v,y)}this.setIndex(o),this.setAttribute("position",new _n(s,3)),this.setAttribute("normal",new _n(l,3)),this.setAttribute("uv",new _n(c,2))}kA.prototype=Object.assign(Object.create(Ut.prototype),{constructor:kA,isPoints:!0,raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),_A.copy(n.boundingSphere),_A.applyMatrix4(r),_A.radius+=i,!1!==e.ray.intersectsSphere(_A)){OA.getInverse(r),HA.copy(e.ray).applyMatrix4(OA);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),A=a*a;if(n.isBufferGeometry){var o=n.index,s=n.attributes.position.array;if(null!==o)for(var l=o.array,c=0,u=l.length;c<u;c++){var h=l[c];NA.fromArray(s,3*h),GA(NA,h,A,r,e,t,this)}else{c=0;for(var d=s.length/3;c<d;c++)NA.fromArray(s,3*c),GA(NA,c,A,r,e,t,this)}}else{var p=n.vertices;for(c=0,d=p.length;c<d;c++)GA(p[c],c,A,r,e,t,this)}}},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var A=i[a[0]];if(void 0!==A)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=A.length;e<t;e++)n=A[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var o=r.morphTargets;void 0!==o&&o.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),VA.prototype=Object.create(nt.prototype),VA.prototype.constructor=VA,VA.prototype.isCompressedTexture=!0,zA.prototype=Object.create(nt.prototype),zA.prototype.constructor=zA,zA.prototype.isCanvasTexture=!0,jA.prototype=Object.create(nt.prototype),jA.prototype.constructor=jA,jA.prototype.isDepthTexture=!0,WA.prototype=Object.create(Jn.prototype),WA.prototype.constructor=WA,XA.prototype=Object.create(br.prototype),XA.prototype.constructor=XA,YA.prototype=Object.create(Jn.prototype),YA.prototype.constructor=YA,KA.prototype=Object.create(br.prototype),KA.prototype.constructor=KA,ZA.prototype=Object.create(Jn.prototype),ZA.prototype.constructor=ZA,JA.prototype=Object.create(br.prototype),JA.prototype.constructor=JA,qA.prototype=Object.create(ZA.prototype),qA.prototype.constructor=qA,$A.prototype=Object.create(br.prototype),$A.prototype.constructor=$A,eo.prototype=Object.create(ZA.prototype),eo.prototype.constructor=eo,to.prototype=Object.create(br.prototype),to.prototype.constructor=to,no.prototype=Object.create(ZA.prototype),no.prototype.constructor=no,ro.prototype=Object.create(br.prototype),ro.prototype.constructor=ro,io.prototype=Object.create(ZA.prototype),io.prototype.constructor=io,ao.prototype=Object.create(br.prototype),ao.prototype.constructor=ao,Ao.prototype=Object.create(Jn.prototype),Ao.prototype.constructor=Ao,Ao.prototype.toJSON=function(){var e=Jn.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},oo.prototype=Object.create(br.prototype),oo.prototype.constructor=oo,so.prototype=Object.create(Jn.prototype),so.prototype.constructor=so,lo.prototype=Object.create(br.prototype),lo.prototype.constructor=lo,co.prototype=Object.create(Jn.prototype),co.prototype.constructor=co;var uo=function(e,t,n){n=n||2;var r,i,a,A,o,s,l,c=t&&t.length,u=c?t[0]*n:e.length,h=ho(e,0,u,n,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=function(e,t,n,r){var i,a,A,o=[];for(i=0,a=t.length;i<a;i++)(A=ho(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===A.next&&(A.steiner=!0),o.push(bo(A));for(o.sort(wo),i=0;i<o.length;i++)Bo(o[i],n),n=po(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=A=e[1];for(var p=n;p<u;p+=n)(o=e[p])<r&&(r=o),(s=e[p+1])<i&&(i=s),o>a&&(a=o),s>A&&(A=s);l=0!==(l=Math.max(a-r,A-i))?1/l:0}return fo(h,d,n,r,i,l),d};function ho(e,t,n,r,i){var a,A;if(i===function(e,t,n,r){for(var i=0,a=t,A=n-r;a<n;a+=r)i+=(e[A]-e[a])*(e[a+1]+e[A+1]),A=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)A=Uo(a,e[a],e[a+1],A);else for(a=n-r;a>=t;a-=r)A=Uo(a,e[a],e[a+1],A);return A&&Io(A,A.next)&&(Lo(A),A=A.next),A}function po(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Io(r,r.next)&&0!==Eo(r.prev,r,r.next))r=r.next;else{if(Lo(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function fo(e,t,n,r,i,a,A){if(e){!A&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=xo(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,A,o,s,l=1;do{for(n=e,e=null,a=null,A=0;n;){for(A++,r=n,o=0,t=0;t<l&&(o++,r=r.nextZ);t++);for(s=l;o>0||s>0&&r;)0!==o&&(0===s||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,s--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(A>1)}(i)}(e,r,i,a);for(var o,s,l=e;e.prev!==e.next;)if(o=e.prev,s=e.next,a?mo(e,r,i,a):go(e))t.push(o.i/n),t.push(e.i/n),t.push(s.i/n),Lo(e),e=s.next,l=s.next;else if((e=s)===l){A?1===A?fo(e=vo(e,t,n),t,n,r,i,a,2):2===A&&yo(e,t,n,r,i,a):fo(po(e),t,n,r,i,a,1);break}}}function go(e){var t=e.prev,n=e,r=e.next;if(Eo(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Co(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Eo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function mo(e,t,n,r){var i=e.prev,a=e,A=e.next;if(Eo(i,a,A)>=0)return!1;for(var o=i.x<a.x?i.x<A.x?i.x:A.x:a.x<A.x?a.x:A.x,s=i.y<a.y?i.y<A.y?i.y:A.y:a.y<A.y?a.y:A.y,l=i.x>a.x?i.x>A.x?i.x:A.x:a.x>A.x?a.x:A.x,c=i.y>a.y?i.y>A.y?i.y:A.y:a.y>A.y?a.y:A.y,u=xo(o,s,t,n,r),h=xo(l,c,t,n,r),d=e.prevZ,p=e.nextZ;d&&d.z>=u&&p&&p.z<=h;){if(d!==e.prev&&d!==e.next&&Co(i.x,i.y,a.x,a.y,A.x,A.y,d.x,d.y)&&Eo(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&Co(i.x,i.y,a.x,a.y,A.x,A.y,p.x,p.y)&&Eo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&Co(i.x,i.y,a.x,a.y,A.x,A.y,d.x,d.y)&&Eo(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Co(i.x,i.y,a.x,a.y,A.x,A.y,p.x,p.y)&&Eo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function vo(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Io(i,a)&&To(i,r,r.next,a)&&So(i,a)&&So(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Lo(r),Lo(r.next),r=e=a),r=r.next}while(r!==e);return r}function yo(e,t,n,r,i,a){var A=e;do{for(var o=A.next.next;o!==A.prev;){if(A.i!==o.i&&Mo(A,o)){var s=Fo(A,o);return A=po(A,A.next),s=po(s,s.next),fo(A,t,n,r,i,a),void fo(s,t,n,r,i,a)}o=o.next}A=A.next}while(A!==e)}function wo(e,t){return e.x-t.x}function Bo(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,A=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var o=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=i&&o>A){if(A=o,o===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===A)return n.prev;var s,l=n,c=n.x,u=n.y,h=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&Co(a<u?i:A,a,c,u,a<u?A:i,a,r.x,r.y)&&((s=Math.abs(a-r.y)/(i-r.x))<h||s===h&&r.x>n.x)&&So(r,e)&&(n=r,h=s),r=r.next;return n}(e,t)){var n=Fo(t,e);po(n,n.next)}}function xo(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function bo(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Co(e,t,n,r,i,a,A,o){return(i-A)*(t-o)-(e-A)*(a-o)>=0&&(e-A)*(r-o)-(n-A)*(t-o)>=0&&(n-A)*(a-o)-(i-A)*(r-o)>=0}function Mo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&To(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&So(e,t)&&So(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function Eo(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Io(e,t){return e.x===t.x&&e.y===t.y}function To(e,t,n,r){return!!(Io(e,n)&&Io(t,r)||Io(e,r)&&Io(n,t))||Eo(e,t,n)>0!=Eo(e,t,r)>0&&Eo(n,r,e)>0!=Eo(n,r,t)>0}function So(e,t){return Eo(e.prev,e,e.next)<0?Eo(e,t,e.next)>=0&&Eo(e,e.prev,t)>=0:Eo(e,t,e.prev)<0||Eo(e,e.next,t)<0}function Fo(e,t){var n=new Ro(e.i,e.x,e.y),r=new Ro(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Uo(e,t,n,r){var i=new Ro(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Lo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ro(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Po={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Po.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Do(e),Qo(n,e);var a=e.length;t.forEach(Do);for(var A=0;A<t.length;A++)r.push(a),a+=t[A].length,Qo(n,t[A]);var o=uo(n,r);for(A=0;A<o.length;A+=3)i.push(o.slice(A,A+3));return i}};function Do(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Qo(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Oo(e,t){br.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Ho(e,t)),this.mergeVertices()}function Ho(e,t){Jn.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],a=0,A=e.length;a<A;a++){o(e[a])}function o(e){var a=[],A=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,s=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,u=void 0!==t.bevelSize?t.bevelSize:c-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:_o;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),s=t.amount);var g,m,v,y,w,B,x,b,C=!1;p&&(g=p.getSpacedPoints(o),C=!0,l=!1,m=p.computeFrenetFrames(o,!1),v=new Ve,y=new Ve,w=new Ve),l||(d=0,c=0,u=0,h=0);var M=e.extractPoints(A),E=M.shape,I=M.holes;if(!Po.isClockWise(E))for(E=E.reverse(),x=0,b=I.length;x<b;x++)B=I[x],Po.isClockWise(B)&&(I[x]=B.reverse());var T=Po.triangulateShape(E,I),S=E;for(x=0,b=I.length;x<b;x++)B=I[x],E=E.concat(B);function F(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var U,L,R,P,D,Q,O=E.length,H=T.length;function _(e,t,n){var r,i,a,A=e.x-t.x,o=e.y-t.y,s=n.x-e.x,l=n.y-e.y,c=A*A+o*o,u=A*l-o*s;if(Math.abs(u)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(s*s+l*l),p=t.x-o/h,f=t.y+A/h,g=((n.x-l/d-p)*l-(n.y+s/d-f)*s)/(A*l-o*s),m=(r=p+A*g-e.x)*r+(i=f+o*g-e.y)*i;if(m<=2)return new _e(r,i);a=Math.sqrt(m/2)}else{var v=!1;A>Number.EPSILON?s>Number.EPSILON&&(v=!0):A<-Number.EPSILON?s<-Number.EPSILON&&(v=!0):Math.sign(o)===Math.sign(l)&&(v=!0),v?(r=-o,i=A,a=Math.sqrt(c)):(r=A,i=o,a=Math.sqrt(c/2))}return new _e(r/a,i/a)}for(var N=[],k=0,G=S.length,V=G-1,z=k+1;k<G;k++,V++,z++)V===G&&(V=0),z===G&&(z=0),N[k]=_(S[k],S[V],S[z]);var j,W,X=[],Y=N.concat();for(x=0,b=I.length;x<b;x++){for(B=I[x],j=[],k=0,V=(G=B.length)-1,z=k+1;k<G;k++,V++,z++)V===G&&(V=0),z===G&&(z=0),j[k]=_(B[k],B[V],B[z]);X.push(j),Y=Y.concat(j)}for(U=0;U<d;U++){for(R=U/d,P=c*Math.cos(R*Math.PI/2),L=u*Math.sin(R*Math.PI/2)+h,k=0,G=S.length;k<G;k++)Z((D=F(S[k],N[k],L)).x,D.y,-P);for(x=0,b=I.length;x<b;x++)for(B=I[x],j=X[x],k=0,G=B.length;k<G;k++)Z((D=F(B[k],j[k],L)).x,D.y,-P)}for(L=u+h,k=0;k<O;k++)D=l?F(E[k],Y[k],L):E[k],C?(y.copy(m.normals[0]).multiplyScalar(D.x),v.copy(m.binormals[0]).multiplyScalar(D.y),w.copy(g[0]).add(y).add(v),Z(w.x,w.y,w.z)):Z(D.x,D.y,0);for(W=1;W<=o;W++)for(k=0;k<O;k++)D=l?F(E[k],Y[k],L):E[k],C?(y.copy(m.normals[W]).multiplyScalar(D.x),v.copy(m.binormals[W]).multiplyScalar(D.y),w.copy(g[W]).add(y).add(v),Z(w.x,w.y,w.z)):Z(D.x,D.y,s/o*W);for(U=d-1;U>=0;U--){for(R=U/d,P=c*Math.cos(R*Math.PI/2),L=u*Math.sin(R*Math.PI/2)+h,k=0,G=S.length;k<G;k++)Z((D=F(S[k],N[k],L)).x,D.y,s+P);for(x=0,b=I.length;x<b;x++)for(B=I[x],j=X[x],k=0,G=B.length;k<G;k++)D=F(B[k],j[k],L),C?Z(D.x,D.y+g[o-1].y,g[o-1].x+P):Z(D.x,D.y,s+P)}function K(e,t){var n,r;for(k=e.length;--k>=0;){n=k,(r=k-1)<0&&(r=e.length-1);var i=0,a=o+2*d;for(i=0;i<a;i++){var A=O*i,s=O*(i+1);q(t+n+A,t+r+A,t+r+s,t+n+s)}}}function Z(e,t,n){a.push(e),a.push(t),a.push(n)}function J(e,t,i){$(e),$(t),$(i);var a=r.length/3,A=f.generateTopUV(n,r,a-3,a-2,a-1);ee(A[0]),ee(A[1]),ee(A[2])}function q(e,t,i,a){$(e),$(t),$(a),$(t),$(i),$(a);var A=r.length/3,o=f.generateSideWallUV(n,r,A-6,A-3,A-2,A-1);ee(o[0]),ee(o[1]),ee(o[3]),ee(o[1]),ee(o[2]),ee(o[3])}function $(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function ee(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(l){var t=0,i=O*t;for(k=0;k<H;k++)J((Q=T[k])[2]+i,Q[1]+i,Q[0]+i);for(i=O*(t=o+2*d),k=0;k<H;k++)J((Q=T[k])[0]+i,Q[1]+i,Q[2]+i)}else{for(k=0;k<H;k++)J((Q=T[k])[2],Q[1],Q[0]);for(k=0;k<H;k++)J((Q=T[k])[0]+O*o,Q[1]+O*o,Q[2]+O*o)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(K(S,t),t+=S.length,x=0,b=I.length;x<b;x++)K(B=I[x],t),t+=B.length;n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new _n(r,3)),this.setAttribute("uv",new _n(i,2)),this.computeVertexNormals()}Oo.prototype=Object.create(br.prototype),Oo.prototype.constructor=Oo,Oo.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return No(this.parameters.shapes,this.parameters.options,e)},Ho.prototype=Object.create(Jn.prototype),Ho.prototype.constructor=Ho,Ho.prototype.toJSON=function(){var e=Jn.prototype.toJSON.call(this);return No(this.parameters.shapes,this.parameters.options,e)};var _o={generateTopUV:function(e,t,n,r,i){var a=t[3*n],A=t[3*n+1],o=t[3*r],s=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new _e(a,A),new _e(o,s),new _e(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var A=t[3*n],o=t[3*n+1],s=t[3*n+2],l=t[3*r],c=t[3*r+1],u=t[3*r+2],h=t[3*i],d=t[3*i+1],p=t[3*i+2],f=t[3*a],g=t[3*a+1],m=t[3*a+2];return Math.abs(o-c)<.01?[new _e(A,1-s),new _e(l,1-u),new _e(h,1-p),new _e(f,1-m)]:[new _e(o,1-s),new _e(c,1-u),new _e(d,1-p),new _e(g,1-m)]}};function No(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function ko(e,t){br.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Go(e,t)),this.mergeVertices()}function Go(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new br;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Ho.call(this,r,t),this.type="TextBufferGeometry"}function Vo(e,t,n,r,i,a,A){br.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:A},this.fromBufferGeometry(new zo(e,t,n,r,i,a,A)),this.mergeVertices()}function zo(e,t,n,r,i,a,A){Jn.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:A},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,a=void 0!==a?a:0,A=void 0!==A?A:Math.PI;var o,s,l=Math.min(a+A,Math.PI),c=0,u=[],h=new Ve,d=new Ve,p=[],f=[],g=[],m=[];for(s=0;s<=n;s++){var v=[],y=s/n,w=0;for(0==s&&0==a?w=.5/t:s==n&&l==Math.PI&&(w=-.5/t),o=0;o<=t;o++){var B=o/t;h.x=-e*Math.cos(r+B*i)*Math.sin(a+y*A),h.y=e*Math.cos(a+y*A),h.z=e*Math.sin(r+B*i)*Math.sin(a+y*A),f.push(h.x,h.y,h.z),d.copy(h).normalize(),g.push(d.x,d.y,d.z),m.push(B+w,1-y),v.push(c++)}u.push(v)}for(s=0;s<n;s++)for(o=0;o<t;o++){var x=u[s][o+1],b=u[s][o],C=u[s+1][o],M=u[s+1][o+1];(0!==s||a>0)&&p.push(x,b,M),(s!==n-1||l<Math.PI)&&p.push(b,C,M)}this.setIndex(p),this.setAttribute("position",new _n(f,3)),this.setAttribute("normal",new _n(g,3)),this.setAttribute("uv",new _n(m,2))}function jo(e,t,n,r,i,a){br.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new Wo(e,t,n,r,i,a)),this.mergeVertices()}function Wo(e,t,n,r,i,a){Jn.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},e=e||.5,t=t||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var A,o,s,l=[],c=[],u=[],h=[],d=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),f=new Ve,g=new _e;for(o=0;o<=r;o++){for(s=0;s<=n;s++)A=i+s/n*a,f.x=d*Math.cos(A),f.y=d*Math.sin(A),c.push(f.x,f.y,f.z),u.push(0,0,1),g.x=(f.x/t+1)/2,g.y=(f.y/t+1)/2,h.push(g.x,g.y);d+=p}for(o=0;o<r;o++){var m=o*(n+1);for(s=0;s<n;s++){var v=A=s+m,y=A+n+1,w=A+n+2,B=A+1;l.push(v,y,B),l.push(y,w,B)}}this.setIndex(l),this.setAttribute("position",new _n(c,3)),this.setAttribute("normal",new _n(u,3)),this.setAttribute("uv",new _n(h,2))}function Xo(e,t,n,r){br.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Yo(e,t,n,r)),this.mergeVertices()}function Yo(e,t,n,r){Jn.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=He.clamp(r,0,2*Math.PI);var i,a,A,o=[],s=[],l=[],c=1/t,u=new Ve,h=new _e;for(a=0;a<=t;a++){var d=n+a*c*r,p=Math.sin(d),f=Math.cos(d);for(A=0;A<=e.length-1;A++)u.x=e[A].x*p,u.y=e[A].y,u.z=e[A].x*f,s.push(u.x,u.y,u.z),h.x=a/t,h.y=A/(e.length-1),l.push(h.x,h.y)}for(a=0;a<t;a++)for(A=0;A<e.length-1;A++){var g=i=A+a*e.length,m=i+e.length,v=i+e.length+1,y=i+1;o.push(g,m,y),o.push(m,v,y)}if(this.setIndex(o),this.setAttribute("position",new _n(s,3)),this.setAttribute("uv",new _n(l,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,B=new Ve,x=new Ve,b=new Ve;for(i=t*e.length*3,a=0,A=0;a<e.length;a++,A+=3)B.x=w[A+0],B.y=w[A+1],B.z=w[A+2],x.x=w[i+A+0],x.y=w[i+A+1],x.z=w[i+A+2],b.addVectors(B,x).normalize(),w[A+0]=w[i+A+0]=b.x,w[A+1]=w[i+A+1]=b.y,w[A+2]=w[i+A+2]=b.z}}function Ko(e,t){br.call(this),this.type="ShapeGeometry","object"===r(t)&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Zo(e,t)),this.mergeVertices()}function Zo(e,t){Jn.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],a=[],A=0,o=0;if(!1===Array.isArray(e))l(e);else for(var s=0;s<e.length;s++)l(e[s]),this.addGroup(A,o,s),A+=o,o=0;function l(e){var A,s,l,c=r.length/3,u=e.extractPoints(t),h=u.shape,d=u.holes;for(!1===Po.isClockWise(h)&&(h=h.reverse()),A=0,s=d.length;A<s;A++)l=d[A],!0===Po.isClockWise(l)&&(d[A]=l.reverse());var p=Po.triangulateShape(h,d);for(A=0,s=d.length;A<s;A++)l=d[A],h=h.concat(l);for(A=0,s=h.length;A<s;A++){var f=h[A];r.push(f.x,f.y,0),i.push(0,0,1),a.push(f.x,f.y)}for(A=0,s=p.length;A<s;A++){var g=p[A],m=g[0]+c,v=g[1]+c,y=g[2]+c;n.push(m,v,y),o+=3}}this.setIndex(n),this.setAttribute("position",new _n(r,3)),this.setAttribute("normal",new _n(i,3)),this.setAttribute("uv",new _n(a,2))}function Jo(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function qo(e,t){Jn.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,a,A=[],o=Math.cos(He.DEG2RAD*t),s=[0,0],l={},c=["a","b","c"];e.isBufferGeometry?(a=new br).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var u=a.vertices,h=a.faces,d=0,p=h.length;d<p;d++)for(var f=h[d],g=0;g<3;g++)n=f[c[g]],r=f[c[(g+1)%3]],s[0]=Math.min(n,r),s[1]=Math.max(n,r),void 0===l[i=s[0]+","+s[1]]?l[i]={index1:s[0],index2:s[1],face1:d,face2:void 0}:l[i].face2=d;for(i in l){var m=l[i];if(void 0===m.face2||h[m.face1].normal.dot(h[m.face2].normal)<=o){var v=u[m.index1];A.push(v.x,v.y,v.z),v=u[m.index2],A.push(v.x,v.y,v.z)}}this.setAttribute("position",new _n(A,3))}function $o(e,t,n,r,i,a,A,o){br.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:A,thetaLength:o},this.fromBufferGeometry(new es(e,t,n,r,i,a,A,o)),this.mergeVertices()}function es(e,t,n,r,i,a,A,o){Jn.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:A,thetaLength:o};var s=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,A=void 0!==A?A:0,o=void 0!==o?o:2*Math.PI;var l=[],c=[],u=[],h=[],d=0,p=[],f=n/2,g=0;function m(n){var i,a,p,m=new _e,v=new Ve,y=0,w=!0===n?e:t,B=!0===n?1:-1;for(a=d,i=1;i<=r;i++)c.push(0,f*B,0),u.push(0,B,0),h.push(.5,.5),d++;for(p=d,i=0;i<=r;i++){var x=i/r*o+A,b=Math.cos(x),C=Math.sin(x);v.x=w*C,v.y=f*B,v.z=w*b,c.push(v.x,v.y,v.z),u.push(0,B,0),m.x=.5*b+.5,m.y=.5*C*B+.5,h.push(m.x,m.y),d++}for(i=0;i<r;i++){var M=a+i,E=p+i;!0===n?l.push(E,E+1,M):l.push(E+1,E,M),y+=3}s.addGroup(g,y,!0===n?1:2),g+=y}!function(){var a,m,v=new Ve,y=new Ve,w=0,B=(t-e)/n;for(m=0;m<=i;m++){var x=[],b=m/i,C=b*(t-e)+e;for(a=0;a<=r;a++){var M=a/r,E=M*o+A,I=Math.sin(E),T=Math.cos(E);y.x=C*I,y.y=-b*n+f,y.z=C*T,c.push(y.x,y.y,y.z),v.set(I,B,T).normalize(),u.push(v.x,v.y,v.z),h.push(M,1-b),x.push(d++)}p.push(x)}for(a=0;a<r;a++)for(m=0;m<i;m++){var S=p[m][a],F=p[m+1][a],U=p[m+1][a+1],L=p[m][a+1];l.push(S,F,L),l.push(F,U,L),w+=6}s.addGroup(g,w,0),g+=w}(),!1===a&&(e>0&&m(!0),t>0&&m(!1)),this.setIndex(l),this.setAttribute("position",new _n(c,3)),this.setAttribute("normal",new _n(u,3)),this.setAttribute("uv",new _n(h,2))}function ts(e,t,n,r,i,a,A){$o.call(this,0,e,t,n,r,i,a,A),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:A}}function ns(e,t,n,r,i,a,A){es.call(this,0,e,t,n,r,i,a,A),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:A}}function rs(e,t,n,r){br.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new is(e,t,n,r)),this.mergeVertices()}function is(e,t,n,r){Jn.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,a,A=[],o=[],s=[],l=[],c=new Ve,u=new _e;for(o.push(0,0,0),s.push(0,0,1),l.push(.5,.5),a=0,i=3;a<=t;a++,i+=3){var h=n+a/t*r;c.x=e*Math.cos(h),c.y=e*Math.sin(h),o.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(o[i]/e+1)/2,u.y=(o[i+1]/e+1)/2,l.push(u.x,u.y)}for(i=1;i<=t;i++)A.push(i,i+1,0);this.setIndex(A),this.setAttribute("position",new _n(o,3)),this.setAttribute("normal",new _n(s,3)),this.setAttribute("uv",new _n(l,2))}ko.prototype=Object.create(br.prototype),ko.prototype.constructor=ko,Go.prototype=Object.create(Ho.prototype),Go.prototype.constructor=Go,Vo.prototype=Object.create(br.prototype),Vo.prototype.constructor=Vo,zo.prototype=Object.create(Jn.prototype),zo.prototype.constructor=zo,jo.prototype=Object.create(br.prototype),jo.prototype.constructor=jo,Wo.prototype=Object.create(Jn.prototype),Wo.prototype.constructor=Wo,Xo.prototype=Object.create(br.prototype),Xo.prototype.constructor=Xo,Yo.prototype=Object.create(Jn.prototype),Yo.prototype.constructor=Yo,Ko.prototype=Object.create(br.prototype),Ko.prototype.constructor=Ko,Ko.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return Jo(this.parameters.shapes,e)},Zo.prototype=Object.create(Jn.prototype),Zo.prototype.constructor=Zo,Zo.prototype.toJSON=function(){var e=Jn.prototype.toJSON.call(this);return Jo(this.parameters.shapes,e)},qo.prototype=Object.create(Jn.prototype),qo.prototype.constructor=qo,$o.prototype=Object.create(br.prototype),$o.prototype.constructor=$o,es.prototype=Object.create(Jn.prototype),es.prototype.constructor=es,ts.prototype=Object.create($o.prototype),ts.prototype.constructor=ts,ns.prototype=Object.create(es.prototype),ns.prototype.constructor=ns,rs.prototype=Object.create(br.prototype),rs.prototype.constructor=rs,is.prototype=Object.create(Jn.prototype),is.prototype.constructor=is;var as=Object.freeze({__proto__:null,WireframeGeometry:WA,ParametricGeometry:XA,ParametricBufferGeometry:YA,TetrahedronGeometry:JA,TetrahedronBufferGeometry:qA,OctahedronGeometry:$A,OctahedronBufferGeometry:eo,IcosahedronGeometry:to,IcosahedronBufferGeometry:no,DodecahedronGeometry:ro,DodecahedronBufferGeometry:io,PolyhedronGeometry:KA,PolyhedronBufferGeometry:ZA,TubeGeometry:ao,TubeBufferGeometry:Ao,TorusKnotGeometry:oo,TorusKnotBufferGeometry:so,TorusGeometry:lo,TorusBufferGeometry:co,TextGeometry:ko,TextBufferGeometry:Go,SphereGeometry:Vo,SphereBufferGeometry:zo,RingGeometry:jo,RingBufferGeometry:Wo,PlaneGeometry:zr,PlaneBufferGeometry:jr,LatheGeometry:Xo,LatheBufferGeometry:Yo,ShapeGeometry:Ko,ShapeBufferGeometry:Zo,ExtrudeGeometry:Oo,ExtrudeBufferGeometry:Ho,EdgesGeometry:qo,ConeGeometry:ts,ConeBufferGeometry:ns,CylinderGeometry:$o,CylinderBufferGeometry:es,CircleGeometry:rs,CircleBufferGeometry:is,BoxGeometry:Cr,BoxBufferGeometry:Mr});function As(e){Sn.call(this),this.type="ShadowMaterial",this.color=new bn(0),this.transparent=!0,this.setValues(e)}function os(e){Sr.call(this,e),this.type="RawShaderMaterial"}function ss(e){Sn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ls(e){ss.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new _e(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function cs(e){Sn.call(this),this.type="MeshPhongMaterial",this.color=new bn(16777215),this.specular=new bn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function us(e){cs.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function hs(e){Sn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ds(e){Sn.call(this),this.type="MeshLambertMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ps(e){Sn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function fs(e){MA.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function gs(e){Sn.call(this),this.defines={STANDARD:""},this.type="AMRTBasicMaterial",this.color=new bn(16777215),this.albedo=null,this.albedoUV=0,this.normalMap=null,this.normalScale=1,this.normalMap2=null,this.normalScale2=1,this.metallicMap=null,this.metallic=0,this.roughnessMap=null,this.smoothness=0,this.aoMap=null,this.aoScale=1,this.aoUV=0,this.emissive=new bn(0),this.emissiveMap=null,this.emissiveUV=0,this.reflectMap=null,this.reflectIntensity=0,this.cutout=.5,this.reflectivity=1,this.transparency=0,this.opacity=1,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.vertexTangents=!0,this.normalMapType=0,this.envRotateY=0,this.envYMatrix=new We,this.reflectRotateY=0,this.reflecYMatrix=new We,this.setValues(e),this.__defineSetter__("envRotateY",(function(e){this.envYMatrix=(new We).rotateY(e)})),this.__defineSetter__("reflectRotateY",(function(e){this.reflecYMatrix=(new We).rotateY(e)}))}As.prototype=Object.create(Sn.prototype),As.prototype.constructor=As,As.prototype.isShadowMaterial=!0,As.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.color.copy(e.color),this},os.prototype=Object.create(Sr.prototype),os.prototype.constructor=os,os.prototype.isRawShaderMaterial=!0,ss.prototype=Object.create(Sn.prototype),ss.prototype.constructor=ss,ss.prototype.isMeshStandardMaterial=!0,ss.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ls.prototype=Object.create(ss.prototype),ls.prototype.constructor=ls,ls.prototype.isMeshPhysicalMaterial=!0,ls.prototype.copy=function(e){return ss.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new bn).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},cs.prototype=Object.create(Sn.prototype),cs.prototype.constructor=cs,cs.prototype.isMeshPhongMaterial=!0,cs.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},us.prototype=Object.create(cs.prototype),us.prototype.constructor=us,us.prototype.isMeshToonMaterial=!0,us.prototype.copy=function(e){return cs.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},hs.prototype=Object.create(Sn.prototype),hs.prototype.constructor=hs,hs.prototype.isMeshNormalMaterial=!0,hs.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ds.prototype=Object.create(Sn.prototype),ds.prototype.constructor=ds,ds.prototype.isMeshLambertMaterial=!0,ds.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ps.prototype=Object.create(Sn.prototype),ps.prototype.constructor=ps,ps.prototype.isMeshMatcapMaterial=!0,ps.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},fs.prototype=Object.create(MA.prototype),fs.prototype.constructor=fs,fs.prototype.isLineDashedMaterial=!0,fs.prototype.copy=function(e){return MA.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this},gs.prototype=Object.create(Sn.prototype),gs.prototype.constructor=gs,gs.prototype.isAMRTBasicMaterial=!0,gs.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.albedo=e.albedo,this.albedoUV=e.albedoUV,this.normalMap=e.normalMap,this.normalScale=e.normalScale,this.normalMap2=e.normalMap2,this.normalScale2=e.normalScale2,this.metallicMap=e.metallicMap,this.metallic=e.metallic,this.roughnessMap=e.roughnessMap,this.smoothness=e.smoothness,this.aoMap=e.aoMap,this.aoScale=e.aoScale,this.aoUV=e.aoUV,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveUV=e.emissiveUV,this.reflectMap=e.reflectMap,this.reflectIntensity=e.reflectIntensity,this.cutout=e.cutout,this.reflectivity=e.reflectivity,this.transparency=e.transparency,this.opacity=e.opacity,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.vertexTangents=e.vertexTangents,this.normalMapType=e.normalMapType,this.envRotateY=e.envRotateY,this.envYMatrix=e.envYMatrix,this.reflectRotateY=e.reflectRotateY,this.reflecYMatrix=e.reflecYMatrix,this},gs.prototype.dispose=function(){Sn.prototype.dispose.call(this),this.albedo&&this.albedo.dispose(),this.metallicMap&&this.metallicMap.dispose(),this.roughnessMap&&this.roughnessMap.dispose(),this.aoMap&&this.aoMap.dispose(),this.emissiveMap&&this.emissiveMap.dispose(),this.reflectMap&&this.reflectMap.dispose(),this.envMap&&this.envMap.dispose()};var ms=Object.freeze({__proto__:null,ShadowMaterial:As,SpriteMaterial:Za,RawShaderMaterial:os,ShaderMaterial:Sr,PointsMaterial:QA,MeshPhysicalMaterial:ls,MeshStandardMaterial:ss,MeshPhongMaterial:cs,MeshToonMaterial:us,MeshNormalMaterial:hs,MeshLambertMaterial:ds,MeshDepthMaterial:Sa,MeshDistanceMaterial:Fa,MeshBasicMaterial:Fn,MeshMatcapMaterial:ps,LineDashedMaterial:fs,LineBasicMaterial:MA,AMRTBasicMaterial:gs,Material:Sn}),vs={arraySlice:function(e,t,n){return vs.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,A=0;A!==r;++a)for(var o=n[a]*t,s=0;s!==t;++s)i[A++]=e[o+s];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var A=a[r];if(void 0!==A)if(Array.isArray(A))do{void 0!==(A=a[r])&&(t.push(a.time),n.push.apply(n,A)),a=e[i++]}while(void 0!==a);else if(void 0!==A.toArray)do{void 0!==(A=a[r])&&(t.push(a.time),A.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(A=a[r])&&(t.push(a.time),n.push(A)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,n,r,i){i=i||30;var a=e.clone();a.name=t;for(var A=[],o=0;o<a.tracks.length;++o){for(var s=a.tracks[o],l=s.getValueSize(),c=[],u=[],h=0;h<s.times.length;++h){var d=s.times[h]*i;if(!(d<n||d>=r)){c.push(s.times[h]);for(var p=0;p<l;++p)u.push(s.values[h*l+p])}}0!==c.length&&(s.times=vs.convertArray(c,s.times.constructor),s.values=vs.convertArray(u,s.values.constructor),A.push(s))}a.tracks=A;var f=1/0;for(o=0;o<a.tracks.length;++o)f>a.tracks[o].times[0]&&(f=a.tracks[o].times[0]);for(o=0;o<a.tracks.length;++o)a.tracks[o].shift(-1*f);return a.resetDuration(),a}};function ys(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function ws(e,t,n,r){ys.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Bs(e,t,n,r){ys.call(this,e,t,n,r)}function xs(e,t,n,r){ys.call(this,e,t,n,r)}function bs(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=vs.convertArray(t,this.TimeBufferType),this.values=vs.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Cs(e,t,n){bs.call(this,e,t,n)}function Ms(e,t,n,r){bs.call(this,e,t,n,r)}function Es(e,t,n,r){bs.call(this,e,t,n,r)}function Is(e,t,n,r){ys.call(this,e,t,n,r)}function Ts(e,t,n,r){bs.call(this,e,t,n,r)}function Ss(e,t,n,r){bs.call(this,e,t,n,r)}function Fs(e,t,n,r){bs.call(this,e,t,n,r)}function Us(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=He.generateUUID(),this.duration<0&&this.resetDuration()}function Ls(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Es;case"vector":case"vector2":case"vector3":case"vector4":return Fs;case"color":return Ms;case"quaternion":return Ts;case"bool":case"boolean":return Cs;case"string":return Ss}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];vs.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}function Rs(e,t,n){var r=this,i=!1,a=0,A=0,o=void 0,s=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){A++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,A),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,A),a===A&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return o?o(e):e},this.setURLModifier=function(e){return o=e,this},this.addHandler=function(e,t){return s.push(e,t),this},this.removeHandler=function(e){var t=s.indexOf(e);return-1!==t&&s.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=s.length;t<n;t+=2){var r=s[t],i=s[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}Object.assign(ys.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var A=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===A)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var o=t[1];e<o&&(n=2,i=o);for(A=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===A)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var s=n+a>>>1;e<t[s]?a=s:n=s+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(ys.prototype,{beforeStart_:ys.prototype.copySampleValue_,afterEnd_:ys.prototype.copySampleValue_}),ws.prototype=Object.assign(Object.create(ys.prototype),{constructor:ws,DefaultSettings_:{endingStart:ye,endingEnd:ye},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,A=r[i],o=r[a];if(void 0===A)switch(this.getSettings_().endingStart){case we:i=e,A=2*t-n;break;case Be:A=t+r[i=r.length-2]-r[i+1];break;default:i=e,A=n}if(void 0===o)switch(this.getSettings_().endingEnd){case we:a=e,o=2*n-t;break;case Be:a=1,o=n+r[1]-r[0];break;default:a=e-1,o=t}var s=.5*(n-t),l=this.valueSize;this._weightPrev=s/(t-A),this._weightNext=s/(o-n),this._offsetPrev=i*l,this._offsetNext=a*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,A=this.valueSize,o=e*A,s=o-A,l=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),p=d*d,f=p*d,g=-u*f+2*u*p-u*d,m=(1+u)*f+(-1.5-2*u)*p+(-.5+u)*d+1,v=(-1-h)*f+(1.5+h)*p+.5*d,y=h*f-h*p,w=0;w!==A;++w)i[w]=g*a[l+w]+m*a[s+w]+v*a[o+w]+y*a[c+w];return i}}),Bs.prototype=Object.assign(Object.create(ys.prototype),{constructor:Bs,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,A=this.valueSize,o=e*A,s=o-A,l=(n-t)/(r-t),c=1-l,u=0;u!==A;++u)i[u]=a[s+u]*c+a[o+u]*l;return i}}),xs.prototype=Object.assign(Object.create(ys.prototype),{constructor:xs,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(bs,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:vs.convertArray(e.times,Array),values:vs.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(bs.prototype,{constructor:bs,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:me,InterpolantFactoryMethodDiscrete:function(e){return new xs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Bs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ws(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case ge:t=this.InterpolantFactoryMethodDiscrete;break;case me:t=this.InterpolantFactoryMethodLinear;break;case ve:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ge;case this.InterpolantFactoryMethodLinear:return me;case this.InterpolantFactoryMethodSmooth:return ve}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var A=this.getValueSize();this.times=vs.arraySlice(n,i,a),this.values=vs.arraySlice(this.values,i*A,a*A)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,A=0;A!==i;A++){var o=n[A];if("number"==typeof o&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,A,o),e=!1;break}if(null!==a&&a>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,A,o,a),e=!1;break}a=o}if(void 0!==r&&vs.isTypedArray(r)){A=0;for(var s=r.length;A!==s;++A){var l=r[A];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,A,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===ve,i=1,a=e.length-1,A=1;A<a;++A){var o=!1,s=e[A];if(s!==e[A+1]&&(1!==A||s!==s[0]))if(r)o=!0;else for(var l=A*n,c=l-n,u=l+n,h=0;h!==n;++h){var d=t[l+h];if(d!==t[c+h]||d!==t[u+h]){o=!0;break}}if(o){if(A!==i){e[i]=e[A];var p=A*n,f=i*n;for(h=0;h!==n;++h)t[f+h]=t[p+h]}++i}}if(a>0){e[i]=e[a];for(p=a*n,f=i*n,h=0;h!==n;++h)t[f+h]=t[p+h];++i}return i!==e.length&&(this.times=vs.arraySlice(e,0,i),this.values=vs.arraySlice(t,0,i*n)),this},clone:function(){var e=vs.arraySlice(this.times,0),t=vs.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Cs.prototype=Object.assign(Object.create(bs.prototype),{constructor:Cs,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ge,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ms.prototype=Object.assign(Object.create(bs.prototype),{constructor:Ms,ValueTypeName:"color"}),Es.prototype=Object.assign(Object.create(bs.prototype),{constructor:Es,ValueTypeName:"number"}),Is.prototype=Object.assign(Object.create(ys.prototype),{constructor:Is,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,A=this.valueSize,o=e*A,s=(n-t)/(r-t),l=o+A;o!==l;o+=4)Ne.slerpFlat(i,0,a,o-A,a,o,s);return i}}),Ts.prototype=Object.assign(Object.create(bs.prototype),{constructor:Ts,ValueTypeName:"quaternion",DefaultInterpolation:me,InterpolantFactoryMethodLinear:function(e){return new Is(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Ss.prototype=Object.assign(Object.create(bs.prototype),{constructor:Ss,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ge,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Fs.prototype=Object.assign(Object.create(bs.prototype),{constructor:Fs,ValueTypeName:"vector"}),Object.assign(Us,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Ls(n[i]).scale(r));return new Us(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,a=n.length;i!==a;++i)t.push(bs.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],A=0;A<i;A++){var o=[],s=[];o.push((A+i-1)%i,A,(A+1)%i),s.push(0,1,0);var l=vs.getKeyframeOrder(o);o=vs.sortedArray(o,1,l),s=vs.sortedArray(s,1,l),r||0!==o[0]||(o.push(i),s.push(s[0])),a.push(new Es(".morphTargetInfluences["+t[A].name+"]",o,s).scale(1/n))}return new Us(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,A=e.length;a<A;a++){var o=e[a],s=o.name.match(i);if(s&&s.length>1){var l=r[u=s[1]];l||(r[u]=l=[]),l.push(o)}}var c=[];for(var u in r)c.push(Us.CreateFromMorphTargetSequence(u,r[u],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],A=[];vs.flattenJSON(n,a,A,r),0!==a.length&&i.push(new e(t,a,A))}},r=[],i=e.name||"default",a=e.length||-1,A=e.fps||30,o=e.hierarchy||[],s=0;s<o.length;s++){var l=o[s].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},u=0;u<l.length;u++)if(l[u].morphTargets)for(var h=0;h<l[u].morphTargets.length;h++)c[l[u].morphTargets[h]]=-1;for(var d in c){var p=[],f=[];for(h=0;h!==l[u].morphTargets.length;++h){var g=l[u];p.push(g.time),f.push(g.morphTarget===d?1:0)}r.push(new Es(".morphTargetInfluence["+d+"]",p,f))}a=c.length*(A||1)}else{var m=".bones["+t[s].name+"]";n(Fs,m+".position",l,"pos",r),n(Ts,m+".quaternion",l,"rot",r),n(Fs,m+".scale",l,"scl",r)}}return 0===r.length?null:new Us(i,a,r)}}),Object.assign(Us.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Us(this.name,this.duration,e)}}),Us.prototype.slice=function(e){var t=[],n=0,r=this;return e.forEach((function(e,i){var a=[];r.tracks.forEach((function(t){var r,i=t.constructor==Fs?3:4,A=t.times.toArray().concat([]).slice(e[0],e[1]+1),o=t.values.toArray().concat([]).slice(e[0]*i,(e[1]+1)*i);0==A.length&&(A.push(0),o=t.values.toArray().concat([])),A.forEach((function(e,t){A[t]-=n})),t.constructor==Fs?r=new Fs(t.name,A,o):t.constructor==Ts&&(r=new Ts(t.name,A,o)),a.push(r)}));var A=new Us("Take_"+i,-1,a);t.push(A),n=A.duration})),t},Float32Array.prototype.toArray=function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e};var Ps=new Rs;function Ds(e){this.manager=void 0!==e?e:Ps,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(Ds.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Qs={enabled:!0,files:{},add:function(e,t){!1!==this.enabled&&(e.indexOf("?time=")>-1&&(e=e.substring(0,e.indexOf("?time="))),this.files[e]=t)},get:function(e){if(!1!==this.enabled)return e.indexOf("?time=")>-1&&(e=e.substring(0,e.indexOf("?time="))),this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Os={};function Hs(e){Ds.call(this,e)}function _s(e){Ds.call(this,e)}function Ns(e){Ds.call(this,e)}function ks(e){Ds.call(this,e)}function Gs(e){Ds.call(this,e)}function Vs(e){Ds.call(this,e)}function zs(e){Ds.call(this,e)}function js(){this.type="Curve",this.arcLengthDivisions=200}function Ws(e,t,n,r,i,a,A,o){js.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=A||!1,this.aRotation=o||0}function Xs(e,t,n,r,i,a){Ws.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function Ys(){var e=0,t=0,n=0,r=0;function i(i,a,A,o){e=i,t=A,n=-3*i+3*a-2*A-o,r=2*i-2*a+A+o}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,A,o){var s=(t-e)/a-(n-e)/(a+A)+(n-t)/A,l=(n-t)/A-(r-t)/(A+o)+(r-n)/o;i(t,n,s*=A,l*=A)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}Hs.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Hs,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Qs.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Os[e]){var A=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(A){var o=A[1],s=!!A[2],l=A[3];l=decodeURIComponent(l),s&&(l=atob(l));try{var c,u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),d=0;d<l.length;d++)h[d]=l.charCodeAt(d);c="blob"===u?new Blob([h.buffer],{type:o}):h.buffer;break;case"document":var p=new DOMParser;c=p.parseFromString(l,o);break;case"json":c=JSON.parse(l);break;default:c=l}setTimeout((function(){t&&t(c),i.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{Os[e]=[],Os[e].push({onLoad:t,onProgress:n,onError:r});var f=new XMLHttpRequest;for(var g in f.open("GET",e,!0),f.addEventListener("load",(function(t){var n=this.response,r=Os[e];if(delete Os[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Qs.add(e,n);for(var a=0,A=r.length;a<A;a++){(o=r[a]).onLoad&&o.onLoad(n)}i.manager.itemEnd(e)}else{for(a=0,A=r.length;a<A;a++){var o;(o=r[a]).onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),f.addEventListener("progress",(function(t){for(var n=Os[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),f.addEventListener("error",(function(t){var n=Os[e];delete Os[e];for(var r=0,a=n.length;r<a;r++){var A=n[r];A.onError&&A.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),f.addEventListener("abort",(function(t){var n=Os[e];delete Os[e];for(var r=0,a=n.length;r<a;r++){var A=n[r];A.onError&&A.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(f.responseType=this.responseType),void 0!==this.withCredentials&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)f.setRequestHeader(g,this.requestHeader[g]);f.send(null)}return i.manager.itemStart(e),f}Os[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),_s.prototype=Object.assign(Object.create(Ds.prototype),{constructor:_s,load:function(e,t,n,r){var i=this,a=new Hs(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=Us.parse(e[n]);t.push(r)}return t}}),Ns.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Ns,load:function(e,t,n,r){var i=this,a=[],A=new VA;A.image=a;var o=new Hs(this.manager);function s(s){o.load(e[s],(function(e){var n=i.parse(e,!0);a[s]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(A.minFilter=k),A.format=n.format,A.needsUpdate=!0,t&&t(A))}),n,r)}if(o.setPath(this.path),o.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,c=0,u=e.length;c<u;++c)s(c);else o.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,o=0;o<r;o++){a[o]={mipmaps:[]};for(var s=0;s<n.mipmapCount;s++)a[o].mipmaps.push(n.mipmaps[o*n.mipmapCount+s]),a[o].format=n.format,a[o].width=n.width,a[o].height=n.height}else A.image.width=n.width,A.image.height=n.height,A.mipmaps=n.mipmaps;1===n.mipmapCount&&(A.minFilter=k),A.format=n.format,A.needsUpdate=!0,t&&t(A)}),n,r);return A}}),ks.prototype=Object.assign(Object.create(Ds.prototype),{constructor:ks,load:function(e,t,n,r){var i=this,a=new Dr,A=new Hs(this.manager);return A.setResponseType("arraybuffer"),A.setPath(this.path),A.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Q,a.wrapT=void 0!==n.wrapT?n.wrapT:Q,a.magFilter=void 0!==n.magFilter?n.magFilter:k,a.minFilter=void 0!==n.minFilter?n.minFilter:k,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=V),1===n.mipmapCount&&(a.minFilter=k),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}),Gs.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Gs,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Qs.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var A=document.createElementNS("http://www.w3.org/1999/xhtml","img");function o(){A.removeEventListener("load",o,!1),A.removeEventListener("error",s,!1),t&&t(this),i.manager.itemEnd(e)}function s(t){A.removeEventListener("load",o,!1),A.removeEventListener("error",s,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return Qs.add(e,A),A.addEventListener("load",o,!1),A.addEventListener("error",s,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(A.crossOrigin=this.crossOrigin),i.manager.itemStart(e),A.src=e,A}}),Vs.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Vs,load:function(e,t,n,r){var i=new ri,a=new Gs(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var A=0;function o(n){a.load(e[n],(function(e){i.images[n]=e,6===++A&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var s=0;s<e.length;++s)o(s);return i}}),zs.prototype=Object.assign(Object.create(Ds.prototype),{constructor:zs,load:function(e,t,n,r){var i=new nt,a=new Gs(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?Z:J,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(js.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(i),r.push(a),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var A,o=0,s=a-1;o<=s;)if((A=r[i=Math.floor(o+(s-o)/2)]-n)<0)o=i+1;else{if(!(A>0)){s=i;break}s=i-1}if(r[i=s]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,a=new Ve,A=[],o=[],s=[],l=new Ve,c=new dt;for(n=0;n<=e;n++)r=n/e,A[n]=this.getTangentAt(r),A[n].normalize();o[0]=new Ve,s[0]=new Ve;var u=Number.MAX_VALUE,h=Math.abs(A[0].x),d=Math.abs(A[0].y),p=Math.abs(A[0].z);for(h<=u&&(u=h,a.set(1,0,0)),d<=u&&(u=d,a.set(0,1,0)),p<=u&&a.set(0,0,1),l.crossVectors(A[0],a).normalize(),o[0].crossVectors(A[0],l),s[0].crossVectors(A[0],o[0]),n=1;n<=e;n++)o[n]=o[n-1].clone(),s[n]=s[n-1].clone(),l.crossVectors(A[n-1],A[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(He.clamp(A[n-1].dot(A[n]),-1,1)),o[n].applyMatrix4(c.makeRotationAxis(l,i))),s[n].crossVectors(A[n],o[n]);if(!0===t)for(i=Math.acos(He.clamp(o[0].dot(o[e]),-1,1)),i/=e,A[0].dot(l.crossVectors(o[0],o[e]))>0&&(i=-i),n=1;n<=e;n++)o[n].applyMatrix4(c.makeRotationAxis(A[n],i*n)),s[n].crossVectors(A[n],o[n]);return{tangents:A,normals:o,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Ws.prototype=Object.create(js.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isEllipseCurve=!0,Ws.prototype.getPoint=function(e,t){for(var n=t||new _e,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var A=this.aStartAngle+e*i,o=this.aX+this.xRadius*Math.cos(A),s=this.aY+this.yRadius*Math.sin(A);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),u=o-this.aX,h=s-this.aY;o=u*l-h*c+this.aX,s=u*c+h*l+this.aY}return n.set(o,s)},Ws.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ws.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Ws.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Xs.prototype=Object.create(Ws.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isArcCurve=!0;var Ks=new Ve,Zs=new Ys,Js=new Ys,qs=new Ys;function $s(e,t,n,r){js.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function el(e,t,n,r,i){var a=.5*(r-t),A=.5*(i-n),o=e*e;return(2*n-2*r+a+A)*(e*o)+(-3*n+3*r-2*a-A)*o+a*e+n}function tl(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function nl(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function rl(e,t,n,r){js.call(this),this.type="CubicBezierCurve",this.v0=e||new _e,this.v1=t||new _e,this.v2=n||new _e,this.v3=r||new _e}function il(e,t,n,r){js.call(this),this.type="CubicBezierCurve3",this.v0=e||new Ve,this.v1=t||new Ve,this.v2=n||new Ve,this.v3=r||new Ve}function al(e,t){js.call(this),this.type="LineCurve",this.v1=e||new _e,this.v2=t||new _e}function Al(e,t){js.call(this),this.type="LineCurve3",this.v1=e||new Ve,this.v2=t||new Ve}function ol(e,t,n){js.call(this),this.type="QuadraticBezierCurve",this.v0=e||new _e,this.v1=t||new _e,this.v2=n||new _e}function sl(e,t,n){js.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Ve,this.v1=t||new Ve,this.v2=n||new Ve}function ll(e){js.call(this),this.type="SplineCurve",this.points=e||[]}$s.prototype=Object.create(js.prototype),$s.prototype.constructor=$s,$s.prototype.isCatmullRomCurve3=!0,$s.prototype.getPoint=function(e,t){var n,r,i,a,A=t||new Ve,o=this.points,s=o.length,l=(s-(this.closed?0:1))*e,c=Math.floor(l),u=l-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/s)+1)*s:0===u&&c===s-1&&(c=s-2,u=1),this.closed||c>0?n=o[(c-1)%s]:(Ks.subVectors(o[0],o[1]).add(o[0]),n=Ks),r=o[c%s],i=o[(c+1)%s],this.closed||c+2<s?a=o[(c+2)%s]:(Ks.subVectors(o[s-1],o[s-2]).add(o[s-1]),a=Ks),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(i),h),f=Math.pow(i.distanceToSquared(a),h);p<1e-4&&(p=1),d<1e-4&&(d=p),f<1e-4&&(f=p),Zs.initNonuniformCatmullRom(n.x,r.x,i.x,a.x,d,p,f),Js.initNonuniformCatmullRom(n.y,r.y,i.y,a.y,d,p,f),qs.initNonuniformCatmullRom(n.z,r.z,i.z,a.z,d,p,f)}else"catmullrom"===this.curveType&&(Zs.initCatmullRom(n.x,r.x,i.x,a.x,this.tension),Js.initCatmullRom(n.y,r.y,i.y,a.y,this.tension),qs.initCatmullRom(n.z,r.z,i.z,a.z,this.tension));return A.set(Zs.calc(u),Js.calc(u),qs.calc(u)),A},$s.prototype.copy=function(e){js.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},$s.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},$s.prototype.fromJSON=function(e){js.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Ve).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},rl.prototype=Object.create(js.prototype),rl.prototype.constructor=rl,rl.prototype.isCubicBezierCurve=!0,rl.prototype.getPoint=function(e,t){var n=t||new _e,r=this.v0,i=this.v1,a=this.v2,A=this.v3;return n.set(nl(e,r.x,i.x,a.x,A.x),nl(e,r.y,i.y,a.y,A.y)),n},rl.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},rl.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},rl.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},il.prototype=Object.create(js.prototype),il.prototype.constructor=il,il.prototype.isCubicBezierCurve3=!0,il.prototype.getPoint=function(e,t){var n=t||new Ve,r=this.v0,i=this.v1,a=this.v2,A=this.v3;return n.set(nl(e,r.x,i.x,a.x,A.x),nl(e,r.y,i.y,a.y,A.y),nl(e,r.z,i.z,a.z,A.z)),n},il.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},il.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},il.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},al.prototype=Object.create(js.prototype),al.prototype.constructor=al,al.prototype.isLineCurve=!0,al.prototype.getPoint=function(e,t){var n=t||new _e;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},al.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},al.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},al.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},al.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},al.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Al.prototype=Object.create(js.prototype),Al.prototype.constructor=Al,Al.prototype.isLineCurve3=!0,Al.prototype.getPoint=function(e,t){var n=t||new Ve;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Al.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Al.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Al.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Al.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ol.prototype=Object.create(js.prototype),ol.prototype.constructor=ol,ol.prototype.isQuadraticBezierCurve=!0,ol.prototype.getPoint=function(e,t){var n=t||new _e,r=this.v0,i=this.v1,a=this.v2;return n.set(tl(e,r.x,i.x,a.x),tl(e,r.y,i.y,a.y)),n},ol.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ol.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ol.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},sl.prototype=Object.create(js.prototype),sl.prototype.constructor=sl,sl.prototype.isQuadraticBezierCurve3=!0,sl.prototype.getPoint=function(e,t){var n=t||new Ve,r=this.v0,i=this.v1,a=this.v2;return n.set(tl(e,r.x,i.x,a.x),tl(e,r.y,i.y,a.y),tl(e,r.z,i.z,a.z)),n},sl.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},sl.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},sl.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ll.prototype=Object.create(js.prototype),ll.prototype.constructor=ll,ll.prototype.isSplineCurve=!0,ll.prototype.getPoint=function(e,t){var n=t||new _e,r=this.points,i=(r.length-1)*e,a=Math.floor(i),A=i-a,o=r[0===a?a:a-1],s=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(el(A,o.x,s.x,l.x,c.x),el(A,o.y,s.y,l.y,c.y)),n},ll.prototype.copy=function(e){js.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},ll.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},ll.prototype.fromJSON=function(e){js.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new _e).fromArray(r))}return this};var cl=Object.freeze({__proto__:null,ArcCurve:Xs,CatmullRomCurve3:$s,CubicBezierCurve:rl,CubicBezierCurve3:il,EllipseCurve:Ws,LineCurve:al,LineCurve3:Al,QuadraticBezierCurve:ol,QuadraticBezierCurve3:sl,SplineCurve:ll});function ul(){js.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function hl(e){ul.call(this),this.type="Path",this.currentPoint=new _e,e&&this.setFromPoints(e)}function dl(e){hl.call(this,e),this.uuid=He.generateUUID(),this.type="Shape",this.holes=[]}function pl(e,t){Ut.call(this),this.type="Light",this.color=new bn(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function fl(e,t,n){pl.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Ut.DefaultUp),this.updateMatrix(),this.groundColor=new bn(t)}function gl(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new _e(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this._frustum=new Hr,this._frameExtents=new _e(1,1),this._viewportCount=1,this._viewports=[new rt(0,0,1,1)]}function ml(){gl.call(this,new Ur(50,1,.5,500))}function vl(e,t,n,r,i,a){pl.call(this,e,t),this.type="SpotLight",this.position.copy(Ut.DefaultUp),this.updateMatrix(),this.target=new Ut,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new ml}function yl(){gl.call(this,new Ur(90,1,.5,500)),this._frameExtents=new _e(4,2),this._viewportCount=6,this._viewports=[new rt(2,1,1,1),new rt(0,1,1,1),new rt(3,1,1,1),new rt(1,1,1,1),new rt(3,0,1,1),new rt(1,0,1,1)],this._cubeDirections=[new Ve(1,0,0),new Ve(-1,0,0),new Ve(0,0,1),new Ve(0,0,-1),new Ve(0,1,0),new Ve(0,-1,0)],this._cubeUps=[new Ve(0,1,0),new Ve(0,1,0),new Ve(0,1,0),new Ve(0,1,0),new Ve(0,0,1),new Ve(0,0,-1)]}function wl(e,t,n,r){pl.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new yl}function Bl(e,t,n,r,i,a){Fr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function xl(){gl.call(this,new Bl(-5,5,5,-5,.5,500))}function bl(e,t){pl.call(this,e,t),this.type="DirectionalLight",this.position.copy(Ut.DefaultUp),this.updateMatrix(),this.target=new Ut,this.shadow=new xl}function Cl(e,t){pl.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Ml(e,t,n,r){pl.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function El(e){Ds.call(this,e),this.textures={}}ul.prototype=Object.assign(Object.create(js.prototype),{constructor:ul,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new al(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],A=a.getLength(),o=0===A?0:1-i/A;return a.getPointAt(o)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],A=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,o=a.getPoints(A),s=0;s<o.length;s++){var l=o[s];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){js.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=js.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){js.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new cl[r.type]).fromJSON(r))}return this}}),hl.prototype=Object.assign(Object.create(ul.prototype),{constructor:hl,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new al(this.currentPoint.clone(),new _e(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new ol(this.currentPoint.clone(),new _e(e,t),new _e(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,a){var A=new rl(this.currentPoint.clone(),new _e(e,t),new _e(n,r),new _e(i,a));return this.curves.push(A),this.currentPoint.set(i,a),this},splineThru:function(e){var t=new ll([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,a){var A=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+A,t+o,n,r,i,a),this},absarc:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this},ellipse:function(e,t,n,r,i,a,A,o){var s=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+s,t+l,n,r,i,a,A,o),this},absellipse:function(e,t,n,r,i,a,A,o){var s=new Ws(e,t,n,r,i,a,A,o);if(this.curves.length>0){var l=s.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(s);var c=s.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return ul.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=ul.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return ul.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),dl.prototype=Object.assign(Object.create(hl.prototype),{constructor:dl,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){hl.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=hl.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){hl.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new hl).fromJSON(r))}return this}}),pl.prototype=Object.assign(Object.create(Ut.prototype),{constructor:pl,isLight:!0,copy:function(e){return Ut.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Ut.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),fl.prototype=Object.assign(Object.create(pl.prototype),{constructor:fl,isHemisphereLight:!0,copy:function(e){return pl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(gl.prototype,{_projScreenMatrix:new dt,_lightPositionWorld:new Ve,_lookTarget:new Ve,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),ml.prototype=Object.assign(Object.create(gl.prototype),{constructor:ml,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*He.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),gl.prototype.updateMatrices.call(this,e)}}),vl.prototype=Object.assign(Object.create(pl.prototype),{constructor:vl,isSpotLight:!0,copy:function(e){return pl.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),yl.prototype=Object.assign(Object.create(gl.prototype),{constructor:yl,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,A=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),A.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromMatrix(A)}}),wl.prototype=Object.assign(Object.create(pl.prototype),{constructor:wl,isPointLight:!0,copy:function(e){return pl.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Bl.prototype=Object.assign(Object.create(Fr.prototype),{constructor:Bl,isOrthographicCamera:!0,copy:function(e,t){return Fr.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){et.render();var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,A=r+t,o=r-t;if(null!==this.view&&this.view.enabled){var s=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;a=(i+=c*(this.view.offsetX/s))+c*(this.view.width/s),o=(A-=u*(this.view.offsetY/l))-u*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,a,A,o,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Ut.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),xl.prototype=Object.assign(Object.create(gl.prototype),{constructor:xl,isDirectionalLightShadow:!0,updateMatrices:function(e){gl.prototype.updateMatrices.call(this,e)}}),bl.prototype=Object.assign(Object.create(pl.prototype),{constructor:bl,isDirectionalLight:!0,copy:function(e){return pl.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Cl.prototype=Object.assign(Object.create(pl.prototype),{constructor:Cl,isAmbientLight:!0}),Ml.prototype=Object.assign(Object.create(pl.prototype),{constructor:Ml,isRectAreaLight:!0,copy:function(e){return pl.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=pl.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),El.prototype=Object.assign(Object.create(Ds.prototype),{constructor:El,load:function(e,t,n,r){var i=this,a=new Hs(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new ms[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new bn).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new bn).setHex(a.value);break;case"v2":r.uniforms[i].value=(new _e).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new Ve).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new rt).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new We).fromArray(a.value);case"m4":r.uniforms[i].value=(new dt).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var A in e.extensions)r.extensions[A]=e.extensions[A];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var o=e.normalScale;!1===Array.isArray(o)&&(o=[o,o]),r.normalScale=(new _e).fromArray(o)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new _e).fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});var Il={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Tl(){Jn.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Sl(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Un.call(this,e,t,n),this.meshPerAttribute=r||1}function Fl(e){Ds.call(this,e)}Tl.prototype=Object.assign(Object.create(Jn.prototype),{constructor:Tl,isInstancedBufferGeometry:!0,copy:function(e){return Jn.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Jn.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),Sl.prototype=Object.assign(Object.create(Un.prototype),{constructor:Sl,isInstancedBufferAttribute:!0,copy:function(e){return Un.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Un.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Fl.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Fl,load:function(e,t,n,r){var i=this,a=new Hs(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=e.isInstancedBufferGeometry?new Tl:new Jn,n=e.data.index;if(void 0!==n){var r=new Ul[n.type](n.array);t.setIndex(new Un(r,1))}var i=e.data.attributes;for(var a in i){var A=i[a],o=(r=new Ul[A.type](A.array),new(A.isInstancedBufferAttribute?Sl:Un)(r,A.itemSize,A.normalized));void 0!==A.name&&(o.name=A.name),t.setAttribute(a,o)}var s=e.data.morphAttributes;if(s)for(var a in s){for(var l=s[a],c=[],u=0,h=l.length;u<h;u++){A=l[u],o=new Un(r=new Ul[A.type](A.array),A.itemSize,A.normalized);void 0!==A.name&&(o.name=A.name),c.push(o)}t.morphAttributes[a]=c}e.data.morphTargetsRelative&&(t.morphTargetsRelative=!0);var d=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==d){u=0;for(var p=d.length;u!==p;++u){var f=d[u];t.addGroup(f.start,f.count,f.materialIndex)}}var g=e.data.boundingSphere;if(void 0!==g){var m=new Ve;void 0!==g.center&&m.fromArray(g.center),t.boundingSphere=new Kt(m,g.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var Ul={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Ll(e){Ds.call(this,e)}Ll.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Ll,load:function(e,t,n,r){var i=this,a=""===this.path?Il.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var A=new Hs(i.manager);A.setPath(this.path),A.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var A=a.metadata;void 0!==A&&void 0!==A.type&&"geometry"!==A.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(o)})),a=this.parseTextures(e.textures,i),A=this.parseMaterials(e.materials,a),o=this.parseObject(e.object,r,A);return e.animations&&(o.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(o),o},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new dl).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new Fl,i=0,a=e.length;i<a;i++){var A,o=e[i];switch(o.type){case"PlaneGeometry":case"PlaneBufferGeometry":A=new as[o.type](o.width,o.height,o.widthSegments,o.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":A=new as[o.type](o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":A=new as[o.type](o.radius,o.segments,o.thetaStart,o.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":A=new as[o.type](o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":A=new as[o.type](o.radius,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":A=new as[o.type](o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":A=new as[o.type](o.radius,o.detail);break;case"RingGeometry":case"RingBufferGeometry":A=new as[o.type](o.innerRadius,o.outerRadius,o.thetaSegments,o.phiSegments,o.thetaStart,o.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":A=new as[o.type](o.radius,o.tube,o.radialSegments,o.tubularSegments,o.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":A=new as[o.type](o.radius,o.tube,o.tubularSegments,o.radialSegments,o.p,o.q);break;case"TubeGeometry":case"TubeBufferGeometry":A=new as[o.type]((new cl[o.path.type]).fromJSON(o.path),o.tubularSegments,o.radius,o.radialSegments,o.closed);break;case"LatheGeometry":case"LatheBufferGeometry":A=new as[o.type](o.points,o.segments,o.phiStart,o.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":A=new as[o.type](o.vertices,o.indices,o.radius,o.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var s=[],l=0,c=o.shapes.length;l<c;l++){var u=t[o.shapes[l]];s.push(u)}A=new as[o.type](s,o.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(s=[],l=0,c=o.shapes.length;l<c;l++){u=t[o.shapes[l]];s.push(u)}var h=o.options.extrudePath;void 0!==h&&(o.options.extrudePath=(new cl[h.type]).fromJSON(h)),A=new as[o.type](s,o.options);break;case"BufferGeometry":case"InstancedBufferGeometry":A=r.parse(o);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)A=(new THREE.LegacyJSONLoader).parse(o,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+o.type+'"');continue}A.uuid=o.uuid,void 0!==o.name&&(A.name=o.name),!0===A.isBufferGeometry&&void 0!==o.userData&&(A.userData=o.userData),n[o.uuid]=A}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new El;i.setTextures(t);for(var a=0,A=e.length;a<A;a++){var o=e[a];if("MultiMaterial"===o.type){for(var s=[],l=0;l<o.materials.length;l++){var c=o.materials[l];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),s.push(n[c.uuid])}r[o.uuid]=s}else void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Us.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),a.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var a=new Gs(new Rs(t));a.setCrossOrigin(this.crossOrigin);for(var A=0,o=e.length;A<o;A++){var s=e[A],l=s.url;if(Array.isArray(l)){r[s.uuid]=[];for(var c=0,u=l.length;c<u;c++){var h=l[c],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;r[s.uuid].push(i(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:n.resourcePath+s.url;r[s.uuid]=i(d)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var A,o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image),(A=Array.isArray(t[o.image])?new ri(t[o.image]):new nt(t[o.image])).needsUpdate=!0,A.uuid=o.uuid,void 0!==o.name&&(A.name=o.name),void 0!==o.mapping&&(A.mapping=n(o.mapping,Pl)),void 0!==o.offset&&A.offset.fromArray(o.offset),void 0!==o.repeat&&A.repeat.fromArray(o.repeat),void 0!==o.center&&A.center.fromArray(o.center),void 0!==o.rotation&&(A.rotation=o.rotation),void 0!==o.wrap&&(A.wrapS=n(o.wrap[0],Dl),A.wrapT=n(o.wrap[1],Dl)),void 0!==o.format&&(A.format=o.format),void 0!==o.type&&(A.type=o.type),void 0!==o.encoding&&(A.encoding=o.encoding),void 0!==o.minFilter&&(A.minFilter=n(o.minFilter,Ql)),void 0!==o.magFilter&&(A.magFilter=n(o.magFilter,Ql)),void 0!==o.anisotropy&&(A.anisotropy=o.anisotropy),void 0!==o.flipY&&(A.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(A.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(A.unpackAlignment=o.unpackAlignment),r[o.uuid]=A}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new Lt,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new bn(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new Xa(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Wa(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Ur(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Bl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Cl(e.color,e.intensity);break;case"DirectionalLight":r=new bl(e.color,e.intensity);break;case"PointLight":r=new wl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Ml(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new vl(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new fl(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var A=i(e.geometry),o=a(e.material);r=A.bones&&A.bones.length>0?new pA(A,o):new gr(A,o);break;case"InstancedMesh":A=i(e.geometry),o=a(e.material);var s=e.count,l=e.instanceMatrix;(r=new CA(A,o,s)).instanceMatrix=new Un(new Float32Array(l.array),16);break;case"LOD":r=new dA;break;case"Line":r=new UA(i(e.geometry),a(e.material),e.mode);break;case"LineLoop":r=new DA(i(e.geometry),a(e.material));break;case"LineSegments":r=new PA(i(e.geometry),a(e.material));break;case"PointCloud":case"Points":r=new kA(i(e.geometry),a(e.material));break;case"Sprite":r=new lA(a(e.material));break;case"Group":r=new Oa;break;default:r=new Ut}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.drawMode&&r.setDrawMode(e.drawMode),void 0!==e.children)for(var c=e.children,u=0;u<c.length;u++)r.add(this.parseObject(c[u],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);for(var h=e.levels,d=0;d<h.length;d++){var p=h[d],f=r.getObjectByProperty("uuid",p.object);void 0!==f&&r.addLevel(f,p.distance)}}return r}});var Rl,Pl={UVMapping:S,CubeReflectionMapping:F,CubeRefractionMapping:U,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:L,SphericalReflectionMapping:305,CubeUVReflectionMapping:R,CubeUVRefractionMapping:P},Dl={RepeatWrapping:D,ClampToEdgeWrapping:Q,MirroredRepeatWrapping:O},Ql={NearestFilter:H,NearestMipmapNearestFilter:_,NearestMipmapLinearFilter:N,LinearFilter:k,LinearMipmapNearestFilter:G,LinearMipmapLinearFilter:V};function Ol(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Ds.call(this,e),this.options=void 0}function Hl(){this.type="ShapePath",this.color=new bn,this.subPaths=[],this.currentPath=null}function _l(e){this.type="Font",this.data=e}function Nl(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var A,o,s,l,c,u,h,d,p=new Hl;if(a.o)for(var f=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),g=0,m=f.length;g<m;){switch(f[g++]){case"m":A=f[g++]*t+n,o=f[g++]*t+r,p.moveTo(A,o);break;case"l":A=f[g++]*t+n,o=f[g++]*t+r,p.lineTo(A,o);break;case"q":s=f[g++]*t+n,l=f[g++]*t+r,c=f[g++]*t+n,u=f[g++]*t+r,p.quadraticCurveTo(c,u,s,l);break;case"b":s=f[g++]*t+n,l=f[g++]*t+r,c=f[g++]*t+n,u=f[g++]*t+r,h=f[g++]*t+n,d=f[g++]*t+r,p.bezierCurveTo(c,u,h,d,s,l)}}return{offsetX:a.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function kl(e){Ds.call(this,e)}Ol.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Ol,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Qs.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(n){Qs.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(Hl.prototype,{moveTo:function(e,t){return this.currentPath=new hl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new dl;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var A=t[i],o=t[a],s=o.x-A.x,l=o.y-A.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(A=t[a],s=-s,o=t[i],l=-l),e.y<A.y||e.y>o.y)continue;if(e.y===A.y){if(e.x===A.x)return!0}else{var c=l*(e.x-A.x)-s*(e.y-A.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==A.y)continue;if(o.x<=e.x&&e.x<=A.x||A.x<=e.x&&e.x<=o.x)return!0}}return r}var i=Po.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);var A,o,s,l=[];if(1===a.length)return o=a[0],(s=new dl).curves=o.curves,l.push(s),l;var c=!i(a[0].getPoints());c=e?!c:c;var u,h,d=[],p=[],f=[],g=0;p[g]=void 0,f[g]=[];for(var m=0,v=a.length;m<v;m++)A=i(u=(o=a[m]).getPoints()),(A=e?!A:A)?(!c&&p[g]&&g++,p[g]={s:new dl,p:u},p[g].s.curves=o.curves,c&&g++,f[g]=[]):f[g].push({h:o,p:u[0]});if(!p[0])return n(a);if(p.length>1){for(var y=!1,w=[],B=0,x=p.length;B<x;B++)d[B]=[];for(B=0,x=p.length;B<x;B++)for(var b=f[B],C=0;C<b.length;C++){for(var M=b[C],E=!0,I=0;I<p.length;I++)r(M.p,p[I].p)&&(B!==I&&w.push({froms:B,tos:I,hole:C}),E?(E=!1,d[I].push(M)):y=!0);E&&d[B].push(M)}w.length>0&&(y||(f=d))}m=0;for(var T=p.length;m<T;m++){s=p[m].s,l.push(s);for(var S=0,F=(h=f[m]).length;S<F;S++)s.holes.push(h[S].h)}return l}}),Object.assign(_l.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,A=[],o=0,s=0,l=0;l<r.length;l++){var c=r[l];if("\n"===c)o=0,s-=a;else{var u=Nl(c,i,o,s,n);o+=u.offsetX,A.push(u.path)}}return A}(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),kl.prototype=Object.assign(Object.create(Ds.prototype),{constructor:kl,load:function(e,t,n,r){var i=this,a=new Hs(this.manager);a.setPath(this.path),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new _l(e)}});var Gl={getContext:function(){return void 0===Rl&&(Rl=new(window.AudioContext||window.webkitAudioContext)),Rl},setContext:function(e){Rl=e}};function Vl(e){Ds.call(this,e)}function zl(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new Ve)}function jl(e,t){pl.call(this,void 0,t),this.sh=void 0!==e?e:new zl}function Wl(e,t,n){jl.call(this,void 0,n);var r=(new bn).set(e),i=(new bn).set(t),a=new Ve(r.r,r.g,r.b),A=new Ve(i.r,i.g,i.b),o=Math.sqrt(Math.PI),s=o*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(A).multiplyScalar(o),this.sh.coefficients[1].copy(a).sub(A).multiplyScalar(s)}function Xl(e,t){jl.call(this,void 0,t);var n=(new bn).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Vl.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Vl,load:function(e,t,n,r){var i=new Hs(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);Gl.getContext().decodeAudioData(n,(function(e){t(e)}))}),n,r)}}),Object.assign(zl.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScale(a[1],.488603*r),t.addScale(a[2],.488603*i),t.addScale(a[3],.488603*n),t.addScale(a[4],n*r*1.092548),t.addScale(a[5],r*i*1.092548),t.addScale(a[6],.315392*(3*i*i-1)),t.addScale(a[7],n*i*1.092548),t.addScale(a[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScale(a[1],1.023328*r),t.addScale(a[2],1.023328*i),t.addScale(a[3],1.023328*n),t.addScale(a[4],.858086*n*r),t.addScale(a[5],.858086*r*i),t.addScale(a[6],.743125*i*i-.247708),t.addScale(a[7],.858086*n*i),t.addScale(a[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign(zl,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),jl.prototype=Object.assign(Object.create(pl.prototype),{constructor:jl,isLightProbe:!0,copy:function(e){return pl.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return pl.prototype.toJSON.call(this,e)}}),Wl.prototype=Object.assign(Object.create(jl.prototype),{constructor:Wl,isHemisphereLightProbe:!0,copy:function(e){return jl.prototype.copy.call(this,e),this},toJSON:function(e){return jl.prototype.toJSON.call(this,e)}}),Xl.prototype=Object.assign(Object.create(jl.prototype),{constructor:Xl,isAmbientLightProbe:!0,copy:function(e){return jl.prototype.copy.call(this,e),this},toJSON:function(e){return jl.prototype.toJSON.call(this,e)}});var Yl=new dt,Kl=new dt;function Zl(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ur,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ur,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Jl(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Zl.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),a=t.eyeSep/2,A=a*t.near/t.focus,o=t.near*Math.tan(He.DEG2RAD*t.fov*.5)/t.zoom;Kl.elements[12]=-a,Yl.elements[12]=a,n=-o*t.aspect+A,r=o*t.aspect+A,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-o*t.aspect-A,r=o*t.aspect-A,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Kl),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Yl)}}),Object.assign(Jl.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var ql=new Ve,$l=new Ne,ec=new Ve,tc=new Ve;function nc(){Ut.call(this),this.type="AudioListener",this.context=Gl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Jl}function rc(e){Ut.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}nc.prototype=Object.assign(Object.create(Ut.prototype),{constructor:nc,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Ut.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ql,$l,ec),tc.set(0,0,-1).applyQuaternion($l),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ql.x,r),t.positionY.linearRampToValueAtTime(ql.y,r),t.positionZ.linearRampToValueAtTime(ql.z,r),t.forwardX.linearRampToValueAtTime(tc.x,r),t.forwardY.linearRampToValueAtTime(tc.y,r),t.forwardZ.linearRampToValueAtTime(tc.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(ql.x,ql.y,ql.z),t.setOrientation(tc.x,tc.y,tc.z,n.x,n.y,n.z)}}),rc.prototype=Object.assign(Object.create(Ut.prototype),{constructor:rc,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var ic=new Ve,ac=new Ne,Ac=new Ve,oc=new Ve;function sc(e){rc.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function lc(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function cc(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}sc.prototype=Object.assign(Object.create(rc.prototype),{constructor:sc,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Ut.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(ic,ac,Ac),oc.set(0,0,1).applyQuaternion(ac);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ic.x,n),t.positionY.linearRampToValueAtTime(ic.y,n),t.positionZ.linearRampToValueAtTime(ic.z,n),t.orientationX.linearRampToValueAtTime(oc.x,n),t.orientationY.linearRampToValueAtTime(oc.y,n),t.orientationZ.linearRampToValueAtTime(oc.z,n)}else t.setPosition(ic.x,ic.y,ic.z),t.setOrientation(oc.x,oc.y,oc.z)}}}),Object.assign(lc.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(cc.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var A=0;A!==r;++A)n[i+A]=n[A];a=t}else{var o=t/(a+=t);this._mixBufferRegion(n,i,0,o,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var A=3*t;this._mixBufferRegion(n,r,A,1-i,t)}for(var o=t,s=t+t;o!==s;++o)if(n[o]!==n[o+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){Ne.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,A=0;A!==i;++A){var o=t+A;e[o]=e[o]*a+e[n+A]*r}}});var uc="\\[\\]\\.:\\/",hc=new RegExp("[\\[\\]\\.:\\/]","g"),dc="[^\\[\\]\\.:\\/]",pc="[^"+uc.replace("\\.","")+"]",fc=/((?:WC+[\/:])*)/.source.replace("WC",dc),gc=/(WCOD+)?/.source.replace("WCOD",pc),mc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",dc),vc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",dc),yc=new RegExp("^"+fc+gc+mc+vc+"$"),wc=["material","materials","bones"];function Bc(e,t,n){var r=n||xc.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function xc(e,t,n){this.path=t,this.parsedPath=n||xc.parseTrackName(t),this.node=xc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function bc(){this.uuid=He.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Cc(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,a=new Array(i),A={endingStart:ye,endingEnd:ye},o=0;o!==i;++o){var s=r[o].createInterpolant(null);a[o]=s,s.settings=A}this._interpolantSettings=A,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Mc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Ec(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Ic(e,t,n){Ya.call(this,e,t),this.meshPerAttribute=n||1}function Tc(e,t,n,r){this.ray=new rn(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Sc(e,t){return e.distance-t.distance}function Fc(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,a=0,A=i.length;a<A;a++)Fc(i[a],t,n,!0)}function Uc(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Lc(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}Object.assign(Bc.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(xc,{Composite:Bc,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new xc.Composite(e,t,n):new xc(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(hc,"")},parseTrackName:function(e){var t=yc.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==wc.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}),Object.assign(xc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=xc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var A=0;A<e.length;A++)if(e[A].name===a){a=A;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var o=e[r];if(void 0!==o){var s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(A=0;A<this.node.geometry.morphAttributes.position.length;A++)if(e.geometry.morphAttributes.position[A].name===i){i=A;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(A=0;A<this.node.geometry.morphTargets.length;A++)if(e.geometry.morphTargets[A].name===i){i=A;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(xc.prototype,{_getValue_unbound:xc.prototype.getValue,_setValue_unbound:xc.prototype.setValue}),Object.assign(bc.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,A=this._bindings,o=A.length,s=void 0,l=0,c=arguments.length;l!==c;++l){var u=arguments[l],h=u.uuid,d=r[h];if(void 0===d){d=t++,r[h]=d,e.push(u);for(var p=0,f=o;p!==f;++p)A[p].push(new xc(u,i[p],a[p]))}else if(d<n){s=e[d];var g=--n,m=e[g];r[m.uuid]=d,e[d]=m,r[h]=g,e[g]=u;for(p=0,f=o;p!==f;++p){var v=A[p],y=v[g],w=v[d];v[d]=y,void 0===w&&(w=new xc(u,i[p],a[p])),v[g]=w}}else e[d]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,A=arguments.length;a!==A;++a){var o=arguments[a],s=o.uuid,l=n[s];if(void 0!==l&&l>=t){var c=t++,u=e[c];n[u.uuid]=l,e[l]=u,n[s]=c,e[c]=o;for(var h=0,d=i;h!==d;++h){var p=r[h],f=p[c],g=p[l];p[l]=f,p[c]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,A=0,o=arguments.length;A!==o;++A){var s=arguments[A],l=s.uuid,c=r[l];if(void 0!==c)if(delete r[l],c<n){var u=--n,h=e[u],d=e[v=--t];r[h.uuid]=c,e[c]=h,r[d.uuid]=u,e[u]=d,e.pop();for(var p=0,f=a;p!==f;++p){var g=(y=i[p])[u],m=y[v];y[c]=g,y[u]=m,y.pop()}}else{var v;r[(d=e[v=--t]).uuid]=c,e[c]=d,e.pop();for(p=0,f=a;p!==f;++p){var y;(y=i[p])[c]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,A=this._parsedPaths,o=this._objects,s=o.length,l=this.nCachedObjects_,c=new Array(s);r=i.length,n[e]=r,a.push(e),A.push(t),i.push(c);for(var u=l,h=o.length;u!==h;++u){var d=o[u];c[u]=new xc(d,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,A=a.length-1,o=a[A];t[e[A]]=n,a[n]=o,a.pop(),i[n]=i[A],i.pop(),r[n]=r[A],r.pop()}}}),Object.assign(Cc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,A=r/i;e.warp(1,a,t),this.warp(A,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,A=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,o[1]=i+n,s[0]=e/A,s[1]=t/A,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var A=this._updateTime(t),o=this._updateWeight(e);if(o>0)for(var s=this._interpolants,l=this._propertyBindings,c=0,u=s.length;c!==u;++c)s[c].evaluate(A),l[c].accumulate(r,o)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,a=2202===r;if(0===e)return-1===i?t:a&&1==(1&i)?n-t:t;if(r===pe){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=n||t<0){var A=Math.floor(t/n);t-=n*A,i+=Math.abs(A);var o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){var s=e<0;this._setEndings(s,!s,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:A})}}else this.time=t;if(a&&1==(1&i))return n-t}return t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=we,r.endingEnd=we):(r.endingStart=e?this.zeroSlopeAtStart?we:ye:Be,r.endingEnd=t?this.zeroSlopeAtEnd?we:ye:Be)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var A=a.parameterPositions,o=a.sampleValues;return A[0]=i,o[0]=t,A[1]=i+e,o[1]=n,this}}),Mc.prototype=Object.assign(Object.create(De.prototype),{constructor:Mc,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,A=e._interpolants,o=n.uuid,s=this._bindingsByRootAndName,l=s[o];void 0===l&&(l={},s[o]=l);for(var c=0;c!==i;++c){var u=r[c],h=u.name,d=l[h];if(void 0!==d)a[c]=d;else{if(void 0!==(d=a[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,o,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(d=new cc(xc.create(n,h,p),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(d,o,h),a[c]=d}A[c].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,A=i.length;a!==A;++a){var o=i[a];0==o.useCount++&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var A=a.knownActions;e._byClipCacheIndex=A.length,A.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,A=a[i],o=A.knownActions,s=o[o.length-1],l=e._byClipCacheIndex;s._byClipCacheIndex=l,o[l]=s,o.pop(),e._byClipCacheIndex=null,delete A.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],a=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,A=a[r],o=t[t.length-1],s=e._cacheIndex;o._cacheIndex=s,t[s]=o,t.pop(),delete A[i],0===Object.keys(A).length&&delete a[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Bs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Us.findByName(n,e):e,a=null!==i?i.uuid:e,A=this._actionsByClip[a],o=null;if(void 0!==A){var s=A.actionByRoot[r];if(void 0!==s)return s;o=A.knownActions[0],null===i&&(i=o._clip)}if(null===i)return null;var l=new Cc(this,i,t);return this._bindAction(l,o),this._addInactiveAction(l,a,r),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Us.findByName(n,e):e,a=i?i.uuid:e,A=this._actionsByClip[a];return void 0!==A&&A.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,A=0;A!==n;++A){t[A]._update(r,e,i,a)}var o=this._bindings,s=this._nActiveBindings;for(A=0;A!==s;++A)o[A].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,A=0,o=a.length;A!==o;++A){var s=a[A];this._deactivateAction(s);var l=s._cacheIndex,c=t[t.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(s)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var A in a){var o=a[A];o.restoreOriginalState(),this._removeInactiveBinding(o)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Ec.prototype.clone=function(){return new Ec(void 0===this.value.clone?this.value:this.value.clone())},Ic.prototype=Object.assign(Object.create(Ya.prototype),{constructor:Ic,isInstancedInterleavedBuffer:!0,copy:function(e){return Ya.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Tc.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Fc(e,this,r,t),r.sort(Sc),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)Fc(e[i],this,r,t);return r.sort(Sc),r}}),Object.assign(Uc.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(He.clamp(t/this.radius,-1,1))),this}}),Object.assign(Lc.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var Rc=new _e;function Pc(e,t){this.min=void 0!==e?e:new _e(1/0,1/0),this.max=void 0!==t?t:new _e(-1/0,-1/0)}Object.assign(Pc.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Rc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new _e),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new _e),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new _e),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new _e),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Rc.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Dc=new Ve,Qc=new Ve;function Oc(e,t){this.start=void 0!==e?e:new Ve,this.end=void 0!==t?t:new Ve}function Hc(e){Ut.call(this),this.material=e,this.render=function(){}}Object.assign(Oc.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Ve),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Ve),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Ve),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Dc.subVectors(e,this.start),Qc.subVectors(this.end,this.start);var n=Qc.dot(Qc),r=Qc.dot(Dc)/n;return t&&(r=He.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Ve),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Hc.prototype=Object.create(Ut.prototype),Hc.prototype.constructor=Hc,Hc.prototype.isImmediateRenderObject=!0;var _c=new Ve,Nc=new Ve,kc=new We,Gc=["a","b","c"];function Vc(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,A=0,o=this.object.geometry;o&&o.isGeometry?A=3*o.faces.length:o&&o.isBufferGeometry&&(A=o.attributes.normal.count);var s=new Jn,l=new _n(2*A*3,3);s.setAttribute("position",l),PA.call(this,s,new MA({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}Vc.prototype=Object.create(PA.prototype),Vc.prototype.constructor=Vc,Vc.prototype.update=function(){this.object.updateMatrixWorld(!0),kc.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var r=n.vertices,i=n.faces,a=0,A=0,o=i.length;A<o;A++)for(var s=i[A],l=0,c=s.vertexNormals.length;l<c;l++){var u=r[s[Gc[l]]],h=s.vertexNormals[l];_c.copy(u).applyMatrix4(e),Nc.copy(h).applyMatrix3(kc).normalize().multiplyScalar(this.size).add(_c),t.setXYZ(a,_c.x,_c.y,_c.z),a+=1,t.setXYZ(a,Nc.x,Nc.y,Nc.z),a+=1}else if(n&&n.isBufferGeometry){var d=n.attributes.position,p=n.attributes.normal;for(a=0,l=0,c=d.count;l<c;l++)_c.set(d.getX(l),d.getY(l),d.getZ(l)).applyMatrix4(e),Nc.set(p.getX(l),p.getY(l),p.getZ(l)),Nc.applyMatrix3(kc).normalize().multiplyScalar(this.size).add(_c),t.setXYZ(a,_c.x,_c.y,_c.z),a+=1,t.setXYZ(a,Nc.x,Nc.y,Nc.z),a+=1}t.needsUpdate=!0};var zc=new Ve;function jc(e,t){Ut.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Jn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var A=i/32*Math.PI*2,o=a/32*Math.PI*2;r.push(Math.cos(A),Math.sin(A),1,Math.cos(o),Math.sin(o),1)}n.setAttribute("position",new _n(r,3));var s=new MA({fog:!1});this.cone=new PA(n,s),this.add(this.cone),this.update()}jc.prototype=Object.create(Ut.prototype),jc.prototype.constructor=jc,jc.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},jc.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),zc.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zc),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Wc=new Ve,Xc=new dt,Yc=new dt;function Kc(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Kc(e.children[n]));return t}function Zc(e){for(var t=Kc(e),n=new Jn,r=[],i=[],a=new bn(0,0,1),A=new bn(0,1,0),o=0;o<t.length;o++){var s=t[o];s.parent&&s.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(A.r,A.g,A.b))}n.setAttribute("position",new _n(r,3)),n.setAttribute("color",new _n(i,3));var l=new MA({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});PA.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Jc(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new zo(t,4,2),i=new Fn({wireframe:!0,fog:!1});gr.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function qc(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new Jn;n.setAttribute("position",new _n([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new MA({fog:!1});UA.call(this,n,r);var i=new Jn;i.setAttribute("position",new _n([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new gr(i,new Fn({side:1,fog:!1}))),this.update()}Zc.prototype=Object.create(PA.prototype),Zc.prototype.constructor=Zc,Zc.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");Yc.getInverse(this.root.matrixWorld);for(var i=0,a=0;i<t.length;i++){var A=t[i];A.parent&&A.parent.isBone&&(Xc.multiplyMatrices(Yc,A.matrixWorld),Wc.setFromMatrixPosition(Xc),r.setXYZ(a,Wc.x,Wc.y,Wc.z),Xc.multiplyMatrices(Yc,A.parent.matrixWorld),Wc.setFromMatrixPosition(Xc),r.setXYZ(a+1,Wc.x,Wc.y,Wc.z),a+=2)}n.getAttribute("position").needsUpdate=!0,Ut.prototype.updateMatrixWorld.call(this,e)},Jc.prototype=Object.create(gr.prototype),Jc.prototype.constructor=Jc,Jc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Jc.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},qc.prototype=Object.create(UA.prototype),qc.prototype.constructor=qc,qc.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},qc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var $c=new Ve,eu=new bn,tu=new bn;function nu(e,t,n){Ut.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new eo(t);r.rotateY(.5*Math.PI),this.material=new Fn({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new Un(a,3)),this.add(new gr(r,this.material)),this.update()}function ru(e,t){this.lightProbe=e,this.size=t;var n={GAMMA_OUTPUT:""},r=new Sr({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),i=new zo(1,32,16);gr.call(this,i,r),this.onBeforeRender()}function iu(e,t,n,r){e=e||10,t=t||10,n=new bn(void 0!==n?n:4473924),r=new bn(void 0!==r?r:8947848);for(var i=t/2,a=e/t,A=e/2,o=[],s=[],l=0,c=0,u=-A;l<=t;l++,u+=a){o.push(-A,0,u,A,0,u),o.push(u,0,-A,u,0,A);var h=l===i?n:r;h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3}var d=new Jn;d.setAttribute("position",new _n(o,3)),d.setAttribute("color",new _n(s,3));var p=new MA({vertexColors:2});PA.call(this,d,p)}function au(e,t,n,r,i,a){e=e||10,t=t||16,n=n||8,r=r||64,i=new bn(void 0!==i?i:4473924),a=new bn(void 0!==a?a:8947848);var A,o,s,l,c,u,h,d=[],p=[];for(l=0;l<=t;l++)s=l/t*(2*Math.PI),A=Math.sin(s)*e,o=Math.cos(s)*e,d.push(0,0,0),d.push(A,0,o),h=1&l?i:a,p.push(h.r,h.g,h.b),p.push(h.r,h.g,h.b);for(l=0;l<=n;l++)for(h=1&l?i:a,u=e-e/n*l,c=0;c<r;c++)s=c/r*(2*Math.PI),A=Math.sin(s)*u,o=Math.cos(s)*u,d.push(A,0,o),p.push(h.r,h.g,h.b),s=(c+1)/r*(2*Math.PI),A=Math.sin(s)*u,o=Math.cos(s)*u,d.push(A,0,o),p.push(h.r,h.g,h.b);var f=new Jn;f.setAttribute("position",new _n(d,3)),f.setAttribute("color",new _n(p,3));var g=new MA({vertexColors:2});PA.call(this,f,g)}function Au(e,t,n,r){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var i=new Jn,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,A=new Float32Array(3*(3*a+3));i.setAttribute("position",new Un(A,3));var o=new MA({color:65280}),s=new MA({color:16776960});UA.call(this,i,[s,o]),this.update()}nu.prototype=Object.create(Ut.prototype),nu.prototype.constructor=nu,nu.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},nu.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");eu.copy(this.light.color),tu.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?eu:tu;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt($c.setFromMatrixPosition(this.light.matrixWorld).negate())},ru.prototype=Object.create(gr.prototype),ru.prototype.constructor=ru,ru.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ru.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},iu.prototype=Object.assign(Object.create(PA.prototype),{constructor:iu,copy:function(e){return PA.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),au.prototype=Object.create(PA.prototype),au.prototype.constructor=au,Au.prototype=Object.create(UA.prototype),Au.prototype.constructor=Au,Au.prototype.update=function(){var e,t,n=this.audio,r=this.range,i=this.divisionsInnerAngle,a=this.divisionsOuterAngle,A=He.degToRad(n.panner.coneInnerAngle),o=He.degToRad(n.panner.coneOuterAngle),s=A/2,l=o/2,c=0,u=0,h=this.geometry,d=h.attributes.position;function p(n,i,a,A){var o=(i-n)/a;for(d.setXYZ(c,0,0,0),u++,e=n;e<i;e+=o)t=c+u,d.setXYZ(t,Math.sin(e)*r,0,Math.cos(e)*r),d.setXYZ(t+1,Math.sin(Math.min(e+o,i))*r,0,Math.cos(Math.min(e+o,i))*r),d.setXYZ(t+2,0,0,0),u+=3;h.addGroup(c,u,A),c+=u,u=0}h.clearGroups(),p(-l,-s,a,0),p(-s,s,i,1),p(s,l,a,0),d.needsUpdate=!0,A===o&&(this.material[0].visible=!1)},Au.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var ou=new Ve,su=new Ve,lu=new We;function cu(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,A=0,o=this.object.geometry;o&&o.isGeometry?A=o.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var s=new Jn,l=new _n(2*A*3,3);s.setAttribute("position",l),PA.call(this,s,new MA({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}cu.prototype=Object.create(PA.prototype),cu.prototype.constructor=cu,cu.prototype.update=function(){this.object.updateMatrixWorld(!0),lu.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,i=n.faces,a=0,A=0,o=i.length;A<o;A++){var s=i[A],l=s.normal;ou.copy(r[s.a]).add(r[s.b]).add(r[s.c]).divideScalar(3).applyMatrix4(e),su.copy(l).applyMatrix3(lu).normalize().multiplyScalar(this.size).add(ou),t.setXYZ(a,ou.x,ou.y,ou.z),a+=1,t.setXYZ(a,su.x,su.y,su.z),a+=1}t.needsUpdate=!0};var uu=new Ve,hu=new Ve,du=new Ve;function pu(e,t,n){Ut.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new Jn;r.setAttribute("position",new _n([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new MA({fog:!1});this.lightPlane=new UA(r,i),this.add(this.lightPlane),(r=new Jn).setAttribute("position",new _n([0,0,0,0,0,1],3)),this.targetLine=new UA(r,i),this.add(this.targetLine),this.update()}pu.prototype=Object.create(Ut.prototype),pu.prototype.constructor=pu,pu.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},pu.prototype.update=function(){uu.setFromMatrixPosition(this.light.matrixWorld),hu.setFromMatrixPosition(this.light.target.matrixWorld),du.subVectors(hu,uu),this.lightPlane.lookAt(hu),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hu),this.targetLine.scale.z=du.length()};var fu=new Ve,gu=new Fr;function mu(e){var t=new Jn,n=new MA({color:16777215,vertexColors:1}),r=[],i=[],a={},A=new bn(16755200),o=new bn(16711680),s=new bn(43775),l=new bn(16777215),c=new bn(3355443);function u(e,t,n){h(e,n),h(t,n)}function h(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}u("n1","n2",A),u("n2","n4",A),u("n4","n3",A),u("n3","n1",A),u("f1","f2",A),u("f2","f4",A),u("f4","f3",A),u("f3","f1",A),u("n1","f1",A),u("n2","f2",A),u("n3","f3",A),u("n4","f4",A),u("p","n1",o),u("p","n2",o),u("p","n3",o),u("p","n4",o),u("u1","u2",s),u("u2","u3",s),u("u3","u1",s),u("c","t",l),u("p","c",c),u("cn1","cn2",c),u("cn3","cn4",c),u("cf1","cf2",c),u("cf3","cf4",c),t.setAttribute("position",new _n(r,3)),t.setAttribute("color",new _n(i,3)),PA.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function vu(e,t,n,r,i,a,A){fu.set(i,a,A).unproject(r);var o=t[e];if(void 0!==o)for(var s=n.getAttribute("position"),l=0,c=o.length;l<c;l++)s.setXYZ(o[l],fu.x,fu.y,fu.z)}mu.prototype=Object.create(PA.prototype),mu.prototype.constructor=mu,mu.prototype.update=function(){var e=this.geometry,t=this.pointMap;gu.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),vu("c",t,e,gu,0,0,-1),vu("t",t,e,gu,0,0,1),vu("n1",t,e,gu,-1,-1,-1),vu("n2",t,e,gu,1,-1,-1),vu("n3",t,e,gu,-1,1,-1),vu("n4",t,e,gu,1,1,-1),vu("f1",t,e,gu,-1,-1,1),vu("f2",t,e,gu,1,-1,1),vu("f3",t,e,gu,-1,1,1),vu("f4",t,e,gu,1,1,1),vu("u1",t,e,gu,.7,1.1,-1),vu("u2",t,e,gu,-.7,1.1,-1),vu("u3",t,e,gu,0,2,-1),vu("cf1",t,e,gu,-1,0,1),vu("cf2",t,e,gu,1,0,1),vu("cf3",t,e,gu,0,-1,1),vu("cf4",t,e,gu,0,1,1),vu("cn1",t,e,gu,-1,0,-1),vu("cn2",t,e,gu,1,0,-1),vu("cn3",t,e,gu,0,-1,-1),vu("cn4",t,e,gu,0,1,-1),e.getAttribute("position").needsUpdate=!0};var yu=new Wt;function wu(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Jn;i.setIndex(new Un(n,1)),i.setAttribute("position",new Un(r,3)),PA.call(this,i,new MA({color:t})),this.matrixAutoUpdate=!1,this.update()}function Bu(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Jn;r.setIndex(new Un(n,1)),r.setAttribute("position",new _n([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),PA.call(this,r,new MA({color:t})),this.geometry.computeBoundingSphere()}function xu(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new Jn;i.setAttribute("position",new _n([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),UA.call(this,i,new MA({color:r}));var a=new Jn;a.setAttribute("position",new _n([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new gr(a,new Fn({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}wu.prototype=Object.create(PA.prototype),wu.prototype.constructor=wu,wu.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&yu.setFromObject(this.object),!yu.isEmpty()){var t=yu.min,n=yu.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},wu.prototype.setFromObject=function(e){return this.object=e,this.update(),this},wu.prototype.copy=function(e){return PA.prototype.copy.call(this,e),this.object=e.object,this},wu.prototype.clone=function(){return(new this.constructor).copy(this)},Bu.prototype=Object.create(PA.prototype),Bu.prototype.constructor=Bu,Bu.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Ut.prototype.updateMatrixWorld.call(this,e))},xu.prototype=Object.create(UA.prototype),xu.prototype.constructor=xu,xu.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),Ut.prototype.updateMatrixWorld.call(this,e)};var bu,Cu,Mu=new Ve;function Eu(e,t,n,r,i,a){Ut.call(this),void 0===e&&(e=new Ve(0,0,1)),void 0===t&&(t=new Ve(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===bu&&((bu=new Jn).setAttribute("position",new _n([0,0,0,0,1,0],3)),(Cu=new es(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new UA(bu,new MA({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new gr(Cu,new Fn({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}function Iu(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Jn;n.setAttribute("position",new _n(t,3)),n.setAttribute("color",new _n([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new MA({vertexColors:2});PA.call(this,n,r)}Eu.prototype=Object.create(Ut.prototype),Eu.prototype.constructor=Eu,Eu.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Mu.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Mu,t)}},Eu.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Eu.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Eu.prototype.copy=function(e){return Ut.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Eu.prototype.clone=function(){return(new this.constructor).copy(this)},Iu.prototype=Object.create(PA.prototype),Iu.prototype.constructor=Iu;var Tu=function(e){ks.call(this,e),this.type=z};Tu.prototype=Object.assign(Object.create(ks.prototype),{constructor:Tu,parse:function(e){var t=function(e,t){switch(e){case 1:console.error("RGBELoader Read Error: "+(t||""));break;case 2:console.error("RGBELoader Write Error: "+(t||""));break;case 3:console.error("RGBELoader Bad File Format: "+(t||""));break;default:case 4:console.error("RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,i=-1,a=0,A="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(i=o.indexOf("\n"))&&a<t&&r<e.byteLength;)A+=o,a+=o.length,r+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),A+o.slice(0,i))},r=function(){var e=new Float32Array(1),t=new Int32Array(e.buffer);function n(n){e[0]=n;var r=t[0],i=r>>16&32768,a=r>>12&2047,A=r>>23&255;return A<103?i:A>142?(i|=31744,i|=(255==A?0:1)&&8388607&r):A<113?i|=((a|=2048)>>114-A)+(a>>113-A&1):(i|=A-112<<10|a>>1,i+=1&a)}return function(e,t,r,i){var a=e[t+3],A=Math.pow(2,a-128)/255;r[i+0]=n(e[t+0]*A),r[i+1]=n(e[t+1]*A),r[i+2]=n(e[t+2]*A)}}(),i=new Uint8Array(e);i.pos=0;var a,A,o,s,l,c,u=function(e){var r,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,A=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,s=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,l={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(i=r.match(/^#\?(\S+)$/)))return t(3,"bad initial token");for(l.valid|=1,l.programtype=i[1],l.string+=r+"\n";!1!==(r=n(e));)if(l.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(a))&&(l.gamma=parseFloat(i[1],10)),(i=r.match(A))&&(l.exposure=parseFloat(i[1],10)),(i=r.match(o))&&(l.valid|=2,l.format=i[1]),(i=r.match(s))&&(l.valid|=4,l.height=parseInt(i[1],10),l.width=parseInt(i[2],10)),2&l.valid&&4&l.valid)break}else l.comments+=r+"\n";return 2&l.valid?4&l.valid?l:t(3,"missing image size specifier"):t(3,"missing format specifier")}(i);if(-1!==u){var h=u.width,d=u.height,p=function(e,n,r){var i,a,A,o,s,l,c,u,h,d,p,f,g,m=n,v=r;if(m<8||m>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(m!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");if(!(i=new Uint8Array(4*n*r))||!i.length)return t(4,"unable to allocate buffer space");for(a=0,A=0,u=4*m,g=new Uint8Array(4),l=new Uint8Array(u);v>0&&A<e.byteLength;){if(A+4>e.byteLength)return t(1);if(g[0]=e[A++],g[1]=e[A++],g[2]=e[A++],g[3]=e[A++],2!=g[0]||2!=g[1]||(g[2]<<8|g[3])!=m)return t(3,"bad rgbe scanline format");for(c=0;c<u&&A<e.byteLength;){if((f=(o=e[A++])>128)&&(o-=128),0===o||c+o>u)return t(3,"bad scanline data");if(f)for(s=e[A++],h=0;h<o;h++)l[c++]=s;else l.set(e.subarray(A,A+o),c),c+=o,A+=o}for(d=m,h=0;h<d;h++)p=0,i[a]=l[h+p],p+=m,i[a+1]=l[h+p],p+=m,i[a+2]=l[h+p],p+=m,i[a+3]=l[h+p],a+=4;v--}return i}(i.subarray(i.pos),h,d);if(-1!==p){switch(this.type){case z:var f=p,g=q,m=z;break;case X:for(var v=p.length/4*3,y=new Float32Array(v),w=0;w<v;w++)o=y,s=3*w,l=void 0,c=void 0,l=(a=p)[(A=4*w)+3],c=Math.pow(2,l-128)/255,o[s+0]=a[A+0]*c,o[s+1]=a[A+1]*c,o[s+2]=a[A+2]*c;f=y,g=Z,m=X;break;case Y:v=p.length/4*3;var B=new Uint16Array(v);for(w=0;w<v;w++)r(p,4*w,B,3*w);f=B,g=Z,m=Y;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:h,height:d,data:f,header:u.string,gamma:u.gamma,exposure:u.exposure,format:g,type:m}}}return null},setDataType:function(e){return this.type=e,this},load:function(e,t,n,r){return ks.prototype.load.call(this,e,(function(e,n){switch(e.type){case z:e.encoding=Me,e.minFilter=H,e.magFilter=H,e.generateMipmaps=!1,e.flipY=!0;break;case X:case Y:e.encoding=xe,e.minFilter=k,e.magFilter=k,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,r)}});for(var Su=[],Fu=0;Fu<256;Fu++)Su[Fu]=(Fu<16?"0":"")+Fu.toString(16);var Uu=1234567,Lu={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Su[255&e]+Su[e>>8&255]+Su[e>>16&255]+Su[e>>24&255]+"-"+Su[255&t]+Su[t>>8&255]+"-"+Su[t>>16&15|64]+Su[t>>24&255]+"-"+Su[63&n|128]+Su[n>>8&255]+"-"+Su[n>>16&255]+Su[n>>24&255]+Su[255&r]+Su[r>>8&255]+Su[r>>16&255]+Su[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Uu=e%2147483647),((Uu=16807*Uu%2147483647)-1)/2147483646},degToRad:function(e){return e*Lu.DEG2RAD},radToDeg:function(e){return e*Lu.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,A=Math.sin,o=a(n/2),s=A(n/2),l=a((t+r)/2),c=A((t+r)/2),u=a((t-r)/2),h=A((t-r)/2),d=a((r-t)/2),p=A((r-t)/2);switch(i){case"XYX":e.set(o*c,s*u,s*h,o*l);break;case"YZY":e.set(s*h,o*c,s*u,o*l);break;case"ZXZ":e.set(s*u,s*h,o*c,o*l);break;case"XZX":e.set(o*c,s*p,s*d,o*l);break;case"YXY":e.set(s*d,o*c,s*p,o*l);break;case"ZYZ":e.set(s*p,s*d,o*c,o*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};function Ru(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Pu(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),$s.call(this,e),this.type="catmullrom",this.closed=!0}function Du(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),$s.call(this,e),this.type="catmullrom"}function Qu(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),$s.call(this,e),this.type="catmullrom"}js.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(js.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(ul.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new br,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new Ve(i.x,i.y,i.z||0))}return t}}),Object.assign(hl.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Pu.prototype=Object.create($s.prototype),Du.prototype=Object.create($s.prototype),Qu.prototype=Object.create($s.prototype),Object.assign(Qu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),iu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Zc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Ds.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Il.extractUrlBase(e)}}),Ds.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Ll.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Pc.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Wt.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Oc.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(He,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),He.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),He.ceilPowerOfTwo(e)}}),Object.assign(We.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(dt.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ve).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)}}),sn.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Ne.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(rn.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(yn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(yn,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),yn.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),yn.getNormal(e,t,n,r)}}),Object.assign(dl.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Oo(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ko(this,e)}}),Object.assign(_e.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ve.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(rt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(br.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Ut.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Ut.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(dA.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(mA.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),pA.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(js.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Ur.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(pl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Un.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Le},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Le)}}}),Object.assign(Un.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Le:Ue),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Jn.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Un(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)}}),Object.defineProperties(Jn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ya.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Le},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Ya.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Le:Ue),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Ho.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Ec.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Sn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new bn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(cs.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Sr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(ja.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(ja.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(Ua.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Pr.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(it.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Va.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Object.defineProperties(rc.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Vl).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),lc.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Rr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Ou={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};Xe.crossOrigin=void 0,Xe.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new zs;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},Xe.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Vs;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},Xe.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Xe.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Hu={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function _u(e,t){br.call(this),this.type="ExtrudeGeometry2",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Nu(e,t)),this.mergeVertices()}function Nu(e,t){Jn.call(this),this.type="ExtrudeBufferGeometry2",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],a=0,A=e.length;a<A;a++){o(e[a])}function o(e){var a=[],A=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,s=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,u=void 0!==t.bevelSize?t.bevelSize:c-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:zu;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry2: amount has been renamed to depth."),s=t.amount);var g,m,v,y,w,B,x,b,C=!1;p&&(g=p.getSpacedPoints(o),C=!0,l=!1,m=p.computeFrenetFrames(o,!1),v=new Ve,y=new Ve,w=new Ve),l||(d=0,c=0,u=0,h=0);var M=e.extractPoints(A),E=M.shape,I=M.holes;if(!Po.isClockWise(E))for(E=E.reverse(),x=0,b=I.length;x<b;x++)B=I[x],Po.isClockWise(B)&&(I[x]=B.reverse());var T=Po.triangulateShape(E,I),S=E;for(x=0,b=I.length;x<b;x++)B=I[x],E=E.concat(B);function F(e,t,n){return t||console.error("THREE.ExtrudeGeometry2: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var U,L,R,P,D,Q=E.length,O=T.length;function H(e,t,n){var r,i,a,A=e.x-t.x,o=e.y-t.y,s=n.x-e.x,l=n.y-e.y,c=A*A+o*o,u=A*l-o*s;if(Math.abs(u)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(s*s+l*l),p=t.x-o/h,f=t.y+A/h,g=((n.x-l/d-p)*l-(n.y+s/d-f)*s)/(A*l-o*s),m=(r=p+A*g-e.x)*r+(i=f+o*g-e.y)*i;if(m<=2)return new _e(r,i);a=Math.sqrt(m/2)}else{var v=!1;A>Number.EPSILON?s>Number.EPSILON&&(v=!0):A<-Number.EPSILON?s<-Number.EPSILON&&(v=!0):Math.sign(o)===Math.sign(l)&&(v=!0),v?(r=-o,i=A,a=Math.sqrt(c)):(r=A,i=o,a=Math.sqrt(c/2))}return new _e(r/a,i/a)}for(var _=[],N=0,k=S.length,G=k-1,V=N+1;N<k;N++,G++,V++)G===k&&(G=0),V===k&&(V=0),_[N]=H(S[N],S[G],S[V]);var z,j,W=[],X=_.concat();for(x=0,b=I.length;x<b;x++){for(B=I[x],z=[],N=0,G=(k=B.length)-1,V=N+1;N<k;N++,G++,V++)G===k&&(G=0),V===k&&(V=0),z[N]=H(B[N],B[G],B[V]);W.push(z),X=X.concat(z)}for(U=0;U<d;U++){for(R=U/d,P=c*Math.cos(R*Math.PI/2),L=u*Math.sin(R*Math.PI/2)+h,N=0,k=S.length;N<k;N++)K((D=F(S[N],_[N],L)).x,D.y,-P);for(x=0,b=I.length;x<b;x++)for(B=I[x],z=W[x],N=0,k=B.length;N<k;N++)K((D=F(B[N],z[N],L)).x,D.y,-P)}for(L=u+h,N=0;N<Q;N++)D=l?F(E[N],X[N],L):E[N],C?(y.copy(m.normals[0]).multiplyScalar(D.x),v.copy(m.binormals[0]).multiplyScalar(D.y),w.copy(g[0]).add(y).add(v),K(w.x,w.y,w.z)):K(D.x,D.y,0);for(j=1;j<=o;j++)for(N=0;N<Q;N++)D=l?F(E[N],X[N],L):E[N],C?(y.copy(m.normals[j]).multiplyScalar(D.x),v.copy(m.binormals[j]).multiplyScalar(D.y),w.copy(g[j]).add(y).add(v),K(w.x,w.y,w.z)):K(D.x,D.y,s/o*j);for(U=d-1;U>=0;U--){for(R=U/d,P=c*Math.cos(R*Math.PI/2),L=u*Math.sin(R*Math.PI/2)+h,N=0,k=S.length;N<k;N++)K((D=F(S[N],_[N],L)).x,D.y,s+P);for(x=0,b=I.length;x<b;x++)for(B=I[x],z=W[x],N=0,k=B.length;N<k;N++)D=F(B[N],z[N],L),C?K(D.x,D.y+g[o-1].y,g[o-1].x+P):K(D.x,D.y,s+P)}function Y(e,t){var n,r;for(N=e.length;--N>=0;){n=N,(r=N-1)<0&&(r=e.length-1);var i=0,a=o+2*d;for(i=0;i<a;i++){var A=Q*i,s=Q*(i+1);q(t+n+A,t+r+A,t+r+s,t+n+s)}}}function K(e,t,n){a.push(e),a.push(t),a.push(n)}function Z(e,t,n,i){for(var a=t/2,A=0,o=0;A<t&&o<a;A++,o++){for(var s,l,c,u,h=[],d=0;d<2;d++){var p=A+2*d;p>=t&&(p=t-1);var f=e[p];h.push(f[i?2:0]+n),h.push(f[1]+n),h.push(f[i?0:2]+n)}A%2==1&&(A+=2);for(var g=0;g<h.length;g++)$(h[g]);for(var m,v,y,w,B,x,b,C,M,E,I=0,T=r.length/3,S=0;S<3;S++){v=2==S?T-6:T-6+S+1,B=new _e(r[3*(m=T-6+S)],r[3*m+1]),x=new _e(r[3*v],r[3*v+1]);var F=(M=new _e(x.x-B.x,x.y-B.y)).length();M.normalize();for(var U=3;U<6;U++){w=5==U?T-3:T-6+U+1,b=new _e(r[3*(y=T-6+U)],r[3*y+1]),C=new _e(r[3*w],r[3*w+1]),(E=new _e(C.x-b.x,C.y-b.y)).normalize();var L=M.dot(E);if(1-Math.abs(L)<1e-10){if(B.equals(b)&&x.equals(C)||B.equals(C)&&x.equals(b))break;F>I&&(I=F,s=B,l=x,c=b,u=C);break}}}if(I>0)J(T-6,T-5,T-4,s,l,!0),J(T-3,T-2,T-1,c,u,!1);else{console.log("Error: 没有找到平行边!!!");var R=[];for(S=0;S<3;S++){v=2==S?T-6:T-6+S+1,B=new _e(r[3*(m=T-6+S)],r[3*m+1]),x=new _e(r[3*v],r[3*v+1]);F=(M=new _e(x.x-B.x,x.y-B.y)).length();R.push([F,B,x])}var P=function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0};R.sort(P),J(T-6,T-5,T-4,R[1][1],R[1][2],!0),R=[];for(U=3;U<6;U++){w=5==U?T-3:T-6+U+1,b=new _e(r[3*(y=T-6+U)],r[3*y+1]),C=new _e(r[3*w],r[3*w+1]),E=new _e(C.x-b.x,C.y-b.y);F=M.length();R.push([F,b,C])}R.sort(P),J(T-3,T-2,T-1,R[1][1],R[1][2],!1)}}}function J(e,t,i,a,A,o){var s=f.generateTopUV(n,r,e,t,i,a,A,o);ee(s[0]),ee(s[1]),ee(s[2])}function q(e,t,i,a){$(e),$(t),$(a),$(t),$(i),$(a);var A=r.length/3,o=f.generateSideWallUV(n,r,A-6,A-3,A-2,A-1);ee(o[0]),ee(o[1]),ee(o[3]),ee(o[1]),ee(o[2]),ee(o[3])}function $(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function ee(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(l){var t=0;Z(T,O,Q*t,!0),Z(T,O,Q*(t=o+2*d),!1)}else{Z(T,O,0,!0),Z(T,O,Q*o,!1)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(Y(S,t),t+=S.length,x=0,b=I.length;x<b;x++)Y(B=I[x],t),t+=B.length;n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new _n(r,3)),this.setAttribute("uv",new _n(i,2)),this.computeVertexNormals()}_u.prototype=Object.create(br.prototype),_u.prototype.constructor=_u,_u.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return ju(this.parameters.shapes,this.parameters.options,e)},Nu.prototype=Object.create(Jn.prototype),Nu.prototype.constructor=Nu,Nu.prototype.toJSON=function(){var e=Jn.prototype.toJSON.call(this);return ju(this.parameters.shapes,this.parameters.options,e)};var ku,Gu,Vu,zu={generateTopUV:function(e,t,n,r,i,a,A,o){var s=new _e(t[3*n],t[3*n+1]),l=new _e(t[3*r],t[3*r+1]),c=new _e(t[3*i],t[3*i+1]);if(null===a||null===A)return[new _e(s.x,s.y),new _e(l.x,l.y),new _e(c.x,c.y)];for(var u,h=[s,l,c],d=[0,0,0],p=[0,0,0],f=0;f<h.length;f++)h[f].equals(a)||h[f].equals(A)?h[f].equals(a)?(d[0]=f,p[f]=0):(d[1]=f,p[f]=1):(u=h[f],d[2]=f,p[f]=2);var g=new _e(a.x+A.x,a.y+A.y);g=g.divideScalar(2);var m=new _e(A.x-a.x,A.y-a.y),v=m.length()/2;m.normalize();var y=new _e(u.x-g.x,u.y-g.y),w=new _e(1,0),B=m.dot(w),x=Math.acos(B),b=!1,C=m.x*m.y>0;(C&&x>Math.PI/2||!C&&x<Math.PI/2)&&(b=!0,x=Math.PI-x),B=Math.cos(x);for(var M=Math.sin(x),E=y.x*B+y.y*M,I=-y.x*M+y.y*B,T=[],S=0;S<3;S++){var F;switch(p[S]){case 0:F=new _e(b?v:-v,0);break;case 1:F=new _e(b?-v:v,0);break;case 2:F=new _e(E,I)}T.push(F)}return T},generateSideWallUV:function(e,t,n,r,i,a){var A=[3*n,3*r,3*i,3*a],o=[t[A[0]+2],t[A[1]+2],t[A[2]+2],t[A[3]+2]];o.sort((function(e,t){return e<t?-1:e>t?1:0}));for(var s=[],l=0;l<2;l++)for(var c=0;c<A.length;c++)t[A[c]+2]==o[l]&&(0==l||1==l&&A[c]!=s[0])&&(s[l]=A[c]);var u=!1,h=t[s[0]]-t[s[1]],d=t[s[0]+1]-t[s[1]+1];h*d>=0&&(u=!0);var p=(h=Math.abs(h))+(d=Math.abs(d)),f=d/p,g=h/p;if(u)return[new _e(t[A[0]]*g+t[A[0]+1]*f,1-t[A[0]+2]),new _e(t[A[1]]*g+t[A[1]+1]*f,1-t[A[1]+2]),new _e(t[A[2]]*g+t[A[2]+1]*f,1-t[A[2]+2]),new _e(t[A[3]]*g+t[A[3]+1]*f,1-t[A[3]+2])];for(c=0;c<A.length;c++)A[c]!=s[0]&&A[c]!=s[1]&&s.push(A[c]);for(var m=[],v=0;v<4;v++){var y=new _e;y.x=t[A[v]]*g;for(var w=0,B=0;B<2;B++)A[v]==s[2*B]?w=s[2*B+1]:A[v]==s[2*B+1]&&(w=s[2*B]);y.x+=t[w+1]*f,y.y=1-t[A[v]+2],m.push(y)}return m}};function ju(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Wu(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"111"}})),Object.assign(Wu.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),Wu.FullScreenQuad=(ku=new Bl(-1,1,1,-1,0,1),Gu=new jr(2,2),Vu=function(e){this._mesh=new gr(Gu,e)},Object.defineProperty(Vu.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(Vu.prototype,{render:function(e){e.render(this._mesh,ku)}}),Vu);var Xu=function(e,t,n,r,i){Wu.call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=void 0!==i?i:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};Xu.prototype=Object.assign(Object.create(Wu.prototype),{constructor:Xu,render:function(e,t,n){var r,i,a=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(r=e.getClearColor().getHex(),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(r,i),this.scene.overrideMaterial=null,e.autoClear=a}});var Yu={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")},Ku=function(e,t){Wu.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof Sr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Tr.clone(e.uniforms),this.material=new Sr({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Wu.FullScreenQuad(this.material)};Ku.prototype=Object.assign(Object.create(Wu.prototype),{constructor:Ku,render:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var Zu=function(e,t){Wu.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};Zu.prototype=Object.assign(Object.create(Wu.prototype),{constructor:Zu,render:function(e,t,n){var r,i,a=e.getContext(),A=e.state;A.buffers.color.setMask(!1),A.buffers.depth.setMask(!1),A.buffers.color.setLocked(!0),A.buffers.depth.setLocked(!0),this.inverse?(r=0,i=1):(r=1,i=0),A.buffers.stencil.setTest(!0),A.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),A.buffers.stencil.setFunc(a.ALWAYS,r,4294967295),A.buffers.stencil.setClear(i),A.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),A.buffers.color.setLocked(!1),A.buffers.depth.setLocked(!1),A.buffers.stencil.setLocked(!1),A.buffers.stencil.setFunc(a.EQUAL,1,4294967295),A.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),A.buffers.stencil.setLocked(!0)}});var Ju=function(){Wu.call(this),this.needsSwap=!1};Ju.prototype=Object.create(Wu.prototype),Object.assign(Ju.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var qu=function(e,t){if(this.renderer=e,void 0===t){var n={minFilter:k,magFilter:k,format:J,stencilBuffer:!1},r=e.getSize(new _e);this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,(t=new it(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===Yu&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===Ku&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new Ku(Yu),this.clock=new Jl};Object.assign(qu.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,n,r=this.renderer.getRenderTarget(),i=!1,a=this.passes.length;for(n=0;n<a;n++)if(!1!==(t=this.passes[n]).enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),t.needsSwap){if(i){var A=this.renderer.getContext(),o=this.renderer.state.buffers.stencil;o.setFunc(A.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),o.setFunc(A.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==Zu&&(t instanceof Zu?i=!0:t instanceof Ju&&(i=!1))}this.renderer.setRenderTarget(r)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new _e);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var $u=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign($u.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),$u.FullScreenQuad=function(){var e=new Bl(-1,1,1,-1,0,1),t=new jr(2,2),n=function(e){this._mesh=new gr(t,e)};return Object.defineProperty(n.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(n.prototype,{render:function(t){t.render(this._mesh,e)}}),n}();var eh=function e(){i(this,e)};eh.FXAA="FXAA",eh.SMAA="SMAA",eh.MSAA="MSAA",eh.SSAA="SSAA";var th={uniforms:{tDiffuse:{value:null},resolution:{value:new _e(1/1024,1/512)}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join("\n")},nh={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new _e(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","void SMAAEdgeDetectionVS( vec2 texcoord ) {","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );","\tvOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );","}","void main() {","\tvUv = uv;","\tSMAAEdgeDetectionVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {","\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );","\tvec4 delta;","\tvec3 C = texture2D( colorTex, texcoord ).rgb;","\tvec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;","\tvec3 t = abs( C - Cleft );","\tdelta.x = max( max( t.r, t.g ), t.b );","\tvec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;","\tt = abs( C - Ctop );","\tdelta.y = max( max( t.r, t.g ), t.b );","\tvec2 edges = step( threshold, delta.xy );","\tif ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )","\t\tdiscard;","\tvec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;","\tt = abs( C - Cright );","\tdelta.z = max( max( t.r, t.g ), t.b );","\tvec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;","\tt = abs( C - Cbottom );","\tdelta.w = max( max( t.r, t.g ), t.b );","\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );","\tvec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;","\tt = abs( C - Cleftleft );","\tdelta.z = max( max( t.r, t.g ), t.b );","\tvec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;","\tt = abs( C - Ctoptop );","\tdelta.w = max( max( t.r, t.g ), t.b );","\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );","\tedges.xy *= step( 0.5 * maxDelta, delta.xy );","\treturn vec4( edges, 0.0, 0.0 );","}","void main() {","\tgl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );","}"].join("\n")},rh={defines:{SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new _e(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","varying vec2 vPixcoord;","void SMAABlendingWeightCalculationVS( vec2 texcoord ) {","\tvPixcoord = texcoord / resolution;","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );","\tvOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );","}","void main() {","\tvUv = uv;","\tSMAABlendingWeightCalculationVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )","uniform sampler2D tDiffuse;","uniform sampler2D tArea;","uniform sampler2D tSearch;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[3];","varying vec2 vPixcoord;","#if __VERSION__ == 100","vec2 round( vec2 x ) {","\treturn sign( x ) * floor( abs( x ) + 0.5 );","}","#endif","float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {","\te.r = bias + e.r * scale;","\treturn 255.0 * texture2D( searchTex, e, 0.0 ).r;","}","float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 0.0, 1.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord -= vec2( 2.0, 0.0 ) * resolution;","\t\tif ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;","\t}","\ttexcoord.x += 0.25 * resolution.x;","\ttexcoord.x += resolution.x;","\ttexcoord.x += 2.0 * resolution.x;","\ttexcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);","\treturn texcoord.x;","}","float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 0.0, 1.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord += vec2( 2.0, 0.0 ) * resolution;","\t\tif ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;","\t}","\ttexcoord.x -= 0.25 * resolution.x;","\ttexcoord.x -= resolution.x;","\ttexcoord.x -= 2.0 * resolution.x;","\ttexcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );","\treturn texcoord.x;","}","float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 1.0, 0.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord += vec2( 0.0, 2.0 ) * resolution;","\t\tif ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;","\t}","\ttexcoord.y -= 0.25 * resolution.y;","\ttexcoord.y -= resolution.y;","\ttexcoord.y -= 2.0 * resolution.y;","\ttexcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );","\treturn texcoord.y;","}","float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 1.0, 0.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord -= vec2( 0.0, 2.0 ) * resolution;","\t\tif ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;","\t}","\ttexcoord.y += 0.25 * resolution.y;","\ttexcoord.y += resolution.y;","\ttexcoord.y += 2.0 * resolution.y;","\ttexcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );","\treturn texcoord.y;","}","vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {","\tvec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;","\ttexcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );","\ttexcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;","\treturn texture2D( areaTex, texcoord, 0.0 ).rg;","}","vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {","\tvec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );","\tvec2 e = texture2D( edgesTex, texcoord ).rg;","\tif ( e.g > 0.0 ) {","\t\tvec2 d;","\t\tvec2 coords;","\t\tcoords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );","\t\tcoords.y = offset[ 1 ].y;","\t\td.x = coords.x;","\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).r;","\t\tcoords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );","\t\td.y = coords.x;","\t\td = d / resolution.x - pixcoord.x;","\t\tvec2 sqrt_d = sqrt( abs( d ) );","\t\tcoords.y -= 1.0 * resolution.y;","\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;","\t\tweights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );","\t}","\tif ( e.r > 0.0 ) {","\t\tvec2 d;","\t\tvec2 coords;","\t\tcoords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );","\t\tcoords.x = offset[ 0 ].x;","\t\td.x = coords.y;","\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).g;","\t\tcoords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );","\t\td.y = coords.y;","\t\td = d / resolution.y - pixcoord.y;","\t\tvec2 sqrt_d = sqrt( abs( d ) );","\t\tcoords.y -= 1.0 * resolution.y;","\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;","\t\tweights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );","\t}","\treturn weights;","}","void main() {","\tgl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );","}"].join("\n")},ih={uniforms:{tDiffuse:{value:null},tColor:{value:null},resolution:{value:new _e(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","void SMAANeighborhoodBlendingVS( vec2 texcoord ) {","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );","}","void main() {","\tvUv = uv;","\tSMAANeighborhoodBlendingVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tColor;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {","\tvec4 a;","\ta.xz = texture2D( blendTex, texcoord ).xz;","\ta.y = texture2D( blendTex, offset[ 1 ].zw ).g;","\ta.w = texture2D( blendTex, offset[ 1 ].xy ).a;","\tif ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {","\t\treturn texture2D( colorTex, texcoord, 0.0 );","\t} else {","\t\tvec2 offset;","\t\toffset.x = a.a > a.b ? a.a : -a.b;","\t\toffset.y = a.g > a.r ? -a.g : a.r;","\t\tif ( abs( offset.x ) > abs( offset.y )) {","\t\t\toffset.y = 0.0;","\t\t} else {","\t\t\toffset.x = 0.0;","\t\t}","\t\tvec4 C = texture2D( colorTex, texcoord, 0.0 );","\t\ttexcoord += sign( offset ) * resolution;","\t\tvec4 Cop = texture2D( colorTex, texcoord, 0.0 );","\t\tfloat s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );","\t\tC.xyz = pow(C.xyz, vec3(2.2));","\t\tCop.xyz = pow(Cop.xyz, vec3(2.2));","\t\tvec4 mixed = mix(C, Cop, s);","\t\tmixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));","\t\treturn mixed;","\t}","}","void main() {","\tgl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );","}"].join("\n")},ah=function(e,t){Wu.call(this),this.edgesRT=new it(e,t,{depthBuffer:!1,generateMipmaps:!1,minFilter:k,format:Z}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new it(e,t,{depthBuffer:!1,generateMipmaps:!1,minFilter:k,format:J}),this.weightsRT.texture.name="SMAAPass.weights";var n,r,i=this;(n=new Image).src=this.getAreaTexture(),n.onload=function(){i.areaTexture.needsUpdate=!0},this.areaTexture=new nt,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=n,this.areaTexture.format=Z,this.areaTexture.minFilter=k,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1,(r=new Image).src=this.getSearchTexture(),r.onload=function(){i.searchTexture.needsUpdate=!0},this.searchTexture=new nt,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=r,this.searchTexture.magFilter=H,this.searchTexture.minFilter=H,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,void 0===nh&&console.error("SMAAPass relies on SMAAShader"),this.uniformsEdges=Tr.clone(nh.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/t),this.materialEdges=new Sr({defines:Object.assign({},nh.defines),uniforms:this.uniformsEdges,vertexShader:nh.vertexShader,fragmentShader:nh.fragmentShader}),this.uniformsWeights=Tr.clone(rh.uniforms),this.uniformsWeights.resolution.value.set(1/e,1/t),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new Sr({defines:Object.assign({},rh.defines),uniforms:this.uniformsWeights,vertexShader:rh.vertexShader,fragmentShader:rh.fragmentShader}),this.uniformsBlend=Tr.clone(ih.uniforms),this.uniformsBlend.resolution.value.set(1/e,1/t),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new Sr({uniforms:this.uniformsBlend,vertexShader:ih.vertexShader,fragmentShader:ih.fragmentShader}),this.needsSwap=!1,this.fsQuad=new Wu.FullScreenQuad(null)};ah.prototype=Object.assign(Object.create(Wu.prototype),{constructor:ah,render:function(e,t,n){this.uniformsEdges.tDiffuse.value=n.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=n.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))},setSize:function(e,t){this.edgesRT.setSize(e,t),this.weightsRT.setSize(e,t),this.materialEdges.uniforms.resolution.value.set(1/e,1/t),this.materialWeights.uniforms.resolution.value.set(1/e,1/t),this.materialBlend.uniforms.resolution.value.set(1/e,1/t)},getAreaTexture:function(){return"data:image/png;base64,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"},getSearchTexture:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}});var Ah=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.options=t,this.pass={enabled:!0},this.antiAliasing=t.antialias||eh.FXAA,this.isPostProcessing=!0}return A(e,[{key:"init",value:function(){et.render()}},{key:"render",value:function(){}},{key:"enabled",get:function(){this.pass.enabled},set:function(e){this.pass.enabled=e}},{key:"setSize",value:function(e,t){}}]),e}(),oh=function(e,t,n,r){this.renderScene=t,this.renderCamera=n,this.selectedObjects=void 0!==r?r:[],this.visibleEdgeColor=new bn(1,1,1),this.hiddenEdgeColor=new bn(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,Wu.call(this),this.resolution=void 0!==e?new _e(e.x,e.y):new _e(256,256);var i={minFilter:k,magFilter:k,format:J},a=Math.round(this.resolution.x/this.downSampleRatio),A=Math.round(this.resolution.y/this.downSampleRatio);this.maskBufferMaterial=new Fn({color:16777215}),this.maskBufferMaterial.side=2,this.renderTargetMaskBuffer=new it(this.resolution.x,this.resolution.y,i),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new Sa,this.depthMaterial.side=2,this.depthMaterial.depthPacking=Se,this.depthMaterial.blending=0,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=2,this.prepareMaskMaterial.fragmentShader=function(e,t){var n=t.isPerspectiveCamera?"perspective":"orthographic";return e.replace(/DEPTH_TO_VIEW_Z/g,n+"DepthToViewZ")}(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new it(this.resolution.x,this.resolution.y,i),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new it(a,A,i),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new it(a,A,i),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new it(Math.round(a/2),Math.round(A/2),i),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new it(a,A,i),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new it(Math.round(a/2),Math.round(A/2),i),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;this.separableBlurMaterial1=this.getSeperableBlurMaterial(4),this.separableBlurMaterial1.uniforms.texSize.value=new _e(a,A),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(4),this.separableBlurMaterial2.uniforms.texSize.value=new _e(Math.round(a/2),Math.round(A/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=4,this.overlayMaterial=this.getOverlayMaterial(),void 0===Yu&&console.error("OutlinePass relies on CopyShader");var o=Yu;this.copyUniforms=Tr.clone(o.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Sr({uniforms:this.copyUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,blending:0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new bn,this.oldClearAlpha=1,this.fsQuad=new Wu.FullScreenQuad(null),this.tempPulseColor1=new bn,this.tempPulseColor2=new bn,this.textureMatrix=new dt};oh.prototype=Object.assign(Object.create(Wu.prototype),{constructor:oh,dispose:function(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()},setSize:function(e,t){this.renderTargetMaskBuffer.setSize(e,t);var n=Math.round(e/this.downSampleRatio),r=Math.round(t/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(n,r),this.renderTargetBlurBuffer1.setSize(n,r),this.renderTargetEdgeBuffer1.setSize(n,r),this.separableBlurMaterial1.uniforms.texSize.value=new _e(n,r),n=Math.round(n/2),r=Math.round(r/2),this.renderTargetBlurBuffer2.setSize(n,r),this.renderTargetEdgeBuffer2.setSize(n,r),this.separableBlurMaterial2.uniforms.texSize.value=new _e(n,r)},changeVisibilityOfSelectedObjects:function(e){function t(t){t.isMesh&&(e?(t.visible=t.userData.oldVisible,delete t.userData.oldVisible):(t.userData.oldVisible=t.visible,t.visible=e))}for(var n=0;n<this.selectedObjects.length;n++){this.selectedObjects[n].traverse(t)}},changeVisibilityOfNonSelectedObjects:function(e){var t=[];function n(e){e.isMesh&&t.push(e)}for(var r=0;r<this.selectedObjects.length;r++){this.selectedObjects[r].traverse(n)}this.renderScene.traverse((function(n){if(n.isMesh||n.isLine||n.isSprite){for(var r=!1,i=0;i<t.length;i++){if(t[i].id===n.id){r=!0;break}}if(!r){var a=n.visible;e&&!n.bVisible||(n.visible=e),n.bVisible=a}}}))},updateTextureMatrix:function(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)},render:function(e,t,n,r,i){if(this.selectedObjects.length>0){this.showTransform=!1,this.renderScene.getObjectByName("ObjectControls")&&this.renderScene.getObjectByName("ObjectControls").visible&&(this.showTransform=!0,this.renderScene.getObjectByName("ObjectControls").visible=!1),this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var a=e.autoClear;e.autoClear=!1,i&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);var A=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value=new _e(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this.renderScene.background=A,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){var o=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(o),this.tempPulseColor2.multiplyScalar(o)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value=new _e(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=oh.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=oh.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=oh.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=oh.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,i&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(n),this.fsQuad.render(e),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=a}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=n.texture,e.setRenderTarget(null),this.fsQuad.render(e)),this.showTransform&&(this.renderScene.getObjectByName("ObjectControls").visible=!0)},getPrepareMaskMaterial:function(){return new Sr({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new _e(.5,.5)},textureMatrix:{value:new dt}},vertexShader:["varying vec4 projTexCoord;","varying vec4 vPosition;","uniform mat4 textureMatrix;","void main() {","\tvPosition = modelViewMatrix * vec4( position, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tprojTexCoord = textureMatrix * worldPosition;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <packing>","varying vec4 vPosition;","varying vec4 projTexCoord;","uniform sampler2D depthTexture;","uniform vec2 cameraNearFar;","void main() {","\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));","\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );","\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;","\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);","}"].join("\n")})},getEdgeDetectionMaterial:function(){return new Sr({uniforms:{maskTexture:{value:null},texSize:{value:new _e(.5,.5)},visibleEdgeColor:{value:new Ve(1,1,1)},hiddenEdgeColor:{value:new Ve(1,1,1)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec3 visibleEdgeColor;\t\t\t\tuniform vec3 hiddenEdgeColor;\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\t\t\t\t}"})},getSeperableBlurMaterial:function(e){return new Sr({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new _e(.5,.5)},direction:{value:new _e(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\t\t\t\tuniform sampler2D colorTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\tuniform float kernelRadius;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, kernelRadius);\t\t\t\t\tvec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\t\t\t\t\tvec2 uvOffset = delta;\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\t\t\t\t\t\tfloat w = gaussianPdf(uvOffset.x, kernelRadius);\t\t\t\t\t\tvec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\t\t\t\t\t\tvec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\t\t\t\t\t\tweightSum += (2.0 * w);\t\t\t\t\t\tuvOffset += delta;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = diffuseSum/weightSum;\t\t\t\t}"})},getOverlayMaterial:function(){return new Sr({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform sampler2D edgeTexture1;\t\t\t\tuniform sampler2D edgeTexture2;\t\t\t\tuniform sampler2D patternTexture;\t\t\t\tuniform float edgeStrength;\t\t\t\tuniform float edgeGlow;\t\t\t\tuniform bool usePatternTexture;\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\t\t\t\t\tif(usePatternTexture)\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\t\t\t\t\tgl_FragColor = finalColor;\t\t\t\t}",blending:2,depthTest:!1,depthWrite:!1,transparent:!0})}}),oh.BlurDirectionX=new _e(1,0),oh.BlurDirectionY=new _e(0,1);var sh=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).antiAliasing=eh.SMAA,r.selectedColor=e.color||"#fff709",r.objects=[],null==e.strength&&(e.strength=6.5),null==e.glow&&(e.glow=1),null==e.thickness&&(e.thickness=2),r}return A(n,[{key:"init",value:function(e){this.pass=new oh(new _e(e.width,e.height),e.scene,e.camera),this.pass.edgeStrength=this.options.strength,this.pass.edgeGlow=this.options.glow,this.pass.edgeThickness=this.options.thickness,this.pass.visibleEdgeColor.set(this.selectedColor),this.pass.hiddenEdgeColor.set(this.selectedColor),this.pass.downSampleRatio=window.devicePixelRatio,this.pass.selectedObjects=this.objects,g(l(n.prototype),"init",this).call(this)}},{key:"render",value:function(){}},{key:"add",value:function(e){this.objects.includes(e)||(this.objects.push(e),this.pass.selectedObjects.push(e),et.render())}},{key:"remove",value:function(e){this.objects.includes(e)&&(this.objects.splice(this.objects.indexOf(e),1),this.pass.selectedObjects.splice(this.pass.selectedObjects.indexOf(e),1),et.render())}},{key:"clear",value:function(){this.objects=[],this.pass.selectedObjects&&(this.pass.selectedObjects=[]),et.render()}}]),n}(Ah),lh={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new bn(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec3 luma = vec3( 0.299, 0.587, 0.114 );","\tfloat v = dot( texel.xyz, luma );","\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","\tgl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")},ch=function(e,t,n,r){Wu.call(this),this.strength=void 0!==t?t:1,this.radius=n,this.threshold=r,this.resolution=void 0!==e?new _e(e.x,e.y):new _e(256,256),this.clearColor=new bn(0,0,0);var i={minFilter:k,magFilter:k,format:J};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var a=Math.round(this.resolution.x/2),A=Math.round(this.resolution.y/2);this.renderTargetBright=new it(a,A,i),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var o=0;o<this.nMips;o++){var s=new it(a,A,i);s.texture.name="UnrealBloomPass.h"+o,s.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(s);var l=new it(a,A,i);l.texture.name="UnrealBloomPass.v"+o,l.texture.generateMipmaps=!1,this.renderTargetsVertical.push(l),a=Math.round(a/2),A=Math.round(A/2)}void 0===lh&&console.error("UnrealBloomPass relies on LuminosityHighPassShader");var c=lh;this.highPassUniforms=Tr.clone(c.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Sr({uniforms:this.highPassUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,defines:{}}),this.separableBlurMaterials=[];var u=[3,5,7,9,11];for(a=Math.round(this.resolution.x/2),A=Math.round(this.resolution.y/2),o=0;o<this.nMips;o++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(u[o])),this.separableBlurMaterials[o].uniforms.texSize.value=new _e(a,A),a=Math.round(a/2),A=Math.round(A/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new Ve(1,1,1),new Ve(1,1,1),new Ve(1,1,1),new Ve(1,1,1),new Ve(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===Yu&&console.error("UnrealBloomPass relies on CopyShader");var h=Yu;this.copyUniforms=Tr.clone(h.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Sr({uniforms:this.copyUniforms,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new bn,this.oldClearAlpha=1,this.basic=new Fn,this.fsQuad=new Wu.FullScreenQuad(null)};ch.prototype=Object.assign(Object.create(Wu.prototype),{constructor:ch,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){var n=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(n,r);for(var i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,r),this.renderTargetsVertical[i].setSize(n,r),this.separableBlurMaterials[i].uniforms.texSize.value=new _e(n,r),n=Math.round(n/2),r=Math.round(r/2)},render:function(e,t,n,r,i){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var a=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);for(var A=this.renderTargetBright,o=0;o<this.nMips;o++)this.fsQuad.material=this.separableBlurMaterials[o],this.separableBlurMaterials[o].uniforms.colorTexture.value=A.texture,this.separableBlurMaterials[o].uniforms.direction.value=ch.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[o]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[o].uniforms.colorTexture.value=this.renderTargetsHorizontal[o].texture,this.separableBlurMaterials[o].uniforms.direction.value=ch.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[o]),e.clear(),this.fsQuad.render(e),A=this.renderTargetsVertical[o];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=a},getSeperableBlurMaterial:function(e){return new Sr({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new _e(.5,.5)},direction:{value:new _e(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(e){return new Sr({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),ch.BlurDirectionX=new _e(1,0),ch.BlurDirectionY=new _e(0,1);var uh=function(e,t,n,r){Wu.call(this),this.scene=e,this.camera=t,this.sampleLevel=4,this.unbiased=!0,this.clearColor=void 0!==n?n:0,this.clearAlpha=void 0!==r?r:0,void 0===Yu&&console.error("SSAARenderPass relies on CopyShader");var i=Yu;this.copyUniforms=Tr.clone(i.uniforms),this.copyMaterial=new Sr({uniforms:this.copyUniforms,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,premultipliedAlpha:!0,transparent:!0,blending:2,depthTest:!1,depthWrite:!1}),this.fsQuad=new Wu.FullScreenQuad(this.copyMaterial)};uh.prototype=Object.assign(Object.create(Wu.prototype),{constructor:uh,dispose:function(){this.sampleRenderTarget&&(this.sampleRenderTarget.dispose(),this.sampleRenderTarget=null)},setSize:function(e,t){this.sampleRenderTarget&&this.sampleRenderTarget.setSize(e,t)},render:function(e,t,n){this.sampleRenderTarget||(this.sampleRenderTarget=new it(n.width,n.height,{minFilter:k,magFilter:k,format:J}),this.sampleRenderTarget.texture.name="SSAARenderPass.sample");var r=uh.JitterVectors[Math.max(0,Math.min(this.sampleLevel,5))],i=e.autoClear;e.autoClear=!1;var a=e.getClearColor().getHex(),A=e.getClearAlpha(),o=1/r.length;this.copyUniforms.tDiffuse.value=this.sampleRenderTarget.texture;for(var s=n.width,l=n.height,c=0;c<r.length;c++){var u=r[c];this.camera.setViewOffset&&this.camera.setViewOffset(s,l,.0625*u[0],.0625*u[1],s,l);var h=o;if(this.unbiased)h+=.03125*((c+.5)/r.length-.5);this.copyUniforms.opacity.value=h,e.setClearColor(this.clearColor,this.clearAlpha),e.setRenderTarget(this.sampleRenderTarget),e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(this.renderToScreen?null:t),0===c&&(e.setClearColor(0,0),e.clear()),this.fsQuad.render(e)}this.camera.clearViewOffset&&this.camera.clearViewOffset(),e.autoClear=i,e.setClearColor(a,A)}}),uh.JitterVectors=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];var hh=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).antiAliasing=eh.SMAA,r.options.strength=void 0!==r.options.strength?r.options.strength:1,r.options.radius=void 0!==r.options.radius?r.options.radius:0,r.options.threshold=void 0!==r.options.threshold?r.options.threshold:0,r._bloomPass={},r._materials={},r._darkMaterial=new Fn({color:"black"}),r._objects=[],r.isUnrealBloom=!0,r}return A(n,[{key:"init",value:function(e){this._viewer=e;var t=new _e(e.width,e.height);this._bloomPass=new ch(t,this.options.strength,this.options.radius,this.options.threshold),this._bloomLayer=new mt,this._bloomLayer.set(1),this._composer=new qu(e.renderer),this._composer.renderToScreen=!1;var r=new uh(e.scene,e.camera);r.sampleLevel=4,this._composer.addPass(r),this._composer.addPass(new Ku(Yu)),this._composer.addPass(this._bloomPass),this.pass=new Ku(new Sr({uniforms:{baseTexture:{value:null},bloomTexture:{value:this._composer.renderTarget2.texture}},vertexShader:"varying vec2 vUv;\n\t\t\t    void main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t    }",fragmentShader:"uniform sampler2D baseTexture;\n                    uniform sampler2D bloomTexture;\n                    varying vec2 vUv;\n                    vec4 getTexture( sampler2D texelToLinearTexture ) {\n                        return mapTexelToLinear( texture2D( texelToLinearTexture , vUv ) );\n                    }\n                    void main() {\n                        gl_FragColor = ( getTexture( baseTexture ) + vec4( 1.0 ) * getTexture( bloomTexture ) );\n\n                    }",defines:{}}),"baseTexture"),this.pass.needsSwap=!0,g(l(n.prototype),"init",this).call(this)}},{key:"setSize",value:function(e,t){this._composer.setSize(e,t)}},{key:"setStrength",value:function(e){this._bloomPass.strength=e,et.render()}},{key:"getStrength",value:function(){return this._bloomPass.strength}},{key:"setRadius",value:function(e){this._bloomPass.radius=e,et.render()}},{key:"getRadius",value:function(){return this._bloomPass.radius}},{key:"setThreshold",value:function(e){this._bloomPass.threshold=e,et.render()}},{key:"getThreshold",value:function(){return this._bloomPass.threshold}},{key:"setExposure",value:function(e){this._viewer&&(this._viewer.render.toneMappingExposure=Math.pow(e,4),this._bloomPass.exposure=e,et.render())}},{key:"getExposure",value:function(){return this._bloomPass.exposure||1}},{key:"add",value:function(e){var t=this._objects;function n(e){t.includes(e)||(e.layers.mask=3,e.bloom=!0,t.push(e),et.render(!0))}"Mesh"===e.type&&n(e),"Object3D"!==e.type&&"Group"!==e.type||e.traverse((function(e){"Mesh"===e.type&&n(e)}))}},{key:"remove",value:function(e){var t=this._objects;function n(e){t.includes(e)&&(e.layers.mask=1,delete e.bloom,t.splice(t.indexOf(e),1),et.render(!0))}"Mesh"===e.type&&n(e),"Object3D"!==e.type&&"Group"!==e.type||e.traverse((function(e){"Mesh"===e.type&&n(e)}))}},{key:"clear",value:function(){this._objects.map((function(e){e.layers.mask=1,delete e.bloom})),this._objects=[],et.render(!0)}},{key:"render",value:function(){var e=this;this._viewer.scene.traverse((function(t){e._darkenNonBloomed(t)}));var t=this._viewer.scene.background;this._viewer.scene.background=null,this._composer.render(),this._viewer.scene.background=t,this._viewer.scene.traverse((function(t){e._restoreMaterial(t)}))}},{key:"_darkenNonBloomed",value:function(e){(e.isMesh||e.isSprite)&&!1===this._bloomLayer.test(e.layers)&&(this._materials[e.uuid]=e.material,e.material=this._darkMaterial)}},{key:"_restoreMaterial",value:function(e){this._materials[e.uuid]&&(e.material=this._materials[e.uuid],delete this._materials[e.uuid],et.render())}}]),n}(Ah),dh={defines:{DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:.01},nearClip:{value:1},farClip:{value:1e3}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","varying vec2 vUv;","uniform sampler2D tColor;","uniform sampler2D tDepth;","uniform float maxblur;","uniform float aperture;","uniform float nearClip;","uniform float farClip;","uniform float focus;","uniform float aspect;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, nearClip, farClip );","\t#else","\treturn orthographicDepthToViewZ( depth, nearClip, farClip );","\t#endif","}","void main() {","\tvec2 aspectcorrect = vec2( 1.0, aspect );","\tfloat viewZ = getViewZ( getDepth( vUv ) );","\tfloat factor = ( focus + viewZ );","\tvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );","\tvec2 dofblur9 = dofblur * 0.9;","\tvec2 dofblur7 = dofblur * 0.7;","\tvec2 dofblur4 = dofblur * 0.4;","\tvec4 col = vec4( 0.0 );","\tcol += texture2D( tColor, vUv.xy );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );","\tgl_FragColor = col / 41.0;","\tgl_FragColor.a = 1.0;","}"].join("\n")},ph=function(e,t,n){Wu.call(this),this.scene=e,this.camera=t;var r=void 0!==n.focus?n.focus:1,i=void 0!==n.aspect?n.aspect:t.aspect,a=void 0!==n.aperture?n.aperture:.025,A=void 0!==n.maxblur?n.maxblur:1,o=n.width||window.innerWidth||1,s=n.height||window.innerHeight||1;this.renderTargetDepth=new it(o,s,{minFilter:H,magFilter:H}),this.renderTargetDepth.texture.name="BokehPass.depth",this.materialDepth=new Sa,this.materialDepth.depthPacking=Se,this.materialDepth.blending=0,void 0===dh&&console.error("BokehPass relies on BokehShader");var l=dh,c=Tr.clone(l.uniforms);c.tDepth.value=this.renderTargetDepth.texture,c.focus.value=r,c.aspect.value=i,c.aperture.value=a,c.maxblur.value=A,c.nearClip.value=t.near,c.farClip.value=t.far,this.materialBokeh=new Sr({defines:Object.assign({},l.defines),uniforms:c,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}),this.uniforms=c,this.needsSwap=!1,this.fsQuad=new Wu.FullScreenQuad(this.materialBokeh),this.oldClearColor=new bn};ph.prototype=Object.assign(Object.create(Wu.prototype),{constructor:ph,render:function(e,t,n){this.scene.overrideMaterial=this.materialDepth,this.oldClearColor.copy(e.getClearColor());var r=e.getClearAlpha(),i=e.autoClear;e.autoClear=!1,e.setClearColor(16777215),e.setClearAlpha(1),e.setRenderTarget(this.renderTargetDepth),e.clear(),e.render(this.scene,this.camera),this.uniforms.tColor.value=n.texture,this.uniforms.nearClip.value=this.camera.near,this.uniforms.farClip.value=this.camera.far,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),e.clear(),this.fsQuad.render(e)),this.scene.overrideMaterial=null,e.setClearColor(this.oldClearColor),e.setClearAlpha(r),e.autoClear=i}});var fh,gh=function(e){s(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,n),(e=t.call(this)).antiAliasing=eh.SMAA,e.focus=r.focus||500,e.aperture=r.aperture||5,e.maxblur=r.maxblur||.01,e}return A(n,[{key:"init",value:function(e){this.pass=new ph(e.scene,e.camera,{focus:this.focus,aperture:this.aperture,maxblur:this.maxblur,width:e.width,height:e.height}),g(l(n.prototype),"init",this).call(this)}},{key:"setFocus",value:function(e){this.pass.uniforms.focus.value=e}},{key:"setAperture",value:function(e){this.pass.uniforms.aperture.value=1e-5*e}},{key:"setMaxblur",value:function(e){this.pass.uniforms.maxblur.value=.001*e}}]),n}(Ah),mh=new(function(){function e(){i(this,e),this.isPostProcessingManager=!0,this.composer=null,this.processArray=[],this.outline=null,this._enableOutline=!1,this.unrealBloom=null,this._enableUnrealBloom=!1,this.dof=null,this._enableDof=!1}return A(e,[{key:"enabled",get:function(){return this.processArray.length>0}},{key:"domElement",get:function(){return this.composer.renderer.domElement}},{key:"enableOutline",get:function(){return this._enableOutline},set:function(e){this._enableOutline!=Boolean(e)&&(e?(this.add(this.outline),this.outline.clear()):this.remove(this.outline),this._enableOutline=e)}},{key:"enableUnrealBloom",get:function(){return this._enableUnrealBloom},set:function(e){this._enableUnrealBloom!=Boolean(e)&&(e?(this.add(this.unrealBloom),this.unrealBloom.clear()):this.remove(this.unrealBloom),this._enableUnrealBloom=e)}},{key:"enableDof",get:function(){return this._enableDof},set:function(e){this._enableDof!=Boolean(e)&&(e?this.add(this.dof):this.remove(this.dof),this._enableDof=e)}},{key:"init",value:function(e,t,n){this.scene=e,this.camera=t,this.renderer=n,this.width=this.renderer.domElement.width,this.height=this.renderer.domElement.height,this.outline=new sh({color:"#fff709"}),this.unrealBloom=new hh,this.dof=new gh}},{key:"_initComposer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eh.FXAA,t=new Xu(this.scene,this.camera);if(this.antiAliasing=e,this.composer=new qu(this.renderer),this.composer.addPass(t),e==eh.FXAA)this.FXAA=new Ku(th),this.FXAA.uniforms.resolution.value.set(1/this.width,1/this.height);else if(e==eh.SMAA){var n=this.renderer.getPixelRatio();this.SMAA=new ah(this.width*n,this.height*n)}else if(e==eh.MSAA){var r={format:Z,stencilBuffer:!1},i=this.renderer.getDrawingBufferSize(new _e),a=new at(i.width,i.height,r);this.composer=new qu(this.renderer,a),this.composer.addPass(t),this.composer.addPass(new Ku(Yu))}}},{key:"add",value:function(e){e&&this.processArray.indexOf(e)<0&&(this.composer||this._initComposer(e.antiAliasing),e.init({camera:this.camera,renderer:this.renderer,scene:this.scene,width:this.width,height:this.height}),this[this.antiAliasing]&&-1==this.composer.passes.indexOf(this[this.antiAliasing])&&this.composer.addPass(this[this.antiAliasing]),this.composer.addPass(e.pass),this.processArray.push(e)),this.enabled&&et.setRenderer(this),et.render(),setTimeout(et.render,20)}},{key:"remove",value:function(e){e&&this.processArray.includes(e)&&(this.composer.passes.remove(e.pass),this.processArray.splice(this.processArray.indexOf(e),1)),this.enabled||et.setRenderer(),et.render()}},{key:"render",value:function(){this.processArray.forEach((function(e){e.render()})),this.composer.render()}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.processArray.forEach((function(n){n.setSize(e,t)}))}},{key:"dispose",value:function(){this.processArray=[],this.composer=null}}]),e}()),vh=function(e){Ds.call(this,e)};vh.prototype=Object.assign(Object.create(Ds.prototype),{constructor:vh,load:function(e,t,n,r){var i=this,a=new nt,A=new Hs(this.manager);return A.setResponseType("arraybuffer"),A.setPath(this.path),A.load(e,(function(e){a.image=i.parse(e),a.needsUpdate=!0,void 0!==t&&t(a)}),n,r),a},parse:function(e){var t=0,n=1,r=2,i=3,a=9,A=10,o=11,s=48,l=4,c=0,u=1,h=2,d=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");var p=new Uint8Array(e),f=0,g={id_length:p[f++],colormap_type:p[f++],image_type:p[f++],colormap_index:p[f++]|p[f++]<<8,colormap_length:p[f++]|p[f++]<<8,colormap_size:p[f++],origin:[p[f++]|p[f++]<<8,p[f++]|p[f++]<<8],width:p[f++]|p[f++]<<8,height:p[f++]|p[f++]<<8,pixel_size:p[f++],flags:p[f++]};!function(e){switch(e.image_type){case n:case a:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case r:case i:case A:case o:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(g),g.id_length+f>e.length&&console.error("THREE.TGALoader: No data."),f+=g.id_length;var m=!1,v=!1,y=!1;switch(g.image_type){case a:m=!0,v=!0;break;case n:v=!0;break;case A:m=!0;break;case r:break;case o:m=!0,y=!0;break;case i:y=!0}var w=document.createElement("canvas");w.width=g.width,w.height=g.height;var B=w.getContext("2d"),x=B.createImageData(g.width,g.height),b=function(e,t,n,r,i){var a,A,o,s;if(A=n.pixel_size>>3,o=n.width*n.height*A,t&&(s=i.subarray(r,r+=n.colormap_length*(n.colormap_size>>3))),e){var l,c,u;a=new Uint8Array(o);for(var h=0,d=new Uint8Array(A);h<o;)if(c=1+(127&(l=i[r++])),128&l){for(u=0;u<A;++u)d[u]=i[r++];for(u=0;u<c;++u)a.set(d,h+u*A);h+=A*c}else{for(c*=A,u=0;u<c;++u)a[h+u]=i[r++];h+=c}}else a=i.subarray(r,r+=t?n.width*n.height:o);return{pixel_data:a,palettes:s}}(m,v,g,f,p);return function(e,t,n,r,i){var a,A,o,p,f,m;switch((g.flags&s)>>l){default:case h:a=0,o=1,f=t,A=0,p=1,m=n;break;case c:a=0,o=1,f=t,A=n-1,p=-1,m=-1;break;case d:a=t-1,o=-1,f=-1,A=0,p=1,m=n;break;case u:a=t-1,o=-1,f=-1,A=n-1,p=-1,m=-1}if(y)switch(g.pixel_size){case 8:!function(e,t,n,r,i,a,A,o){var s,l,c,u=0,h=g.width;for(c=t;c!==r;c+=n)for(l=i;l!==A;l+=a,u++)s=o[u],e[4*(l+h*c)+0]=s,e[4*(l+h*c)+1]=s,e[4*(l+h*c)+2]=s,e[4*(l+h*c)+3]=255}(e,A,p,m,a,o,f,r);break;case 16:!function(e,t,n,r,i,a,A,o){var s,l,c=0,u=g.width;for(l=t;l!==r;l+=n)for(s=i;s!==A;s+=a,c+=2)e[4*(s+u*l)+0]=o[c+0],e[4*(s+u*l)+1]=o[c+0],e[4*(s+u*l)+2]=o[c+0],e[4*(s+u*l)+3]=o[c+1]}(e,A,p,m,a,o,f,r);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(g.pixel_size){case 8:!function(e,t,n,r,i,a,A,o,s){var l,c,u,h=s,d=0,p=g.width;for(u=t;u!==r;u+=n)for(c=i;c!==A;c+=a,d++)l=o[d],e[4*(c+p*u)+3]=255,e[4*(c+p*u)+2]=h[3*l+0],e[4*(c+p*u)+1]=h[3*l+1],e[4*(c+p*u)+0]=h[3*l+2]}(e,A,p,m,a,o,f,r,i);break;case 16:!function(e,t,n,r,i,a,A,o){var s,l,c,u=0,h=g.width;for(c=t;c!==r;c+=n)for(l=i;l!==A;l+=a,u+=2)s=o[u+0]+(o[u+1]<<8),e[4*(l+h*c)+0]=(31744&s)>>7,e[4*(l+h*c)+1]=(992&s)>>2,e[4*(l+h*c)+2]=(31&s)>>3,e[4*(l+h*c)+3]=32768&s?0:255}(e,A,p,m,a,o,f,r);break;case 24:!function(e,t,n,r,i,a,A,o){var s,l,c=0,u=g.width;for(l=t;l!==r;l+=n)for(s=i;s!==A;s+=a,c+=3)e[4*(s+u*l)+3]=255,e[4*(s+u*l)+2]=o[c+0],e[4*(s+u*l)+1]=o[c+1],e[4*(s+u*l)+0]=o[c+2]}(e,A,p,m,a,o,f,r);break;case 32:!function(e,t,n,r,i,a,A,o){var s,l,c=0,u=g.width;for(l=t;l!==r;l+=n)for(s=i;s!==A;s+=a,c+=4)e[4*(s+u*l)+2]=o[c+0],e[4*(s+u*l)+1]=o[c+1],e[4*(s+u*l)+0]=o[c+2],e[4*(s+u*l)+3]=o[c+3]}(e,A,p,m,a,o,f,r);break;default:console.error("THREE.TGALoader: Format not supported.")}}(x.data,g.width,g.height,b.pixel_data,b.palettes),B.putImageData(x,0,0),w}});var yh,wh,Bh,xh,bh=Math.pow(2,8),Ch=[.125,.215,.35,.446,.526,.582],Mh=5+Ch.length,Eh=(o(fh={},xe,0),o(fh,be,1),o(fh,Me,2),o(fh,Ee,3),o(fh,Ie,4),o(fh,Te,5),o(fh,Ce,6),fh),Ih=new Bl,Th=(yh=8,wh=new Float32Array(yh),Bh=new Ve(0,1,0),(xh=new os({defines:{n:yh},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:wh},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:Bh},inputEncoding:{value:Eh[3e3]},outputEncoding:{value:Eh[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n#include <encodings_pars_fragment>\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n#define ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\n\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n// These defines must match with PMREMGenerator\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})).type="SphericalGaussianBlur",xh),Sh=null,Fh=null,Uh=function(){for(var e=[],t=[],n=[],r=8,i=0;i<Mh;i++){var a=Math.pow(2,r);t.push(a);var A=1/a;i>4?A=Ch[i-8+4-1]:0==i&&(A=0),n.push(A);for(var o=1/(a-1),s=-o/2,l=1+o/2,c=[s,s,l,s,l,l,s,s,l,l,s,l],u=new Float32Array(108),h=new Float32Array(72),d=new Float32Array(36),p=0;p<6;p++){var f=p%3*2/3-1,g=p>2?0:-1,m=[f,g,0,f+2/3,g,0,f+2/3,g+1,0,f,g,0,f+2/3,g+1,0,f,g+1,0];u.set(m,18*p),h.set(c,12*p);var v=[p,p,p,p,p,p];d.set(v,6*p)}var y=new Jn;y.setAttribute("position",new Un(u,3)),y.setAttribute("uv",new Un(h,2)),y.setAttribute("faceIndex",new Un(d,1)),e.push(y),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),Lh=Uh._lodPlanes,Rh=Uh._sizeLods,Ph=Uh._sigmas,Dh=null,Qh=null,Oh=null,Hh=(1+Math.sqrt(5))/2,_h=1/Hh,Nh=[new Ve(1,1,1),new Ve(-1,1,1),new Ve(1,1,-1),new Ve(-1,1,-1),new Ve(0,Hh,_h),new Ve(0,Hh,-_h),new Ve(_h,0,Hh),new Ve(-_h,0,Hh),new Ve(Hh,_h,0),new Ve(-Hh,_h,0)];function kh(e){Qh=e,jh(Th)}function Gh(e){var t={magFilter:H,minFilter:H,generateMipmaps:!1,type:e?e.type:z,format:e?e.format:q,encoding:e?e.encoding:Me,depthBuffer:!1,stencilBuffer:!1},n=Wh(t);return n.depthBuffer=!e,Dh=Wh(t),n}function Vh(e){Dh.dispose(),Qh.setRenderTarget(Oh),e.scissorTest=!1,e.setSize(e.width,e.height)}function zh(e,t,n,r){var i=new Ur(90,1,t,n),a=[1,1,1,1,-1,1],A=[1,1,-1,-1,-1,1],o=Qh.outputEncoding,s=Qh.toneMapping,l=Qh.toneMappingExposure,c=Qh.getClearColor(),u=Qh.getClearAlpha();Qh.toneMapping=1,Qh.toneMappingExposure=1,Qh.outputEncoding=xe,e.scale.z*=-1;var h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();var d=Math.max(h.r,h.g,h.b),p=Math.min(Math.max(Math.ceil(Math.log2(d)),-128),127);h=h.multiplyScalar(Math.pow(2,-p));var f=(p+128)/255;Qh.setClearColor(h,f),e.background=null}for(var g=0;g<6;g++){var m=g%3;0==m?(i.up.set(0,a[g],0),i.lookAt(A[g],0,0)):1==m?(i.up.set(0,0,a[g]),i.lookAt(0,A[g],0)):(i.up.set(0,a[g],0),i.lookAt(0,0,A[g])),Xh(r,m*bh,g>2?bh:0,bh,bh),Qh.setRenderTarget(r),Qh.render(e,i)}Qh.toneMapping=s,Qh.toneMappingExposure=l,Qh.outputEncoding=o,Qh.setClearColor(c,u),e.scale.z*=-1}function jh(e){var t=new Lt;t.add(new gr(Lh[0],e)),Qh.compile(t,Ih)}function Wh(e){var t=new it(3*bh,3*bh,e);return t.texture.mapping=R,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Xh(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Yh(e){var t=Qh.autoClear;Qh.autoClear=!1;for(var n=1;n<Mh;n++){Kh(e,n-1,n,Math.sqrt(Ph[n]*Ph[n]-Ph[n-1]*Ph[n-1]),Nh[(n-1)%Nh.length])}Qh.autoClear=t}function Kh(e,t,n,r,i){Zh(e,Dh,t,n,r,"latitudinal",i),Zh(Dh,e,n,n,r,"longitudinal",i)}function Zh(e,t,n,r,i,a,A){"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var o=new Lt;o.add(new gr(Lh[r],Th));var s=Th.uniforms,l=Rh[n]-1,c=isFinite(i)?Math.PI/(2*l):2*Math.PI/15,u=i/c,h=isFinite(i)?1+Math.floor(3*u):8;h>8&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(8));for(var d=[],p=0,f=0;f<8;++f){var g=f/u,m=Math.exp(-g*g/2);d.push(m),0==f?p+=m:f<h&&(p+=2*m)}for(f=0;f<d.length;f++)d[f]=d[f]/p;s.envMap.value=e.texture,s.samples.value=h,s.weights.value=d,s.latitudinal.value="latitudinal"===a,A&&(s.poleAxis.value=A),s.dTheta.value=c,s.mipInt.value=8-n,s.inputEncoding.value=Eh[e.texture.encoding],s.outputEncoding.value=Eh[e.texture.encoding];var v=Rh[r];Xh(t,g=3*Math.max(0,bh-2*v),(0===r?0:2*bh)+2*v*(r>4?r-8+4:0),3*v,2*v),Qh.setRenderTarget(t),Qh.render(o,Ih)}function Jh(){var e=new os({uniforms:{envMap:{value:null},texelSize:{value:new _e(1,1)},inputEncoding:{value:Eh[3e3]},outputEncoding:{value:Eh[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n#include <encodings_pars_fragment>\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1});return e.type="EquirectangularToCubeUV",e}function qh(){var e=new os({uniforms:{envMap:{value:null},inputEncoding:{value:Eh[3e3]},outputEncoding:{value:Eh[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n#include <encodings_pars_fragment>\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1});return e.type="CubemapToCubeUV",e}kh.prototype={constructor:kh,fromScene:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Oh=Qh.getRenderTarget();var i=Gh();return zh(e,n,r,i),t>0&&Kh(i,0,0,t),Yh(i),Vh(i),i},fromEquirectangular:function(e){return e.magFilter=H,e.minFilter=H,e.generateMipmaps=!1,this.fromCubemap(e)},fromCubemap:function(e){Oh=Qh.getRenderTarget();var t=Gh(e);return function(e,t){var n=new Lt;e.isCubeTexture?null==Fh&&(Fh=qh()):null==Sh&&(Sh=Jh());var r=e.isCubeTexture?Fh:Sh;n.add(new gr(Lh[0],r));var i=r.uniforms;i.envMap.value=e,e.isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height);i.inputEncoding.value=Eh[e.encoding],i.outputEncoding.value=Eh[e.encoding],Xh(t,0,0,3*bh,2*bh),Qh.setRenderTarget(t),Qh.render(n,Ih)}(e,t),Yh(t),Vh(t),t},compileCubemapShader:function(){null==Fh&&jh(Fh=qh())},compileEquirectangularShader:function(){null==Sh&&jh(Sh=Jh())},dispose:function(){Th.dispose(),null!=Fh&&Fh.dispose(),null!=Sh&&Sh.dispose();for(var e=0;e<Lh.length;e++)Lh[e].dispose()}};var $h=function(){function e(){i(this,e)}return A(e,null,[{key:"getTouchByEvent",value:function(e){return e.touches&&e.touches.length>0?e.touches[0]:e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e}},{key:"isIOS",get:function(){return navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1}},{key:"isAndroid",get:function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}},{key:"isMobile",get:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)}},{key:"stringToArrayBuffer",value:function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t}},{key:"arrayBufferToString",value:function(e){return String.fromCharCode.apply(null,new Uint16Array(e))}},{key:"setRaycasterByCamera",value:function(e,t,n){var r=(new dt).getInverse(n.projectionMatrix),i=(new Ve).applyMatrix4(r),a=new Ve(e.x,e.y,1).applyMatrix4(r).clone().sub(i).normalize();return t.set(i,a),a}},{key:"getDomMouse",value:function(t,n){t=e.getTouchByEvent(t);var r={},i=n;return n.getBoundingClientRect&&(i=n.getBoundingClientRect()),r.x=(t.offsetX||t.pageX)/i.width*2-1,r.y=-(t.offsetY||t.pageY)/i.height*2+1,r}},{key:"getDomMouseForThreeBox",value:function(t,n){t=e.getTouchByEvent(t);var r={},i=n.getBoundingClientRect();return r.x=t.offsetX/i.width*2-1,r.y=1-t.offsetY/i.height*2,r}},{key:"bindAll",value:function(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}},{key:"getSize",value:function(e){var t=new Wt;return t.setFromObject(e),t.getSize(new Ve)}},{key:"getModelRootNode",value:function(t){return"modelGroup"==t.parent.name?t:e.getModelRootNode(t.parent)}},{key:"assemblyPath",value:function(e,t){if(e.startsWith("#"))return e;var n=e.split(",");return n.map((function(e){e=e.split("?")[0],e=t+e.slice(e.lastIndexOf("/")+1)})),n.join(",")}},{key:"createCircleMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n="rgba("+255*(e=new Color(e)).r+","+255*e.g+","+255*e.b+",",r=document.createElement("canvas");r.width=r.height=t;var i=r.getContext("2d"),a=t/2;i.beginPath(),i.arc(a,a,a,0,2*Math.PI,!0),i.closePath();var A=i.createRadialGradient(a,a,1,a,a,a);A.addColorStop(0,n+"1)"),A.addColorStop(.2,n+"0)"),A.addColorStop(.4,n+"1)"),A.addColorStop(.6,n+"0)"),A.addColorStop(.8,n+"1)"),A.addColorStop(1,n+"0)"),i.fillStyle=A,i.fill();var o=new zA(r);return o.minFilter=k,o.needsUpdate=!0,o}},{key:"segmentIntersection",value:function(e,t,n,r){e=new _e(e.x,e.z),t=new _e(t.x,t.z),n=new _e(n.x,n.z),r=new _e(r.x,r.z);var i=(t.y-e.y)/(t.x-e.x),a=t.y-i*t.x,A=(r.y-n.y)/(r.x-n.x),o=r.y-A*r.x;return{x:(o-a)/(i-A),y:i*((o-a)/(i-A))+a}}},{key:"convertTexture",value:function(e,t){if(!t)return e;var n=new kh(t),r=e.image.src;return e.constructor===ri?(n.compileCubemapShader(),e=n.fromCubemap(e).texture):(n.compileEquirectangularShader(),e=n.fromEquirectangular(e).texture),n.dispose(),e.image.src=r,e}}]),e}(),ed=new WeakMap,td=function(e){s(r,e);var t=f(r);function r(e){var n;return i(this,r),(n=t.call(this,e)).transcoderPath="",n.transcoderBinary=null,n.transcoderPending=null,n.workerLimit=4,n.workerPool=[],n.workerNextTaskID=1,n.workerSourceURL="",n.workerConfig=null,n}return A(r,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}},{key:"load",value:function(e,t,n,r){var i=this,a=new Hs(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials);var A=new VA;return a.load(e,(function(e){if(ed.has(e))return ed.get(e).promise.then(t).catch(r);i._createTexture([e]).then((function(e){A.copy(e),A.needsUpdate=!0,t&&t(A)})).catch(r)}),n,r),A}},{key:"parseInternalAsync",value:function(e){for(var t=e.levels,r=new Set,i=0;i<t.length;i++)r.add(t[i].data.buffer);return this._createTexture(Array.from(r),n(n({},e),{},{lowLevel:!0}))}},{key:"_createTexture",value:function(e){for(var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i,A=0,o=0;o<e.length;o++)A+=e[o].byteLength;var s=this._allocateWorker(A).then((function(i){return t=i,n=r.workerNextTaskID++,new Promise((function(r,i){t._callbacks[n]={resolve:r,reject:i},t.postMessage({type:"transcode",id:n,buffers:e,taskConfig:a},e)}))})).then((function(e){var t=e.mipmaps,n=new VA(t,e.width,e.height,e.format,z);return n.minFilter=1===t.length?k:V,n.magFilter=k,n.generateMipmaps=!0,n.needsUpdate=!0,n}));return s.catch((function(){return!0})).then((function(){t&&n&&(t._taskLoad-=A,delete t._callbacks[n])})),ed.set(e[0],{promise:s}),s}},{key:"_initTranscoder",value:function(){var e=this;if(!this.transcoderPending){var t=new Hs(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var n=new Promise((function(e,n){t.load("basis_transcoder.js",e,void 0,n)})),i=new Hs(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var a=new Promise((function(e,t){i.load("basis_transcoder.wasm",e,void 0,t)})),A=[];A.push(n),A.push(a),this.transcoderPending=Promise.all(A).then((function(t){var n=v(t,2),i=n[0],a=n[1],A=r.BasisWorker.toString(),o=["/* constants */","let _EngineFormat = "+JSON.stringify(r.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(r.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(r.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",A.substring(A.indexOf("{")+1,A.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([o])),e.transcoderBinary=a}))}return this.transcoderPending}},{key:"_allocateWorker",value:function(e){var t=this;return this._initTranscoder().then((function(){var n;t.workerPool.length<t.workerLimit?((n=new Worker(t.workerSourceURL))._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:t.workerConfig,transcoderBinary:t.transcoderBinary}),n.onmessage=function(e){var t=e.data;switch(t.type){case"transcode":n._callbacks[t.id].resolve(t);break;case"error":n._callbacks[t.id].reject(t);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+t.type+'"')}},t.workerPool.push(n)):t.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(n=t.workerPool[t.workerPool.length-1])._taskLoad+=e,n}))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;e++)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),r}(Ds);function nd(){var e="js/";if(document.getElementById("AMRT")){var t=document.getElementById("AMRT").src;e=t.slice(0,t.lastIndexOf("/"))+"/"}else for(var n=0;n<document.scripts.length;n++){var r=document.scripts[n];r.src&&"app.js"===r.src.slice(r.src.lastIndexOf("/")+1)&&(e=r.src.slice(0,r.src.lastIndexOf("/"))+"/")}return e}td.BasisFormat={ETC1S:0,UASTC_4x4:1},td.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},td.EngineFormat={RGBAFormat:J,RGBA_ASTC_4x4_Format:ce,RGBA_BPTC_Format:ue,RGBA_ETC2_EAC_Format:de,RGBA_PVRTC_4BPPV1_Format:oe,RGBA_S3TC_DXT5_Format:ie,RGB_ETC1_Format:le,RGB_ETC2_Format:he,RGB_PVRTC_4BPPV1_Format:ae,RGB_S3TC_DXT1_Format:te},td.BasisWorker=function(){var e,t,n,r=_EngineFormat,i=_TranscoderFormat,a=_BasisFormat;onmessage=function(r){var i,A=r.data;switch(A.type){case"init":e=A.config,i=A.transcoderBinary,t=new Promise((function(e){n={wasmBinary:i,onRuntimeInitialized:e},BASIS(n)})).then((function(){n.initializeBasis()}));break;case"transcode":t.then((function(){try{for(var e=A.taskConfig.lowLevel?function(e){var t=e.basisFormat,r=e.width,i=e.height,A=e.hasAlpha,o=l(t,r,i,A),s=o.transcoderFormat,p=o.engineFormat,f=n.getBytesPerBlockOrPixel(s);c(n.isFormatSupported(s),"THREE.BasisTextureLoader: Unsupported format.");var g=[];if(t===a.ETC1S){var m=new n.LowLevelETC1SImageTranscoder,v=e.globalData,y=v.endpointCount,w=v.endpointsData,B=v.selectorCount,x=v.selectorsData,b=v.tablesData;try{c(m.decodePalettes(y,w,B,x),"THREE.BasisTextureLoader: decodePalettes() failed."),c(m.decodeTables(b),"THREE.BasisTextureLoader: decodeTables() failed.");for(var C=0;C<e.levels.length;C++){var M=e.levels[C],E=e.globalData.imageDescs[C],I=d(s,M.width,M.height),T=new Uint8Array(I);c(m.transcodeImage(s,T,I/f,M.data,u(s,M.width),h(s,M.height),M.width,M.height,M.index,E.rgbSliceByteOffset,E.rgbSliceByteLength,E.alphaSliceByteOffset,E.alphaSliceByteLength,E.imageFlags,A,!1,0,0),"THREE.BasisTextureLoader: transcodeImage() failed for level "+M.index+"."),g.push({data:T,width:M.width,height:M.height})}}finally{m.delete()}}else for(var S=0;S<e.levels.length;S++){var F=e.levels[S],U=d(s,F.width,F.height),L=new Uint8Array(U);c(n.transcodeUASTCImage(s,L,U/f,F.data,u(s,F.width),h(s,F.height),F.width,F.height,F.index,0,F.data.byteLength,0,A,!1,0,0,-1,-1),"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+F.index+"."),g.push({data:L,width:F.width,height:F.height})}return{width:r,height:i,hasAlpha:A,mipmaps:g,format:p}}(A.taskConfig):function(e){var t=new n.BasisFile(new Uint8Array(e)),r=t.isUASTC()?a.UASTC_4x4:a.ETC1S,i=t.getImageWidth(0,0),A=t.getImageHeight(0,0),o=t.getNumLevels(0),s=t.getHasAlpha();function c(){t.close(),t.delete()}var u=l(r,i,A,s),h=u.transcoderFormat,d=u.engineFormat;if(!i||!A||!o)throw c(),new Error("THREE.BasisTextureLoader:\tInvalid texture");if(!t.startTranscoding())throw c(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");for(var p=[],f=0;f<o;f++){var g=t.getImageWidth(0,f),m=t.getImageHeight(0,f),v=new Uint8Array(t.getImageTranscodedSizeInBytes(0,f,h));if(!t.transcodeImage(v,0,f,h,0,s))throw c(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");p.push({data:v,width:g,height:m})}return c(),{width:i,height:A,hasAlpha:s,mipmaps:p,format:d}}(A.buffers[0]),t=e.width,r=e.height,i=e.hasAlpha,o=e.mipmaps,s=e.format,p=[],f=0;f<o.length;++f)p.push(o[f].data.buffer);self.postMessage({type:"transcode",id:A.id,width:t,height:r,hasAlpha:i,mipmaps:o,format:s},p)}catch(e){console.error(e),self.postMessage({type:"error",id:A.id,error:e.message})}}))}};var A=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC1],engineFormat:[r.RGB_ETC1_Format,r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],o=A.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),s=A.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function l(t,n,A,l){for(var c=t===a.ETC1S?o:s,u=0;u<c.length;u++){var h=c[u];if(e[h.if]&&(h.basisFormat.includes(t)&&(!h.needsPowerOfTwo||p(n)&&p(A))))return{transcoderFormat:h.transcoderFormat[l?1:0],engineFormat:h.engineFormat[l?1:0]}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),{transcoderFormat:i.RGBA32,engineFormat:r.RGBAFormat}}function c(e,t){if(!e)throw new Error(t)}function u(e,t){return Math.ceil(t/n.getFormatBlockWidth(e))}function h(e,t){return Math.ceil(t/n.getFormatBlockHeight(e))}function d(e,t,r){var a=n.getBytesPerBlockOrPixel(e);if(n.formatIsUncompressed(e))return t*r*a;if(e===i.PVRTC1_4_RGB||e===i.PVRTC1_4_RGBA){var A=t+3&-4,o=r+3&-4;return(Math.max(8,A)*Math.max(8,o)*4+7)/8}return u(e,t)*h(e,r)*a}function p(e){return e<=2||0==(e&e-1)&&0!==e}};var rd=function(){function e(){i(this,e)}return A(e,null,[{key:"setBaseUrl",value:function(t){t=t||"",e.BASE_URL=t}},{key:"_rebuildUrl",value:function(t){return e.RENAME&&(t=e._rename(t)),t.startsWith("http")?t:e.BASE_URL+t}},{key:"load",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,A=function(e){console.error("贴图加载失败:"+t,e),i&&i(e)};if(t.constructor===String){if(6===t.split(",").length){t=t.split(",");for(var o=0;o<t.length;o++)e.RESIZE?t[o]=e._resize(t[o]):t[o]=_rebuildUrl(t[o]);return(new Vs).load(t,(function(e){n(e),et.render()}),r,A)}var s=t.substr(t.lastIndexOf(".")+1).split("?")[0].toUpperCase();switch(s){case"HDR":var l=Y;return($h.isMobile||AMRT.isWebGL2)&&(l=z),(navigator.userAgent.indexOf("Trident")>-1||navigator.userAgent.indexOf("Firefox")>-1||navigator.userAgent.indexOf("Safari")>-1&&-1==navigator.userAgent.indexOf("Chrome"))&&(l=z),t=e._rebuildUrl(t),(new Tu).setDataType(l).load(t,(function(e){e.image.src=t,n(e),et.render()}),r,A);case"TGA":return t=e._rebuildUrl(t),(new vh).load(t,(function(e){e.image.src=t,n(e),et.render()}),r,A);case"BASIS":return t=e._rebuildUrl(t),e.basisLoader||(e.basisLoader=new td),e.basisLoader.setTranscoderPath(nd()),e.basisLoader.detectSupport(e.renderer),e.basisLoader.load(t,(function(e){n(e),e.image.src=t,e.flipY=!0,et.render()}),(function(e){}),(function(e){console.error(e)}));default:var c=t;return c=e.RESIZE?e._resize(c,a):e._rebuildUrl(c),(new zs).load(c,(function(e){n(e),et.render()}),r,A)}}else if(Array.isArray(t)&&6===t.length){for(var u=0;u<t.length;u++)e.RESIZE?t[u]=e._resize(t[u]):t[u]=e.BASE_URL+t[u];return(new Vs).load(t,(function(e){n(e),et.render()}),r,A)}}},{key:"_resize",value:function(e,t){if(void 0!==t){var n="x-image-process=image/resize,w_"+t+",h_"+t;e.indexOf("?")>-1?e+="&"+n:e+="?"+n,resolve(e)}else if($h.isMobile){var r="x-image-process=image/resize,w_"+(t=2048)+",h_"+t+"/quality,q_100/marker,u_plus";e.indexOf("?")>-1?e+="&"+r:e+="?"+r}return e}},{key:"_rename",value:function(e){return e=e.split("?")[0],encodeURIComponent(e.slice(e.lastIndexOf("/")+1))}},{key:"loadEnvMap",value:function(t,n){e.load(t,(function(t){var r=e.convertTexture(t);n&&n(r),et.render(!0)}))}},{key:"convertTexture",value:function(e){var t=new kh(et.defaultRenderer),n=e.image.src;return e.constructor===ri?(t.compileCubemapShader(),e=t.fromCubemap(e).texture):(t.compileEquirectangularShader(),e=t.fromEquirectangular(e).texture),t.dispose(),e.image.src=n,e}}]),e}();function id(){var e=new Lt,t=new Mr;t.deleteAttribute("uv");var n=new ss({side:1}),r=new ss,i=new wl(16777215,5,28,2);i.position.set(.418,16.199,.3),e.add(i);var a=new gr(t,n);a.position.set(-.757,13.219,.717),a.scale.set(31.713,28.305,28.591),e.add(a);var A=new gr(t,r);A.position.set(-10.906,2.009,1.846),A.rotation.set(0,-.195,0),A.scale.set(2.328,7.905,4.651),e.add(A);var o=new gr(t,r);o.position.set(-5.607,-.754,-.758),o.rotation.set(0,.994,0),o.scale.set(1.97,1.534,3.955),e.add(o);var s=new gr(t,r);s.position.set(6.167,.857,7.803),s.rotation.set(0,.561,0),s.scale.set(3.927,6.285,3.687),e.add(s);var l=new gr(t,r);l.position.set(-2.017,.018,6.124),l.rotation.set(0,.333,0),l.scale.set(2.002,4.566,2.064),e.add(l);var c=new gr(t,r);c.position.set(2.291,-.756,-2.621),c.rotation.set(0,-.286,0),c.scale.set(1.546,1.552,1.496),e.add(c);var u=new gr(t,r);u.position.set(-2.193,-.369,-5.547),u.rotation.set(0,.516,0),u.scale.set(3.875,3.487,2.986),e.add(u);var h=new gr(t,v(50));h.position.set(-16.116,14.37,8.208),h.scale.set(.1,2.428,2.739),e.add(h);var d=new gr(t,v(50));d.position.set(-16.109,18.021,-8.207),d.scale.set(.1,2.425,2.751),e.add(d);var p=new gr(t,v(17));p.position.set(14.904,12.198,-1.832),p.scale.set(.15,4.265,6.331),e.add(p);var f=new gr(t,v(43));f.position.set(-.462,8.89,14.52),f.scale.set(4.38,5.441,.088),e.add(f);var g=new gr(t,v(20));g.position.set(3.235,11.486,-12.541),g.scale.set(2.5,2,.1),e.add(g);var m=new gr(t,v(100));function v(e){var t=new Fn;return t.color.setScalar(e),t}return m.position.set(0,20,0),m.scale.set(1,.1,1),e.add(m),e}rd.THUMB_SIZE=512,rd.BASE_URL="",rd.RESIZE=!0,rd.RENAME=!1,rd.renderer=null,rd.basisLoader=null;var ad=function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this)).name="modelGroup",e}return A(n,[{key:"getModelById",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].ID==e)return this.children[t]}},{key:"getModelByName",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name==e)return this.children[t]}},{key:"updateAnimation",value:function(){this.children.forEach((function(e){e.isModel?e.animation.update():e.isGroup&&e.children.forEach((function(e){e.isModel&&e.animation.update()}))}))}},{key:"isPlaying",value:function(){for(var e=0,t=this.children.length;e<t;e++){var n=this.children[e];if(n.isModel&&!n.animation.paused)return!0;if(n.isGroup)for(var r=0,i=n.children.length;r<i;r++){var a=n.children[r];if(a.isModel&&!a.animation.paused)return!0}}}},{key:"onAfterRender",value:function(){this.updateAnimation()}}]),n}(Ut),Ad=new(function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this)).root=null,e.modelGroup=null,e.scene=null,e.ambientLight=null,e.directLight=null,e.lightFollow=!1,e.camera=null,e.envMapUrl=null,e}return A(n,[{key:"visible",get:function(){return this.root.visible},set:function(e){this.root.visible=e}},{key:"init",value:function(){this.scene=new Lt,this.scene.background=new bn(15658734),this.scene.environment=new kh(et.defaultRenderer).fromScene(new id).texture,this.root=new Ut,this.root.name="root",this.scene.add(this.root),this.ambientLight=new Cl(16777215,.7),this.root.add(this.ambientLight),this.directLight=new bl(16777215,.3),this.directLight.position.set(0,1,1).normalize(),this.root.add(this.directLight),this.modelGroup=new ad,this.root.add(this.modelGroup)}},{key:"getEnvMap",value:function(){return this.envMapUrl||""}},{key:"setEnvMap",value:function(e){this.modelGroup.children.map((function(t){t.isModel&&t.setEnvMap(e)})),this.envMapUrl=e.isTexture?e.image.src:e}},{key:"getEnvMapRotation",value:function(){return this.envMapRotation||0}},{key:"setEnvMapRotation",value:function(e){this.modelGroup.children.map((function(t){t.isModel&&t.setEnvMapRotation(e)})),this.envMapRotation=e}},{key:"getEnvMapIntensity",value:function(){return this.envMapIntensity||.7}},{key:"setEnvMapIntensity",value:function(e){this.modelGroup.children.map((function(t){t.isModel&&t.setEnvMapIntensity(e)})),this.envMapIntensity=e}},{key:"setSkyBox",value:function(e,t){var n=this;if(et.render(),void 0!==e&&""!==e)var r=rd.load(e,(function(i){if(i.constructor===ri)n.scene.background=i;else{r.constructor===Tu?(i.wrapS=i.wrapT=1001,i.mapping=EquirectangularReflectionMapping):i.mapping=S;var a={generateMipmaps:!0,minFilter:V,magFilter:k};n.scene.background=new Pr(1024,1024,a).fromEquirectangularTexture(et.defaultRenderer,i)}n.scene.background.sky=e,t&&t()}));else this.scene.background=null}},{key:"setBackground",value:function(e){var t=this;0===e.indexOf("#")?(this.scene.background=(new bn).setStyle(e),et.render()):(new zs).load(e,(function(e){e.minFilter=k,t.scene.background=e,et.render()}))}},{key:"clearBackground",value:function(){this.scene.background=null,et.render()}},{key:"setLightness",value:function(e){this.ambientLight.intensity=e,et.render()}},{key:"getLightness",value:function(){return this.ambientLight.intensity}},{key:"getLightColor",value:function(){return"#"+this.ambientLight.color.getHexString()}},{key:"setLightColor",value:function(e){this.ambientLight.color.setStyle(e),et.render()}},{key:"setDirectLightLightness",value:function(e){this.directLight.intensity=e,et.render()}},{key:"getDirectLightLightness",value:function(){return this.directLight.intensity}},{key:"getDirectLightColor",value:function(){return"#"+this.directLight.color.getHexString()}},{key:"setDirectLightPosition",value:function(e,t,n){e.isVector3?this.directLight.position.copy(e):(void 0!==e&&(this.directLight.position.x=e),void 0!==t&&(this.directLight.position.y=t),void 0!==n&&(this.directLight.position.z=n)),et.render()}},{key:"getDirectLightPosition",value:function(){return this.directLight.position}},{key:"setDirectLightColor",value:function(e){this.directLight.color.setStyle(e),et.render()}},{key:"addSpotLight",value:function(e){if(e.position){var t=new vl(e.color||16777215,e.intensity||1,e.distance||100,e.angle||Math.PI/8,e.penumbra||.5,e.decay||.5);return Array.isArray(e.position)?t.position.fromArray(e.position):t.position.copy(e.position),e.target&&(t.target=e.target),this.root.add(t),t}console.warn("addSpotLight需要指定position")}},{key:"saveSceneData",value:function(){var e={a:{aa:this.getLightColor(),ab:this.getLightness()},b:{ba:this.getDirectLightColor(),bb:this.getDirectLightLightness()}};return this.lightFollow||(e.b.bc=this.directLight.position.toArray()),this.scene.background&&(this.scene.background.sky?(e.c=1,e.ca=this.scene.background.sky):this.scene.background.isTexture?(e.c=2,e.ca=this.scene.background.image.src):this.scene.background.isColor&&(e.c=2,e.ca="#"+this.scene.background.getHexString())),this.envMapUrl&&(e.e=this.envMapUrl,e.ea=this.envMapRotation||0,e.ei=this.envMapIntensity||.7),JSON.stringify(e)}},{key:"loadSceneData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=JSON.parse(e),t&&(this.setLightColor(e.a.aa),this.setLightness(e.a.ab),this.setDirectLightColor(e.b.ba),this.setDirectLightLightness(e.b.bb),void 0!==e.b.bc&&(this.setDirectLightPosition(e.b.bc[0],e.b.bc[1],e.b.bc[2]),this.lightFollow=!1),1==e.c&&this.setSkyBox(e.ca),2==e.c&&(Array.isArray(e.ca)||(e.ca=e.ca.split(",")),1==e.ca.length?this.setBackground(e.ca[0]):2==e.ca.length&&(window.screen.width>window.screen.height?this.setBackground(e.ca[0]+"?time="+Date.now()):this.setBackground(e.ca[1]+"?time="+Date.now())))),e}},{key:"loadSceneFile",value:function(e,t){var n=this;(new Hs).load(e,(function(e){t.localPath&&rd.setBaseUrl(t.localPath);var r=n.loadSceneData(e,t.background);t.onLoad&&t.onLoad(r)}))}},{key:"showFog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.scene.fog=new Xa(e,t,n)}},{key:"showFogExp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;t*=5e-5,this.scene.fog=new Wa(e,t)}},{key:"setFogDensity",value:function(e){e=e,this.scene.fog&&(this.scene.fog.density=5e-5*e)}},{key:"clearFog",value:function(){this.scene.fog=null}},{key:"showGridHelp",value:function(e,t,n){this.gridHelp?this.gridHelp.visible=!0:(this.gridHelp=new iu(e,t,n,n),this.root.add(this.gridHelp))}},{key:"hideGridHelp",value:function(){this.gridHelp.visible=!1}},{key:"showAxesHelper",value:function(e){if(this.axesHelper&&this.root.remove(this.axesHelper),!e){var t=(new Wt).setFromObject(this.modelGroup);e=Math.max(t.getSize().x,t.getSize().y,t.getSize().z)}this.axesHelper=new Iu(e),this.root.add(this.axesHelper)}},{key:"hideAxesHelper",value:function(){this.axesHelper&&this.root.add(this.axesHelper)}},{key:"fitCamera",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.modelGroup,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&n.isBox3?e=n:(e=new Wt).expandByObject(t);var r=e.getCenter(new Ve);t==this.modelGroup&&(t.translateX(-r.x),t.translateY(-r.y),t.translateZ(-r.z),r.x=r.y=r.z=0);var i=1.5,a=.8,A=.05,o=et.container.getBoundingClientRect();o.width<o.height&&(i=2);var s=e.getSize(new Ve),l=Math.max(s.x,s.y,s.z),c=this.camera.fov*(Math.PI/180),u=Math.abs(l/(2*Math.tan(c/2))),h=Math.min(s.x,s.y,s.z);this.camera.near=h*A,20*l>this.camera.far&&(this.camera.far=20*l),this.camera.far<5e3&&(this.camera.far=5e3),this.camera.defaultPos.copy(this.camera.position),this.camera.updateProjectionMatrix();var d=new Ve(r.x,r.y+u*a,r.z+u*i);this.camera.controller?(this.camera.controller.setPosition(d.x,d.y,d.z),this.camera.controller.setTarget(r.x,r.y,r.z)):(this.camera.position.z=d.z,this.camera.position.y=d.y,this.camera.lookAt(r.x,r.y,r.z)),et.render(!0)}},{key:"screenShot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/jpeg",t=arguments.length>1?arguments[1]:void 0,n=this.controls.getView();t&&this.fitCamera(),et.render(!0);var r=this.renderer.domElement.toDataURL(e);return t&&this.controls.setView(n),r}},{key:"encircleScreenShot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=[],a=360/n;this.fitCamera();for(var A=this.controls.getView(),o=function(o){t.controls.rotateLeft(0===o?0:-a),t.controls.update(),t.camera.updateMatrixWorld(),et.render(!0);var s=document.createElement("canvas"),l=s.getContext("2d");s.width=r,s.height=r;var c=new Image;c.onload=function(){var r,a;c.height<=c.width?(a=s.height,r=c.width*(s.height/c.height)):(r=s.width,a=c.height*(s.width/c.width));var o=(s.width-r)/2,u=(s.height-a)/2;l.drawImage(c,o,u,r,a),i.push(s.toDataURL("image/jpeg")),i.length===n&&e&&(t.controls.setView(A),e(i))},c.src=t.renderer.domElement.toDataURL("image/jpeg")},s=0;s<n;s++)o(s)}},{key:"dispose",value:function(){this.scene.traverse((function(e){e.isMesh&&(e.geometry&&e.geometry.dispose(),(Array.isArray(e.material)?e.material:[e.material]).forEach((function(e){e.map&&e.map.dispose(),e.dispose()})))})),this.scene.background&&this.scene.background.dispose&&this.scene.background.dispose(),this.scene.dispose(),this.scene.background=null}}]),n}(De));function od(e){return function(e){for(var t="0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return n}(function(e){for(var t=e,n=Array(80),r=1732584193,i=-271733879,a=-1732584194,A=271733878,o=-1009589776,s=0;s<t.length;s+=16){for(var l=r,c=i,u=a,h=A,d=o,p=0;p<80;p++){n[p]=p<16?t[s+p]:ud(n[p-3]^n[p-8]^n[p-14]^n[p-16],1);var f=cd(cd(ud(r,5),sd(p,i,a,A)),cd(cd(o,n[p]),ld(p)));o=A,A=a,a=ud(i,30),i=r,r=f}r=cd(r,l),i=cd(i,c),a=cd(a,u),A=cd(A,h),o=cd(o,d)}return new Array(r,i,a,A,o)}(function(e){for(var t=1+(e.length+8>>6),n=new Array(16*t),r=0;r<16*t;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<24-8*(3&r);return n[r>>2]|=128<<24-8*(3&r),n[16*t-1]=8*e.length,n}(e)))}function sd(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function ld(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function cd(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function ud(e,t){return e<<t|e>>>32-t}var hd="http://10.10.10.139:4080/common/downloadFile/",dd=function(){function e(){i(this,e)}return A(e,null,[{key:"getModelById",value:function(t){try{var n=this.post({url:"https://open.laozicloud.com/v4/auth/getModelFile",body:"modelId="+t+"&token="+pd.token,async:!1});if(6e4===n.resp_code)return n.datas;if(60301!==n.resp_code)throw new Error("模型获取失败！");if("无权访问该模型"==n.resp_msg)throw console.warn(n.resp_msg),new Error(n.resp_msg);if("token不存在或已失效"===newPath&&(pd.token=pd.checkDevloper(),pd.token))return e.getModelById(t)}catch(e){throw new Error("模型获取失败！")}}},{key:"getLocalModelById",value:function(e){try{var t=this.post({url:"http://10.10.10.139:4080/model/preview",body:"id="+e,async:!1});if(t&&6e4===t.resp_code)return JSON.parse(t.datas.paths);throw new Error("模型获取失败！")}catch(e){throw new Error("模型获取失败！")}}},{key:"authorization",value:function(e){var t=this.post({url:"https://open.laozicloud.com/v4/auth/authentication",body:e,async:!1});try{if(t&&6e4===t.resp_code)return t.datas;throw new Error("授权失败,请检查您的开发者凭证是否正确。")}catch(e){throw new Error("授权失败,请检查您的开发者凭证是否正确。")}}},{key:"post",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.async&&(e.async=!0);var t=new XMLHttpRequest;if(e.async&&(t.responseType="json"),t.open("POST",e.url,e.async),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&e.onSuccess&&e.onSuccess(t.response)},t.onerror=function(t){e.onFaild&&e.onFaild(t)},t.send(e.body),!e.async)return JSON.parse(t.response)}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.async&&(e.async=!0);var t=new XMLHttpRequest;if(e.async&&(t.responseType="json"),t.open("GET",e.url,e.async),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&e.onSuccess&&e.onSuccess(t.response)},t.onerror=function(t){e.onFaild&&e.onFaild(t)},t.send(),!e.async)return JSON.parse(t.response)}},{key:"setLocalPath",value:function(e,t){return e.m.forEach((function(n,r){e.m[r]=t+"m/"+n})),e.mat.forEach((function(n,r){e.mat[r]=t+"mat/"+n})),void 0!==e.scene&&""!=e.scene&&(e.scene=t+e.scene),void 0!==e.nodes&&""!=e.nodes&&(e.nodes=t+"nodes/"+e.nodes),void 0!==e.i&&""!=e.i&&(e.i=t+"instance/"+e.i),void 0!==e.ii&&e.ii.forEach((function(n,r){e.ii[r]=t+"instance/"+n})),e.localPath=t+"Texture/",e}},{key:"setOnlinePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hd;return e.m.forEach((function(n,r){e.m[r]=t+n})),e.mat.forEach((function(n,r){e.mat[r]=t+n})),void 0!==e.scene&&""!=e.scene&&(e.scene=t+e.scene),void 0!==e.nodes&&""!=e.nodes&&(e.nodes=t+e.nodes),void 0!==e.i&&""!=e.i&&(e.i=t+e.i),void 0!==e.ii&&e.ii.forEach((function(n,r){e.ii[r]=t+n})),e.localPath=t,e}},{key:"getFileList",value:function(e){try{var t=this.get({url:e+"fileList.json",method:"GET",async:!1});return Array.isArray(t.a)&&(t.a=t.a.map((function(t){return e+t}))),Array.isArray(t.m)&&(t.m=t.m.map((function(t){return e+t}))),Array.isArray(t.mat)&&(t.mat=t.mat.map((function(t){return e+t}))),Array.isArray(t.instance)&&(t.instance=t.instance.map((function(t){return e+t}))),t.scene&&(t.scene=e+t.scene),t.sky&&(t.sky.a=e+t.sky.a,t.sky.b=e+t.sky.b),t}catch(e){console.error("获取本地fileList.json失败")}}}]),e}(),pd=new(function(){function e(){i(this,e),this.token=null}return A(e,[{key:"init",value:function(e){this.options=e}},{key:"checkDevloper",value:function(){if(!this.options.appkey||""===this.options.appkey)throw new Error("开发者参数[appkey]缺失!");if(!this.options.appsecret||""===this.options.appsecret)throw new Error("开发者参数[appsecret]缺失!");var e=(new Date).getTime(),t=parseInt(1e6*Math.random()),n=od(this.options.appsecret+e+t),r="appkey="+this.options.appkey+"&random="+t+"&sign="+n+"&source=3&timeStamp="+e;return dd.authorization(r)}},{key:"offlineValidation",value:function(e){var t=this;try{callRuntimeCallbacks&&callRuntimeCallbacks([function(n){n.onRuntimeInitialized=function(){var r=0;n&&n.ccall&&(r=n.ccall("WEB_API_CheckLicenseData","number",["string","string","string","string"],[t.options.developerID,t.options.appID,t.options.secretKey,t.options.offlinekey])),e(r)}}])}catch(t){e(0)}}}]),e}()),fd=function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var r=t.array,i=n.position.array,a=n.normal.array,A=n.uv.array,o=i.length/3;void 0===n.tangent&&e.setAttribute("tangent",new Un(new Float32Array(4*o),4));for(var s=n.tangent.array,l=[],c=[],u=0;u<o;u++)l[u]=new Ve,c[u]=new Ve;var h=new Ve,d=new Ve,p=new Ve,f=new _e,g=new _e,m=new _e,v=new Ve,y=new Ve,w=e.groups;0===w.length&&(w=[{start:0,count:r.length}]);u=0;for(var B=w.length;u<B;++u)for(var x=L=(U=w[u]).start,b=L+U.count;x<b;x+=3)R(r[x+0],r[x+1],r[x+2]);var C,M,E,I=new Ve,T=new Ve,S=new Ve,F=new Ve;for(u=0,B=w.length;u<B;++u){var U,L;for(x=L=(U=w[u]).start,b=L+U.count;x<b;x+=3)P(r[x+0]),P(r[x+1]),P(r[x+2])}}else console.warn("BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function R(e,t,n){h.fromArray(i,3*e),d.fromArray(i,3*t),p.fromArray(i,3*n),f.fromArray(A,2*e),g.fromArray(A,2*t),m.fromArray(A,2*n);var r=d.x-h.x,a=p.x-h.x,o=d.y-h.y,s=p.y-h.y,u=d.z-h.z,w=p.z-h.z,B=g.x-f.x,x=m.x-f.x,b=g.y-f.y,C=m.y-f.y,M=1/(B*C-x*b);v.set((C*r-b*a)*M,(C*o-b*s)*M,(C*u-b*w)*M),y.set((B*a-x*r)*M,(B*s-x*o)*M,(B*w-x*u)*M),l[e].add(v),l[t].add(v),l[n].add(v),c[e].add(y),c[t].add(y),c[n].add(y)}function P(e){S.fromArray(a,3*e),F.copy(S),M=l[e],I.copy(M),I.sub(S.multiplyScalar(S.dot(M))).normalize(),T.crossVectors(F,M),E=T.dot(c[e]),C=E<0?-1:1,s[4*e]=I.x,s[4*e+1]=I.y,s[4*e+2]=I.z,s[4*e+3]=C}},gd=null;try{var md="undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof __non_webpack_require__&&__non_webpack_require__("worker_threads")||"function"==typeof require&&require("worker_threads");gd=md.Worker}catch(e){}function vd(e,t,n){var r=void 0===t?null:t,i=function(e,t){return Buffer.from(e,"base64").toString(t?"utf16":"utf8")}(e,void 0!==n&&n),a=i.indexOf("\n",10)+1,A=i.substring(a)+(r?"//# sourceMappingURL="+r:"");return function(e){return new gd(A,Object.assign({},e,{eval:!0}))}}function yd(e,t,n){var r=void 0===t?null:t,i=function(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),i=0,a=n.length;i<a;++i)r[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(e,void 0!==n&&n),a=i.indexOf("\n",10)+1,A=i.substring(a)+(r?"//# sourceMappingURL="+r:""),o=new Blob([A],{type:"application/javascript"});return URL.createObjectURL(o)}var wd="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);function Bd(e,t,n){return wd?vd(e,t,n):function(e,t,n){var r;return function(i){return r=r||yd(e,t,n),new Worker(r,i)}}(e,t,n)}var xd=Bd("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qKioNCiAgICAgKiDlpITnkIbmlofku7bliqDovb3lj4rop6PmnpANCiAgICAgKi8KCiAgICAvKirnirbmgIEqLwogICAgdmFyIFNUQVRVUyA9IHsKICAgICAgQ29tcGxldGU6ICdjb21wbGV0ZScsCiAgICAgIFByb2dyZXNzOiAncHJvZ3Jlc3MnLAogICAgICBFcnJvcjogJ2Vycm9yJwogICAgfTsKICAgIC8qKuaOpeaUtua2iOaBryovCgogICAgc2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICBzd2l0Y2ggKGUuZGF0YS5jbWQpIHsKICAgICAgICBjYXNlICdtZXNoJzoKICAgICAgICAgIGxvYWRNZXNoKGUuZGF0YS5kYXRhKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdpbWcnOgogICAgICAgICAgcHJlbG9hZEltYWdlKGUuZGF0YS5kYXRhKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9OwogICAgLyoqDQogICAgICog5Y+R6YCB5raI5oGvDQogICAgICogQHBhcmFtIHN0YXR1cyDnirbmgIENCiAgICAgKiBAcGFyYW0gZGF0YSDopoHlj5HpgIHnmoTmlbDmja4NCiAgICAgKi8KCgogICAgZnVuY3Rpb24gcG9zdE1zZyhzdGF0dXMsIHRhc2ssIGRhdGEpIHsKICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICAgIHRhc2s6IHRhc2ssCiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpCiAgICAgIH0pOwogICAgfQogICAgLyoq5Yqg6L29572R5qC85paH5Lu2Ki8KCiAgICBmdW5jdGlvbiBsb2FkTWVzaCh1cmwpIHsKICAgICAgLy8gY29uc29sZS50aW1lKCd3b3JrZXLliqDovb3mqKHlnovogJfml7bvvJonKTsKICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgLy8gcmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnanNvbic7CgogICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7CiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHZhciByZXNwb25zZSA9IHRoaXMucmVzcG9uc2U7IC8v5Yqg6L295oiQ5YqfCgogICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwIHx8IHRoaXMuc3RhdHVzID09PSAwKSB7CiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDApIGNvbnNvbGUud2FybignSFRUUCBTdGF0dXMgMCByZWNlaXZlZC4nKTsgLy8gY29uc29sZS50aW1lRW5kKCd3b3JrZXLliqDovb3mqKHlnovogJfml7bvvJonKTsKICAgICAgICAgIC8vIGNvbnNvbGUudGltZSggJ3dvcmtlcuino+aekOaooeWei+iAl+aXtu+8micgKTsKCiAgICAgICAgICBwYXJzZUdlb21ldHJ5KEpTT04ucGFyc2UocmVzcG9uc2UpKTsgLy8gY29uc29sZS50aW1lRW5kKCAnd29ya2Vy6Kej5p6Q5qih5Z6L6ICX5pe277yaJyApOwogICAgICAgICAgLy8gcGFyc2VHZW9tZXRyeSggcmVzcG9uc2UgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcG9zdE1zZyhTVEFUVVMuRXJyb3IsICdtZXNoJywgJ0xvYWRpbmcgRXJyb3IgJyArIHRoaXMuc3RhdHVzICsgJyBVUkw6JyArIHVybCk7CiAgICAgICAgfQogICAgICB9LCBmYWxzZSk7IC8v5Yqg6L296L+b5bqmCgogICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgcG9zdE1zZyhTVEFUVVMuUHJvZ3Jlc3MsICdtZXNoJywgewogICAgICAgICAgbG9hZGVkOiBldmVudC5sb2FkZWQsCiAgICAgICAgICB0b3RhbDogZXZlbnQudG90YWwKICAgICAgICB9KTsKICAgICAgfSwgZmFsc2UpOyAvL+WKoOi9veWHuumUmQoKICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHBvc3RNc2coU1RBVFVTLkVycm9yLCAnbWVzaCcsIGV2ZW50Lm1lc3NhZ2UpOwogICAgICB9LCBmYWxzZSk7CiAgICAgIHJlcXVlc3Quc2VuZChudWxsKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmihOWKoOi9veWbvueJhw0KICAgICAqLwoKICAgIGZ1bmN0aW9uIHByZWxvYWRJbWFnZSh1cmwpIHsKICAgICAgdmFyIHBhdGhzOwoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXJsKSkgewogICAgICAgIHBhdGhzID0gdXJsOwogICAgICB9IGVsc2UgewogICAgICAgIHBhdGhzID0gW3VybF07CiAgICAgIH0KCiAgICAgIHBhdGhzLmZvckVhY2goZnVuY3Rpb24gKHVybCkgewogICAgICAgIGlmICh1cmwuaW5kZXhPZignaHR0cCcpID09IC0xKSB1cmwgPSBsb2NhdGlvbi5vcmlnaW4gKyAnLycgKyB1cmw7CiAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7CiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICB0aGlzLnJlc3BvbnNlOyAvL+WKoOi9veaIkOWKnwoKICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwIHx8IHRoaXMuc3RhdHVzID09PSAwKSB7CiAgICAgICAgICAgIHBvc3RNc2coU1RBVFVTLkNvbXBsZXRlLCAnaW1nJywgdXJsKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc3RNc2coU1RBVFVTLkVycm9yLCAnaW1nJywgJ0xvYWRpbmcgRXJyb3IgJyArIHRoaXMuc3RhdHVzICsgJyBVUkw6JyArIHVybCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgZmFsc2UpOwogICAgICAgIHJlcXVlc3Quc2VuZChudWxsKTsKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDop6PmnpBnZW9tZXRyeQ0KICAgICAqIEBwYXJhbSBkYXRhDQogICAgICovCgogICAgZnVuY3Rpb24gcGFyc2VHZW9tZXRyeShkYXRhKSB7CiAgICAgIHZhciBtZXNoZXMgPSBkYXRhOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG1lc2hlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIHZhciBnZW9EYXRhID0gbWVzaGVzW2ldOwoKICAgICAgICBpZiAoZ2VvRGF0YS5oICYmIGdlb0RhdGEuaC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAvL3Bvc2l0aW9uCiAgICAgICAgICBpZiAoZ2VvRGF0YS5oICYmIGdlb0RhdGEuaC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGdlb0RhdGEuaCA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvRGF0YS5oKTsKICAgICAgICAgIH0gLy9ub3JtYWwKCgogICAgICAgICAgaWYgKGdlb0RhdGEuaiAmJiBnZW9EYXRhLmoubGVuZ3RoID4gMCkgewogICAgICAgICAgICBnZW9EYXRhLmogPSBuZXcgRmxvYXQzMkFycmF5KGdlb0RhdGEuaik7CiAgICAgICAgICB9IC8vdXYKCgogICAgICAgICAgaWYgKGdlb0RhdGEuayAmJiBnZW9EYXRhLmsubGVuZ3RoID4gMCkgewogICAgICAgICAgICBnZW9EYXRhLmsgPSBuZXcgRmxvYXQzMkFycmF5KGdlb0RhdGEuayk7CiAgICAgICAgICB9IC8vdXYyCgoKICAgICAgICAgIGlmIChnZW9EYXRhLmwgJiYgZ2VvRGF0YS5sLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZ2VvRGF0YS5sID0gbmV3IEZsb2F0MzJBcnJheShnZW9EYXRhLmwpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcG9zdE1zZyhTVEFUVVMuQ29tcGxldGUsICdtZXNoJywgZGF0YSk7CiAgICB9Cgp9KCkpOwoK",null,!1),bd=function(){function e(){i(this,e),this._worker=void 0}return A(e,[{key:"loadMesh",value:function(e,t,n,r){var i=this;this._load("mesh",e,(function(e){t(e),i.closeWorker()}),n,r)}},{key:"preloadMap",value:function(e,t,n){this._load("img",e,t,void 0,n)}},{key:"closeWorker",value:function(){this._worker.terminate()}},{key:"_load",value:function(e,t,n,r,i){"undefined"!=typeof Worker?(this._worker||(this._worker=new xd),this._worker.onmessage=function(t){if(t.data.task==e)switch(t.data.status){case"complete":n&&n(t.data.data);break;case"progress":r&&r(t.data.data);break;case"error":i&&i(t.data.data)}},this._worker.postMessage({cmd:e,data:t})):console.log("浏览器不支持worker")}}]),e}(),Cd=function(e){s(n,e);var t=f(n);function n(){return i(this,n),t.call(this)}return A(n,[{key:"dispatchEvent",value:function(e,t){g(l(n.prototype),"dispatchEvent",this).call(this,{type:e,data:t})}}]),n}(De),Md=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this))._rootModel=e,r._speed=1,r._paused=!0,r._clock=new Jl,r._stopped=!1,r.loop=!0,r._mixers=[],r._actions=[],r._mixer=null,r._clipMap=new Map,r._currentAction=null,r._clipName=null,r.actions=[],r._defaultAction=null,r}return A(n,[{key:"addClip",value:function(e){var t=this;this._mixer||(this._mixer=new Mc(this._rootModel),this._mixer.addEventListener("finished",(function(e){t.stop(),t.dispatchEvent(Ye.ENDED),t.onEnded&&t.onEnded()})),this._mixer.addEventListener("loop",(function(e){this.dispatchEvent(Ye.LOOP)})));var n=this._mixer.clipAction(e);this._clipMap.set(e.name,n),this.actions.push(e.name),this._defaultAction||(this._defaultAction=n)}},{key:"play",value:function(e,t,n){if(this._mixers.length>0)this._play(e);else{if(e||console.warn("play: 需要指定需要播放的动画"),this._clipName=e,this._paused=this._stopped=!1,this._clock.start(),e){var r=this._clipMap.get(e);r&&(this._currentAction&&this._currentAction!==r&&this._currentAction.stop(),this._currentAction=r)}this._currentAction||(this._currentAction=this._defaultAction),this._currentAction&&(this._currentAction.paused=!1,this._currentAction.setLoop(this.loop?fe:pe),this._currentAction.play())}}},{key:"_play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._paused||this.stop(),this._paused=this._stopped=!1,this._mixers.forEach((function(t){t._actions.forEach((function(t){t.timeScale=e?-1:1,t.play()}))})),this._update=this.update.bind(this),et.addAfterRenderTask(this._update)}},{key:"playByCrossFade",value:function(e,t){var n;if(this._clipName=e,this._paused=this._stopped=!1,this._clock.start(),e&&(n=this._clipMap.get(e)),n&&n!=this._currentAction){n.pause=!1;var r=this._currentAction;this._currentAction=n,this._currentAction.setLoop(this.loop?fe:pe),r.crossFadeTo(n,t,!0)}else this._currentAction.pause=!1,this._currentAction.setLoop(this.loop?fe:pe),this._currentAction.play()}},{key:"setData",value:function(e,t){this._mixers=e,this._actions=t}},{key:"setLoop",value:function(e){this.loop=e,this._currentAction&&this._currentAction.setLoop(this.loop?fe:pe)}},{key:"getLoop",value:function(){return this.loop}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e}},{key:"paused",get:function(){return this._paused}},{key:"pause",value:function(){this._paused=!0}},{key:"stop",value:function(){this._paused=this._stopped=!0,this._mixers.forEach((function(e){e._actions.forEach((function(e){e.stop()}))})),this._currentAction&&this._currentAction.stop(),et.removeAfterRenderTask(this.update)}},{key:"update",value:function(){if(!this._paused&&this._mixers.length>0)for(var e=this._clock.getDelta()*this._speed,t=0;t<this._mixers.length;t++)this._mixers[t].update(e);if(!this._paused&&this._mixer){var n=this._clock.getDelta()*this._speed;this._mixer.update(n),et.render()}}},{key:"hasAnimation",value:function(){if(this._mixer)return!0;var e=this._mixers.length;if(0===e)return!1;if(this._mixers.length>0){for(var t=0;t<e;t++)for(var n=this._actions[t].getClip().tracks,r=0;r<n.length;r++)if(n[r].times.length>1)return!0;return!1}return!1}},{key:"list",value:function(){var e=[];if(this._mixer){var t,n=b(this._clipMap.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r)}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"onEnded",value:function(){}}]),n}(Cd),Ed=function(){function e(t){var n=this;i(this,e),this.objects=[],t.traverse((function(e){e.isMesh&&(n.objects.push(e),e.defaultMat=e.material)})),this.normalMaterial=new hs}return A(e,[{key:"applyUV",value:function(e){var t=(new zs).load(e);this.objects.forEach((function(e){if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)e.material[n]=new gs({albedo:t});else e.material=new gs({albedo:t})})),et.render()}},{key:"applyNormal",value:function(){var e=this;this.objects.forEach((function(t){t.material=e.normalMaterial})),et.render()}},{key:"applyWireFrame",value:function(){this.resetMaterial(),this.objects.forEach((function(e){Array.isArray(e.material)?e.material.forEach((function(e){e.wireframe=!0})):e.material.wireframe=!0})),et.render()}},{key:"resetMaterial",value:function(){this.objects.forEach((function(e){e.material=e.defaultMat,Array.isArray(e.material)?e.material.forEach((function(e){e.wireframe=!1})):e.material.wireframe=!1})),et.render()}}]),e}(),Id=function(e){s(n,e);var t=f(n);function n(e,r,a,A){var o;return i(this,n),o=t.call(this),e&&(o.object=e,o._draw(r,a,A)),o}return A(n,[{key:"_draw",value:function(e,t,n){var r;r=this.object.isBox3?this.object:(new Wt).setFromObject(this.object);var i=new Ve;r.getSize(i),this.maxLength=Math.max(i.x,i.y,i.z),this.textScale=2,this.textMeshScale=.002*this.maxLength,this.fontSize=20*this.textScale,console.log("模型尺寸",i);var a=new Ve;r.getCenter(a);var A=.03*this.maxLength,o=.2*this.maxLength,s=.5*this.fontSize*this.textMeshScale/this.textScale,l=new Ve(r.min.x,r.max.y+o,a.z),c=new Ve(r.max.x,r.max.y+o,a.z);void 0!==e&&""!==e||(e=l.distanceTo(c).toFixed(4));var u=this._drawLine(l,c);u.rotation.z=Math.PI/2;var h=new Ve(l.x,l.y+s,l.z),d=new Ve(l.x,l.y-s,l.z);u=this._drawLine(h,d),h.set(c.x,c.y+s,c.z),d.set(c.x,c.y-s,c.z),u=this._drawLine(h,d);var p=this._drawText(e,new Ve(a.x,r.max.y+A+o,a.z)),f=p.clone();this.add(f),f.rotation.y=Math.PI,this.lengthMesh=p,this.lengthMesh.back=f,l.set(r.min.x-o,r.min.y,(r.max.z+r.min.z)/2),c.set(r.min.x-o,r.max.y,(r.max.z+r.min.z)/2),u=this._drawLine(l,c),void 0!==n&&""!==n||(n=l.distanceTo(c).toFixed(4)),h.set(l.x+s,l.y,l.z),d.set(l.x-s,l.y,l.z),(u=this._drawLine(h,d)).rotation.z=Math.PI/2,h.set(c.x+s,c.y,c.z),d.set(c.x-s,c.y,c.z),(u=this._drawLine(h,d)).rotation.z=Math.PI/2,f=(p=this._drawText(n,new Ve(r.min.x-A-o,a.y,a.z))).clone(),this.add(f),f.position.x-=A/2,p.rotation.z=f.rotation.z=Math.PI/2,f.rotation.y=Math.PI,this.heightMesh=p,this.heightMesh.back=f,l.set(r.max.x+o,a.y,r.min.z),c.set(r.max.x+o,a.y,r.max.z),(u=this._drawLine(l,c)).rotation.x=Math.PI/2,void 0!==t&&""!==t||(t=l.distanceTo(c).toFixed(4)),h.set(l.x,l.y+s,l.z),d.set(l.x,l.y-s,l.z),u=this._drawLine(h,d),h.set(c.x,c.y+s,c.z),d.set(c.x,c.y-s,c.z),u=this._drawLine(h,d),f=(p=this._drawText(t,new Ve(r.max.x+o,a.y+A,a.z))).clone(),this.add(f),p.rotation.y=f.rotation.y=Math.PI/2,f.rotation.y=-Math.PI/2,this.widthMesh=p,this.widthMesh.back=f}},{key:"updateSize",value:function(e,t,n){this.lengthMesh&&void 0!==e&&""!==e&&this._updateTextMesh(this.lengthMesh,e),this.widthMesh&&void 0!==t&&""!==t&&this._updateTextMesh(this.widthMesh,t),this.heightMesh&&void 0!==n&&""!==n&&this._updateTextMesh(this.heightMesh,n)}},{key:"_updateTextMesh",value:function(e,t){var n=e.material,r=n.map.image;this._fillText(n.map.image,t),n.map.needsUpdate=!0,n.needsUpdate=!0,e.back.material.map.needsUpdate=!0,e.back.material.needsUpdate=!0,e.back.geometry.dispose(),e.geometry.dispose(),e.back.geometry=e.geometry=new jr(r.width*this.textMeshScale/this.textScale,r.height*this.textMeshScale/this.textScale)}},{key:"_drawLine",value:function(e,t){var n=.005*this.maxLength*.5,r=new gr(new Mr(n,e.distanceTo(t),n),new Fn({color:"#ffffff",side:2}));return r.position.copy(e.clone().add(t).multiplyScalar(.5)),r.renderOrder=5e3,this.add(r),r}},{key:"_drawText",value:function(e,t){var n=document.createElement("canvas");n.height=this.fontSize,this._fillText(n,e);var r=new jr(n.width*this.textMeshScale/this.textScale,n.height*this.textMeshScale/this.textScale),i=new zA(n);i.anisotropy=16;var a=new Fn({map:i,transparent:!0});a.depthTest=!1;var A=new gr(r,a);return A.position.copy(t),this.add(A),A}},{key:"_fillText",value:function(e,t){var n=this.fontSize+"px 宋体";e.width=this._measureTextWidth(n,t);var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),r.font=n,r.fillStyle="#ffffff",r.textAlign="left",r.textBaseline="top",r.fillText(t,0,0)}},{key:"_measureTextWidth",value:function(e,t){this._measureCanvas||(this._measureCanvas=document.createElement("canvas"),this._measureCanvas.height=100,this._measureCanvas.width=100);var n=this._measureCanvas.getContext("2d");return n.font=e,n.measureText(t).width}},{key:"show",value:function(e,t,n,r){e&&this.object!==e&&(this.object=e),this.object&&this._draw(t,n,r),et.render(!0)}},{key:"dispose",value:function(){}}]),n}(Ut),Td=function(e){s(n,e);var t=f(n);function n(e,r){var a;i(this,n),(a=t.call(this)).object=e,a.options=r||{},void 0===a.options.exposeFactor&&(a.options.exposeFactor=2),void 0===a.options.exposeByPart&&(a.options.exposeByPart=!1),void 0===a.options.exposeType&&(a.options.exposeType="NORMAL"),a.digits=10,a.prePercent=0,a.allModels=[];var A=a.object.getObjectByName("shadow");return a.options.exposeByPart?A.parent.children.forEach((function(e){e!==A&&e.children.forEach((function(e){a.allModels.push(e)}))})):a.object.traverse((function(e){e.geometry&&"shadow"!==e.name&&a.allModels.push(e)})),a.setMode(a.options.exposeType),et.render(),a}return A(n,[{key:"setMode",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NORMAL";switch(t){case"SPHERE":var n=this.allModels.length,r=Math.ceil(Math.sqrt(n)),i=this._genSphereGeo(r,n),a=i.length,A=[],o=(new Wt).setFromObject(this.object),s=o.getSize(new Ve),l=Math.max(s.x,s.y,s.z);this.allModels.forEach((function(t){var n=e._getRandom(a,A);A.push(n);var r=i[n].clone().normalize();t.direct=r.clone().multiplyScalar(l*e.options.exposeFactor)}));break;default:var c=(new Wt).setFromObject(this.object),u=c.getCenter(new Ve);this.allModels.forEach((function(t){var n=(new Wt).setFromObject(t);t.direct=n.getCenter(new Ve).sub(u).clone().multiplyScalar(e.options.exposeFactor)}))}}},{key:"applyScalar",value:function(e){var t=e-this.prePercent;this.prePercent=e,this.allModels.forEach((function(e){var n=e.getWorldPosition(new Ve);n.add(e.direct.clone().multiplyScalar(t));var r=e.parent.worldToLocal(n);e.position.copy(r)})),et.render(),this.dispatchEvent(Ye.CHANGE,e)}},{key:"_getRandom",value:function(e,t){var n=Math.floor(Math.random()*e);return t.indexOf(n)>-1?this._getRandom(e,t):n}},{key:"_genSphereGeo",value:function(e,t){var n=new Vo(1,e,e),r=this._removeRepeat(n.vertices);return r.length<t?this._genSphereGeo(e+1,t):r}},{key:"_removeRepeat",value:function(e){var t=[],n=this;return e.forEach((function(e){t.find((function(t){return n._equalV(e,t)}))||t.push(e)})),t}},{key:"_equalF",value:function(e,t){return parseFloat(Number(e).toFixed(10))===parseFloat(Number(t).toFixed(10))}},{key:"_equalV",value:function(e,t){return this._equalF(e.x,t.x)&&this._equalF(e.y,t.y)&&this._equalF(e.z,t.z)}}]),n}(Cd);Ut.prototype.startMove=function(e){var t=this;if(e.path){this.tween&&this.tween.stop();var n=[];e.path.forEach((function(e){n.push((new Ve).copy(e))}));var r=new $s(n);r.curveType="catmullrom",r.tension=0;var i,a={t:0},A=new Ve;this.tween=new Je.Tween(a).to({t:1},e.time||3e3).onUpdate((function(){var e=new Ve;r.getPoint(a.t,e),A.copy(e),i&&r.getPoint(a.t+.01,A),i=a.t,t.position.copy(e.clone())})).onComplete((function(){e.onComplete&&e.onComplete()})).repeat(e.loop||1).start()}else console.error("startMove缺少参数path")},Ut.prototype.stopMove=function(){this.tween&&this.tween.stop()};var Sd=function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this))._cacheMaterials={},e.isModel=!0,e.name="",e.objects=[],e.materials=[],e.animation=new Md(d(e)),e.envMap=null,e.clickCallback=[],e.dblclickCallback=[],e.mousedownCallback=[],e.mousemoveCallback=[],e.onBeforeRender=function(){},e}return A(n,[{key:"materialViewer",get:function(){return this._materialViewer||(this._materialViewer=new Ed(this)),this._materialViewer}},{key:"applyWireFrame",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.materialViewer.applyWireFrame.bind(this._materialViewer)():this.materialViewer.resetMaterial.bind(this._materialViewer)()}},{key:"add",value:function(e){g(l(n.prototype),"add",this).call(this,e),et.render()}},{key:"remove",value:function(e){e.parent&&g(l(n.prototype),"remove",this).call(this,e),et.render()}},{key:"getObjectByName",value:function(e){return g(l(n.prototype),"getObjectByName",this).call(this,e)}},{key:"getObjectById",value:function(e){return g(l(n.prototype),"getObjectById",this).call(this,e)}},{key:"replace",value:function(e,t){e.position.copy(t.localToWorld(t.position.clone())),e.rotation.copy(t.rotation),t.parent.add(e),t.parent.remove(t),et.render()}},{key:"setPosition",value:function(e,t,n){this.position.set(e,t,n)}},{key:"setRotation",value:function(e,t,n){this.rotation.set(e,t,n)}},{key:"setScale",value:function(e,t,n){this.scale.set(e,t,n)}},{key:"setEnvMap",value:function(e){var t=this;e.isTexture?(this.envMap=e,this.materials.forEach((function(t){t.envMap=e,t.needsUpdate=!0})),et.render()):rd.loadEnvMap(e,(function(e){t.envMap=e,t.materials.forEach((function(t){t.envMap=e,t.needsUpdate=!0})),et.render()}))}},{key:"getEnvMap",value:function(){if(this.envMap)return this.envMap.image.src}},{key:"setEnvMapRotation",value:function(e){this.envMapRotation=e,this.materials.forEach((function(t){t.envMap&&(t.envRotateY=Math.PI/180*e,t.needsUpdate=!0)})),et.render()}},{key:"getEnvMapRotation",value:function(){return this.envMapRotation||0}},{key:"setEnvMapIntensity",value:function(e){this.envMapIntensity=e,this.materials.forEach((function(t){t.envMapIntensity=e,t.needsUpdate=!0}))}},{key:"getEnvMapIntensity",value:function(){return this.envMapIntensity||.7}},{key:"clearEnvMap",value:function(){this.envMap=null,this.materials.forEach((function(e){e.envMap=null,e.needsUpdate=!0})),et.render()}},{key:"hasAnimation",value:function(){return this.animation.hasAnimation()}},{key:"adapt",value:function(e){var t=new Wt;t.expandByObject(e);var n=t.getCenter(new Ve);this.objects.forEach((function(e){e.position.x-=n.x,e.position.y-=n.y,e.position.z-=n.z}))}},{key:"getMesh",value:function(e,t){var n=this;e.children&&e.children.forEach((function(e){"Mesh"===e.type&&t.push(e),e.children&&n.getMesh(e,t)}))}},{key:"getSize",value:function(){var e=new Wt;e.setFromObject(this);var t=new Ve;return e.getSize(t),t}},{key:"onComplete",value:function(){var e=this;this.objects=[],this.traverse((function(t){t.isMesh&&e.objects.push(t)}))}},{key:"showDimension",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.dimension&&Ad.root.remove(this.dimension),this.dimension=new Id(this,e,t,n),Ad.root.add(this.dimension)}},{key:"hideDimension",value:function(){this.dimension&&(Ad.root.remove(this.dimension),this.dimension=null)}},{key:"setExploding",value:function(e){this.exploding||(this.exploding=new Td(this)),this.exploding.applyScalar(parseFloat(e))}},{key:"setExplodingMode",value:function(e){this.exploding||(this.exploding=new Td(this)),this.exploding.applyScalar(0),this.exploding.setMode(e)}},{key:"onBeforeRender",value:function(e,t,n){}},{key:"onAfterRender",value:function(e,t,n){}},{key:"on",value:function(e,t){"click"==e&&(this.clickCallback.push(t),Vd.intersectObjects.click.includes(this)||Vd.intersectObjects.click.push(this)),"dblclick"==e&&(this.dblclickCallback.push(t),Vd.intersectObjects.dblclick.includes(this)||Vd.intersectObjects.dblclick.push(this)),"mousedown"==e&&(this.mousedownCallback.push(t),Vd.intersectObjects.mousedown.includes(this)||Vd.intersectObjects.mousedown.push(this)),"mousemove"==e&&(this.mousemoveCallback.push(t),Vd.intersectObjects.mousemove.includes(this)||Vd.intersectObjects.mousemove.push(this))}},{key:"off",value:function(e,t){"click"==e&&(this.clickCallback.includes(t)&&this.clickCallback.remove(t),0==this.clickCallback.length&&Vd.intersectObjects.click.includes(this)&&Vd.intersectObjects.click.remove(this)),"dblclick"==e&&(this.dblclickCallback.includes(t)&&this.dblclickCallback.remove(t),0==this.dblclickCallback.length&&Vd.intersectObjects.dblclick.includes(this)&&Vd.intersectObjects.dblclick.remove(this)),"mousedown"==e&&(this.mousedownCallback.includes(t)&&this.mousedownCallback.remove(t),0==this.mousedownCallback.length&&Vd.intersectObjects.mousedown.includes(this)&&Vd.intersectObjects.mousedown.remove(this)),"mousemove"==e&&(this.mousemoveCallback.includes(t)&&this.mousemoveCallback.remove(t),0==this.mousemoveCallback.length&&Vd.intersectObjects.mousemove.includes(this)&&Vd.intersectObjects.mousemove.remove(this))}},{key:"clear",value:function(){this.clickCallback.map((function(e){Vd.intersectObjects.click.remove(e)})),this.dblclickCallback.map((function(e){Vd.intersectObjects.dblclick.remove(e)})),this.mousemoveCallback.map((function(e){Vd.intersectObjects.mousemove.remove(e)})),this.mousedownCallback.map((function(e){Vd.intersectObjects.mousedown.remove(e)})),this.clickCallback=[],this.dblclickCallback=[],this.mousemoveCallback=[],this.mousedownCallback=[]}},{key:"dispose",value:function(){this.traverse((function(e){e.isMesh&&(e.geometry&&e.geometry.dispose(),(Array.isArray(e.material)?e.material:[e.material]).forEach((function(e){e.map&&e.map.dispose(),e.dispose()})))}))}},{key:"setColor",value:function(e,t){this.selectedMaterial=this._getMaterialByName(e),this._applyParams("color",t,"color")}},{key:"setOpacity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.selectedMaterial=this._getMaterialByName(e),this._applyParams("opacity",t),this._updateTransparent()}},{key:"setAlbedoMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.selectedMaterial=this._getMaterialByName(e),this._applyParams("albedo",t,"map"),this.selectedMaterial.albedo&&(this.selectedMaterial.albedo.repeat.set(r,r),this.selectedMaterial.albedo.offset.set(n,n),this.selectedMaterial.needsUpdate=!0),et.render()}},{key:"setNormalMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.selectedMaterial=this._getMaterialByName(e),this._applyParams("normalMap",t,"map"),this._applyParams("normalScale",n),this.selectedMaterial.normalMap&&(this.selectedMaterial.normalMap.repeat.set(i,i),this.selectedMaterial.normalMap.offset.set(r,r),this.selectedMaterial.needsUpdate=!0),et.render()}},{key:"_updateTransparent",value:function(){this.selectedMaterial&&(this.selectedMaterial.opacity<1||this.selectedMaterial.transparency>0?this.selectedMaterial.transparent=!0:1==this.selectedMaterial.opacity&&0==this.selectedMaterial.transparency&&(this.selectedMaterial.transparent=!1))}},{key:"_getMaterialByName",value:function(e){var t=this.materials.find((function(t){return t.name==e}));if(!t)throw new Error("找不到该材质");return t}},{key:"_applyParams",value:function(e,t,n){var r=this;if(this._cacheMaterials[this.selectedMaterial.name]||(this._cacheMaterials[this.selectedMaterial.name]=this.selectedMaterial.clone()),"map"===n){var i=this.selectedMaterial[e];if(void 0===this.selectedMaterial[e+"0"]&&(this.selectedMaterial[e+"0"]=i||null),t){var a=t;t=rd.load(t,(function(t){"reflectMap"!==e&&"envMap"!==e||((t=rd.convertTexture(t)).image.src=a,r.selectedMaterial[e]=t,r.selectedMaterial.needsUpdate=!0,et.render())})),"envMap"===e?t.custom=!0:t.wrapS=t.wrapT=1e3}else t=null;this.selectedMaterial[e]=t}else"color"===n?this.selectedMaterial[e].setStyle(t):this.selectedMaterial[e]=t;this.selectedMaterial.needsUpdate=!0,et.render()}},{key:"applyMaterialFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.loader){var r=n.fromOthers,i=n.localPath;this.splitCache&&(this.splitCache.map((function(e){var n=t.objects.find((function(t){return t.id===e.a})),r=t.materials.find((function(t){return t.name===e.c}));r&&(n.material[e.b]=r)})),this.splitCache=[]),this.loader.loader.extraMaterial={},i&&rd.setBaseUrl(i),this.loader.loader.replaceMaterials(e,(function(){rd.setBaseUrl(!1),t.options.env&&t.setEnvMap(t.envMap)}),r)}}}]),n}(Ut),Fd={};function Ud(){}Ud.prototype=Object.assign(Ud.prototype,{constructor:Ud,load:function(e,t,n,r){if(void 0===Fd[e]){Fd[e]=[],Fd[e].push({onLoad:t,onProgress:n,onError:r});var i=new XMLHttpRequest;return i.open("GET",e,!0),i.addEventListener("load",(function(t){var n=this.response,r=Fd[e];if(delete Fd[e],200===this.status||0===this.status)for(var a=0,A=r.length;a<A;a++){(o=r[a]).onLoad&&o.onLoad(n)}else for(a=0,A=r.length;a<A;a++){var o;(o=r[a]).onError&&o.onError(t)}i.end=!0}),!1),i.addEventListener("progress",(function(t){for(var n=Fd[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),i.addEventListener("error",(function(t){var n=Fd[e];delete Fd[e];for(var r=0,a=n.length;r<a;r++){var A=n[r];A.onError&&A.onError(t)}i.end=!0}),!1),i.addEventListener("abort",(function(t){var n=Fd[e];delete Fd[e];for(var r=0,a=n.length;r<a;r++){var A=n[r];A.onError&&A.onError(t)}i.end=!0}),!1),void 0!==this.responseType&&(i.responseType=this.responseType),i.send(null),i}Fd[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this}});var Ld=function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this)).isBIM=!0,e.bimConfig=null,e.structureTree=null,e.basePath="",e.extension="",e.nodeTree=null,e.nodeArray=[],e.faceMap=null,e}return A(n,[{key:"getComponentInfo",value:function(e,t){if(void 0!==e.faceIndex){var n=this.getComponentInfoByFace(e);n&&(n.bim||n.parent.bim?t(n.bim||n.parent.bim):this.getComponentFileByCID(n.CID||n.parent.CID,(function(){t(n.bim||n.parent.bim)})))}else e.userData.bim||e.parent.userData.bim?t(e.userData.bim||e.parent.userData.bim):this.getComponentFileByCID(e.CID||e.parent.CID,(function(){t(e.userData.bim||e.parent.userData.bim)}))}},{key:"getObjectByCID",value:function(e){return this.getObjectByProperty("CID",parseInt(e))}},{key:"getComponentInfoByCID",value:function(e){var t=this.getObjectByProperty("CID",parseInt(e));if(t)return this.getComponentInfo(t)}},{key:"getComponentFileByCID",value:function(e,t){for(var n=0;n<this.bimConfig.length;n++){var r=this.bimConfig[n];!r.loaded&&r.b.indexOf(e)>-1&&this.loadComponentFile(r,t)}}},{key:"loadComponentFile",value:function(e,t){var n=this,r="gz"===this.extension?e.a+"."+this.extension:e.a;(new Ud).load(this.basePath+r,(function(e){n.parseComponentFile(JSON.parse(e)),t()})),e.loaded=!0}},{key:"parseComponentFile",value:function(e,t){var n=this;e.forEach((function(e){var t={id:e.a,pid:e.b,name:e.c,data:e.d};if(n.nodeTree){var r=n.nodeArray.find((function(t){return t.CID==e.a}));r&&(r.bim=t)}else{var i=n.getObjectByProperty("CID",e.a);i&&(i.userData.bim=t)}}))}},{key:"onComplete",value:function(){var e=this;this.objects=[],this.traverse((function(t){if(t.isMesh&&e.objects.push(t),t.name.indexOf("##")>-1){var n=t.name.split("##");t.name=n[0],t.CID=parseInt(n[1])}}))}},{key:"getNodeByFace",value:function(e){return this.nodeArray.find((function(t){return e>=t.face[0]&&e<=t.face[1]}))}},{key:"getComponentInfoByFace",value:function(e,t){var n=this.faceMap.find((function(t){return t.a==e.object.ID}));if(n){for(var r=null,i=0,a=n.b.length;i<a;i+=3)if(e.faceIndex>=n.b[i]&&e.faceIndex<=n.b[i+1]){r=n.b[i+2];break}if(null!==r)return this.nodeTree[r]}}},{key:"getFaceRange",value:function(e){var t=this.faceMap.find((function(t){return t.a==e.object.ID}));if(t){for(var n=null,r=0,i=t.b.length;r<i;r+=3)if(e.faceIndex>=t.b[r]&&e.faceIndex<=t.b[r+1]){n=[t.b[r],t.b[r+1]];break}return n}}},{key:"setMaterialByFace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#00f9ff",n=this.getFaceRange(e),r=n[0],i=n[1],a=e.object.material[0].clone();a.color.setStyle(t);var A=e.object,o=A.geometry.index.count,s=3*r,l=3*i;A.originIndex=[];for(var c=0;c<o;c++)A.originIndex.push(A.geometry.index.array[c]);A.geometry.index.array=[];for(var u=[],h=[],d=0;d<o;d++)d>=s&&d<l?u.push(A.originIndex[d]):h.push(A.originIndex[d]);A.geometry.setIndex(h.concat(u));var p=o-u.length;u=null,h=null,A.geometry.clearGroups(),A.geometry.addGroup(0,p,0),A.geometry.addGroup(p,o,1),A.material.length>1&&(A.material=[A.material[0]]),A.material.push(a)}},{key:"clearMaterialByFace",value:function(e){var t=e.object;if(t.material.length>0){var n=t.geometry.index.count;t.geometry.setIndex(t.originIndex),t.originIndex=null,delete t.originIndex,t.geometry.clearGroups(),t.geometry.addGroup(0,n,0),t.material.pop()}}}]),n}(Sd),Rd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.cacheMats=[],this.queryMats={},this.cacheMeshes=[],this.cacheMesheIds=[],this.cacheAnimations=[],this.cacheActions=[],this.cacheSkyboxs={},this.cacheSkinnedMeshs=[],this.cacheSkinnedMeshIds=[],this.cacheEnvMap={},this.cacheAoMap={},this.instances=null,this.extraMaterial={},this.cacheExtraMat=[],this.scene=null,this.hasSkinnedAnimation=!1,this.model=t.isBIM?new Ld:new Sd,this.model.objects=this.cacheMeshes,this.model.materials=this.cacheMats,this.model.animation.setData(this.cacheAnimations,this.cacheActions)}return A(e,[{key:"load",value:function(e,t,n,r){var i=this;"undefined"!=typeof Worker?(this.workerLoader=new bd,this.workerLoader.loadMesh(e,(function(e){t(i.parse(e))}),n,(function(e){console.error("网格文件解析出错！"),r&&r(e)}))):(new Hs).load(e,(function(e){try{i.parse(JSON.parse(e))}catch(e){console.error("网格文件解析出错！",e),r&&r(e)}t(i.model)}),n,r)}},{key:"loadNodes",value:function(e,t,n){var r=this;(new Hs).load(e,(function(e){r.generateNodes(JSON.parse(e)),t()}),void 0,(function(t){console.error("节点文件加载失败:"+e,t)}))}},{key:"generateNodes",value:function(e){var t=this;e.forEach((function(e){var n=new Oa;if(n.ID=e.a,n.name=e.b,-1==e.c)t.model.add(n);else{var r=t.model.getObjectByProperty("ID",e.c);r&&r.add(n)}n.applyMatrix((new dt).fromArray(e.d)),t.addToCache(n)}))}},{key:"parse",value:function(e){var t=this.model;Array.isArray(e)||(e=[e]);for(var n=[],r=0;r<e.length;r++){var i=void 0,a=e[r];if(6==a.at&&this.instances){var A=this._getInstanceMatrix(a.a);A&&(a.iid=a.a,a.a=A.b,a.b=A.a,a.d=A.d)}if(null==a.at||0==a.at||2==a.at||6==a.at||a.h&&a.ff&&0==a.ff.length)if(i=this.generateMesh(a),void 0!==a.iid&&(i.iid=a.iid),this.addToCache(i),-1===i.parentID)t.add(i);else{var o=this.cacheMesheIds.indexOf(i.parentID);-1!==o?this.cacheMeshes[o].add(i):t.add(i)}else if(1==a.at||3==a.at)if(i=this.generateSkinnedMesh(a),this.hasSkinnedAnimation=!0,this.cacheMesheIds.push(i.ID),-1===i.parentID)t.add(i);else{var s=this.cacheSkinnedMeshIds.indexOf(i.parentID);-1!==s?this.cacheSkinnedMeshs[s].add(i):t.add(i)}n.push(i)}if(this.hasSkinnedAnimation)for(var l=0;l<this.cacheSkinnedMeshs.length;l++){var c=this.cacheSkinnedMeshs[l];if(null!=c&&null!=c.xIDs){for(var u=[],h=0;h<c.xIDs.length;h++)u[h]=this.cacheSkinnedMeshs[c.xIDs[h]];var d=new mA(u);c.bind(d)}}return this._initMaterial(),n}},{key:"generateMesh",value:function(e){var t;if(e.h&&e.h.length>0){var n=this.generateGeometry(e);t=new gr(n,this.generateMaterial(n))}else t=new Ut;return t.name=e.a,t.ID=e.b,t.parentID=e.c,t.applyMatrix((new dt).fromArray(e.d)),t}},{key:"generateSkinnedMesh",value:function(e){var t;if(e.h){var n=this.generateGeometry(e),r=this.generateMaterial(n,!0);e.ff&&e.ff.length>0?(r.skinning=!0,n.setAttribute("skinIndex",new Qn(e.ff,4)),n.setAttribute("skinWeight",new _n(e.gg,4)),(t=new pA(n,r)).xIDs=e.hh):t=new gr(n,r)}else t=new vA;return t.name=e.a,t.ID=e.b,t.applyMatrix((new dt).fromArray(e.d)),this.cacheSkinnedMeshs[e.b]=t,this.model.add(t),this.model.updateMatrixWorld(!0),t}},{key:"generateGeometry",value:function(e){var t=new Jn;t.name=e.a;var n=new dt;if(e.e&&n.fromArray(e.e),!(e.h&&e.h.length>0))return null;var r=new _n(e.h,3);if(n.applyToBufferAttribute(r),t.setAttribute("position",r),e.j&&e.j.length>0){var i=new _n(e.j,3);(new We).getNormalMatrix(n).applyToBufferAttribute(i),t.setAttribute("normal",i)}else console.warn("无法线");e.k&&e.k.length>0?t.setAttribute("uv",new _n(e.k,2)):console.warn("无UV"),e.l&&e.l.length>0&&t.setAttribute("uv2",new _n(e.l,2)),t.setIndex(e.i),e.j&&0!=e.j.length||t.computeVertexNormals(),t.clearGroups(),e.k&&e.k.length>0&&fd(t);for(var a=[],A=0;A<e.m.length/3;A++)-1===a.indexOf(e.m[3*A+2])&&a.push(e.m[3*A+2]);for(var o=0;o<e.m.length/3;o++)t.addGroup(3*e.m[3*o],3*(e.m[3*o+1]-e.m[3*o]),a.indexOf(e.m[3*o+2]));return t.m=a,t}},{key:"preloadMap",value:function(e,t,n){this.workerLoader||(this.workerLoader=new bd),this.workerLoader.preloadMap(e,t,void 0,n)}},{key:"loadMaterials",value:function(e,t,n){var r=this;(new Hs).load(e,(function(e){e=JSON.parse(e),r.SnameTable&&Array.isArray(e.a)&&e.a.map((function(e){e.ee&&r.SnameTable[e.ee]&&(e.a=r.SnameTable[e.ee])})),r.parseMaterials(e,t,n)}))}},{key:"loadAOMap",value:function(e,t){var n=this;rd.BASE_URL="",rd.load(e,(function(e){e.wrapS=e.wrapT=1e3,n.cacheMats.forEach((function(t){t.aoMap=e,t.needsUpdate=!0})),t&&t instanceof Function&&t()}),null,t)}},{key:"generateMaterial",value:function(e,t){for(var n=[],r=0;r<e.m.length;r++){var i=e.m[r];if(void 0!==this.queryMats[i])n.push(this.cacheMats[this.queryMats[i]]);else{var a=this._createBaseMaterial(i);n.push(a),t&&(a.skinning=!0),this.cacheMats.push(a),this.queryMats[i]=this.cacheMats.length-1}}return delete e.m,n}},{key:"_createBaseMaterial",value:function(e){var t=new gs;return t.name=e,t.color=new bn("#cccccc"),t}},{key:"parseMaterials",value:function(e,t,n){var r=this;if(Array.isArray(e)&&(e={a:e,b:[]}),this.extraMaterial=e.c||{},e.a.length>0){var i=e.b,a=0,A=e.a.length;e.a.forEach((function(o){r.parseMaterial(o,i,(function(){++a===A&&(r._initMaterial(),t&&t instanceof Function&&t())}),n,e.ed)}))}else t&&t instanceof Function&&t()}},{key:"applyMaterial",value:function(){}},{key:"setEnvMap",value:function(e,t){this.cacheMats.forEach((function(n){n.envPath==e&&(n.envMap=t,n.needsUpdate=!0)}))}},{key:"parseMaterial",value:function(e,t,n,r,i){var a=this,A=e.a,o=this.queryMats[A];if(void 0===o&&A.toString().indexOf("_")>-1){var s=A.split("_")[0],l=this.queryMats[s],c=this.cacheMats[l],u=this.cacheMeshes.find((function(t){return t.name===e.mn})),h=c.clone();h.name=A,h.sname=c.sname,this.cacheMats.push(h),o=this.cacheMats.length-1,this.queryMats[A]=o,u.material[u.material.indexOf(c)]=h}var d=this.cacheMats[o],p=0,f=0;function g(){++p===f&&(d.needsUpdate=!0,n&&n instanceof Function&&n())}if(d||(d=this._createBaseMaterial(A),this.cacheMats.push(d),this.queryMats[A]=this.cacheMats.length-1),d){if(d.sname=e.ee,void 0!==e.b&&(i||void 0===e.c&&!i?d.color=(new bn).fromArray(e.b):d.color.set(16777215)),void 0!==e.c&&t[e.c]){f++;var m=t[e.c];rd.load(m,(function(t){t.wrapS=t.wrapT=1e3,null!=e.t&&t.repeat.set(e.t[0],e.t[1]),null!=e.x&&t.offset.set(e.x[0],e.x[1]),null!=e.ad&&(d.albedoUV=e.ad),d.albedo=t,void 0!==e.c?d.useDefault=e.useDefault:d.useDefault=!0,g()}),null,(function(e){console.error("贴图加载出错"),g()}))}else d.albedoUV=null,d.needsUpdate=!0;if(e.d){var v=(new bn).fromArray(e.d);d.emissive=v}if(void 0!==e.e&&(d.aoScale=parseFloat(e.e)),void 0!==e.f&&d.color.multiplyScalar(parseFloat(e.f)),void 0!==e.g&&(d.smoothness=parseFloat(e.g)),void 0!==e.h&&(d.metallic=parseFloat(e.h)),void 0!==e.i&&(d.normalScale=parseFloat(e.i)),void 0!==e.j&&(d.opacity=parseFloat(e.j)),void 0!==e.gg&&(d.transparency=parseFloat(e.gg)),void 0!==e.hh&&(d.alphaTest=parseFloat(e.hh)),void 0!==e.ii&&(d.reflectIntensity=parseFloat(e.ii)),void 0!==e.si&&(d.side=e.si),void 0!==e.q&&t[e.q]?(f++,rd.load(t[e.q],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.u?t.repeat.set(e.u[0],e.u[1]):t.repeat.set(1,1),void 0!==e.mm&&t.offset.set(e.mm[0],e.mm[1]),void 0!==e.nn&&(t.rotation=e.nn),d.normalMap=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.normalMap=null,d.needsUpdate=!0),void 0!==e.cf&&t[e.cf]?(f++,rd.load(t[e.cf],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.cb?t.repeat.set(e.cb[0],e.cb[1]):t.repeat.set(1,1),void 0!==e.cg&&t.offset.set(e.cg[0],e.cg[1]),void 0!==e.cn&&(t.rotation=e.cn),void 0!==e.ca&&(d.normalScale2=parseFloat(e.ca)),d.normalMap2=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.normalMap2=null,d.needsUpdate=!0),void 0!==e.r&&t[e.r]){f++;var y=this,w=t[e.r];y.cacheAoMap[w]?(d.aoMap=y.cacheAoMap[w],d.aoUV=e.fd,y.cacheAoMap[w+"_mats"].push(d),g()):(d.aoMap=y.cacheAoMap[w]=rd.load(t[e.r],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.v?t.repeat.set(e.v[0],e.v[1]):t.repeat.set(1,1),void 0!==e.fc&&t.offset.set(e.fc[0],e.fc[1]),d.aoUV=e.fd,y.cacheAoMap[w+"_mats"]&&y.cacheAoMap[w+"_mats"].map((function(e){return e.needsUpdate=!0})),g()}),null,(function(e){console.error("贴图加载出错"),g()})),y.cacheAoMap[w+"_mats"]=[d])}else void 0===e.fd&&(d.aoUV=1),d.aoMap=null,d.needsUpdate=!0;if(void 0!==e.y&&t[e.y]?(f++,rd.load(t[e.y],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.bb?t.repeat.set(e.bb[0],e.bb[1]):t.repeat.set(1,1),void 0!==e.pp&&t.offset.set(e.pp[0],e.pp[1]),d.metallicMap=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.metallicMap=null,d.needsUpdate=!0),void 0!==e.z&&t[e.z]?(f++,rd.load(t[e.z],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.cc?t.repeat.set(e.cc[0],e.cc[1]):t.repeat.set(1,1),void 0!==e.qq&&t.offset.set(e.qq[0],e.qq[1]),d.roughnessMap=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.roughnessMap=null,d.needsUpdate=!0),void 0!==e.aa&&t[e.aa]?(f++,rd.load(t[e.aa],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.dd?t.repeat.set(e.dd[0],e.dd[1]):t.repeat.set(1,1),void 0!==e.rr&&t.offset.set(e.rr[0],e.rr[1]),void 0!==e.gd&&(d.emissiveUV=e.gd),d.emissiveMap=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.emissiveMap=null,d.needsUpdate=!0),void 0!==e.ww){var B=t[e.ww];d.envPath=B,void 0!==e.xx&&(d.envRotateY=e.xx),this.cacheEnvMap[B]||(this.cacheEnvMap[B]={},rd.load(B,(function(e){e=rd.convertTexture(e),a.cacheEnvMap[B]=e,a.setEnvMap(B,e)}),null,(function(e){})))}else this.cacheMats.forEach((function(e){e.envMap=null,e.needsUpdate=!0}));if(void 0!==e.ev&&(d.envMapIntensity=e.ev),void 0!==e.ll&&t[e.ll]){f++;var x=t[e.ll];void 0!==e.yy&&(d.reflectRotateY=e.yy),rd.load(x,(function(e){(e=rd.convertTexture(e)).wrapS=e.wrapT=1e3,d.reflectMap=e,g()}),null,(function(e){console.error("贴图加载出错"),g()}))}else d.reflectMap=null,d.needsUpdate=!0;d.retainMap=!0,void 0!==e.jj&&(d.retainMap=Boolean(e.ii)),void 0!==e.kk&&!0!==e.kk?d.renderOrder=Number(e.kk):d.renderOrder=d.opacity<1?Re:Pe,null!=e.jr&&(d.reflectivity=e.jr),null!=e.l&&(d.wireframe=e.l),null!=e.o&&(d.skinning=e.o),null!=e.p&&(d.vertexTangents=e.p),null!=e.qn&&(d.normalMapType=e.qn),null!=e.rm&&(d.morphTargets=e.rm),null!=e.transparent&&(d.transparent=e.transparent),(d.opacity<1||d.transparency>0||d.alphaTest>0)&&(d.transparent=!0),void 0!==e.ev&&(d.envMapIntensity=e.ev),d.needsUpdate=!0,0===f&&n&&n instanceof Function&&n()}}},{key:"loadAnimation",value:function(e,t){var n=this;(new Hs).load(e,(function(e){try{n.hasSkinnedAnimation?n.parseSkinnedAnimation(JSON.parse(e)):n.parseAnimation(JSON.parse(e))}catch(e){console.error("动画文件解析出错！",e)}t&&t()}))}},{key:"parseAnimation",value:function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e[r].c[e[r].c.length-1];i>n&&(n=i)}for(var a=0;a<e.length;a++){var A=e[a];-1===t.indexOf(A.a)&&t.push(A.a);var o=this.cacheMesheIds.indexOf(A.a),s=this.cacheMeshes[o];void 0===s.keyframes&&(s.keyframes=[]),"a"===A.b?s.keyframes.push(new Fs(".position",A.c,A.d)):"b"===A.b?s.keyframes.push(new Ts(".quaternion",A.c,A.d)):"c"===A.b&&s.keyframes.push(new Fs(".scale",A.c,A.d))}for(var l=0;l<t.length;l++){var c=this.cacheMesheIds.indexOf(t[l]),u=this.cacheMeshes[c];u.clip=new Us(u.name,n,u.keyframes);var h=new Mc(u),d=h.clipAction(u.clip);this.cacheActions.push(d),this.cacheAnimations.push(h),d.play()}}},{key:"parseSkinnedAnimation",value:function(e){for(var t,n=[],r=0,i=0;i<e.length;i++){var a=e[i],A=this.cacheSkinnedMeshs[a.a].name,o=[],s=[],l=[],c=[];a.d>r&&(r=a.d);for(var u=0;u<a.b.length;u++){o.push(a.b[u].a);var h=(new dt).fromArray(a.b[u].b),d=new Ve,p=new Ne,f=new Ve;h.decompose(d,p,f),s.push(d.x),s.push(d.y),s.push(d.z),l.push(p.x),l.push(p.y),l.push(p.z),l.push(p.w),c.push(f.x),c.push(f.y),c.push(f.z)}n.push(new Fs(A+".position",o,s)),n.push(new Ts(A+".quaternion",o,l)),n.push(new Fs(A+".scale",o,c))}var g=new Us("test",r,n),m=(t=new Mc(this.model)).clipAction(g);m.play(),this.cacheAnimations.push(t),this.cacheActions.push(m)}},{key:"_getInstanceMatrix",value:function(e){for(var t=0,n=this.instances.length;t<n;t++)if(this.instances[t].c==e)return this.instances[t]}},{key:"addToCache",value:function(e){this.cacheMeshes.push(e),this.cacheMesheIds.push(e.ID)}},{key:"_initMaterial",value:function(){var e=this;this.cacheMeshes.forEach((function(t){if(t.isMesh){t.renderOrder=(Array.isArray(t.material)?t.material[0]:t.material).renderOrder;var n=Array.isArray(t.material)?t.material:[t.material];t.geometry.attributes&&!t.geometry.attributes.uv&&n.forEach((function(e){e.vertexTangents=!1})),t.geometry.attributes&&t.geometry.attributes.uv2&&n.forEach((function(e){void 0===e.aoUV&&(e.aoUV=1)}));var r=function(n){var r=e.extraMaterial[n],i=e.cacheMats.find((function(e){return e.name==n}));if(!i)return"continue";r.map((function(n){n.a==t.ID&&(e.cacheExtraMat.push({a:t.ID,b:n.b,c:t.material[n.b].name}),t.material[n.b]=i,t.overMaterial=[n.b].concat(y(t.overMaterial||[])))}))};for(var i in e.extraMaterial)r(i)}}))}},{key:"replaceMaterials",value:function(e,t,n){var r=this;this.cacheExtraMat.map((function(e){var t=r.cacheMeshes.find((function(t){return t.ID==e.a})),n=r.cacheMats[r.queryMats[e.c]];t.material[e.b]=n})),this.extraMaterial={};for(var i=function(e){var t=r.cacheMats[e];r.cacheMeshes.find((function(e){return!!e.isMesh&&e.material.find((function(e){return e===t}))}))||(t.dispose(),delete r.queryMats[t.name],r.cacheMats.splice(e,1))},a=this.cacheMats.length-1;a>=0;a--)i(a);n&&(this.SnameTable={},this.cacheMats.map((function(e){e.sname&&(r.SnameTable[e.sname]=e.name)}))),this.loadMaterials(e,t)}}]),e}(),Pd=function(){function e(e){Ds.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this._geometryList=[],this.loadedFileNum=0,this.taskId2Worker={},this.workerStateById={},this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}return e.prototype=Object.assign(Object.create(Ds.prototype),{constructor:e,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,n,r,i,a){var A=this,o=new Hs(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&o.setWithCredentials(!0),this.onLoad=t,this.onComplete=n;var s=this;o.load(e,(function(e){var t={attributeIDs:s.defaultAttributeIDs,attributeTypes:s.defaultAttributeTypes,useUniqueIDs:!1};A.decodeGeometry(e,t,a).catch(i)}),r,i)},decodeDracoFile:function(e,t,n,r,i){},decodeWholeFile:function(e,t){if("MBIN"===convertArrayBufferToString(e,0,4))return this.parseModelFile(e,t)},readPaddingBytes:function(e){var t=e.getUint8();e.getString(t)},decodeGeometry:function(e,t,n){var r,i=this;for(var a in t.attributeTypes){var A=t.attributeTypes[a];void 0!==A.BYTES_PER_ELEMENT&&(t.attributeTypes[a]=A.name)}if(0===e.byteLength)throw new Error("DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.");var o=this.workerNextTaskID++,s=e.byteLength;return this._getWorker(o,s).then((function(n){return r=n,i.workerStateById[o]=0,new Promise((function(n,a){r._callbacks[o]={resolve:n,reject:a},i.taskId2Worker[o]=r;try{r.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}catch(e){console.log(r)}}))}))},onReceiveMessageFromWebworker:function(e,t){var n=this.taskId2Worker[e];this._createGeometry(n,e,t),n&&e&&1==this.workerStateById[e]&&(this._releaseTask(n,e),this.workerStateById[e]=2,this.taskId2Worker[e]=null,this.onComplete())},arrayMax:function(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t},_createGeometry:function(e,t,n){if("mbin"===n.fileType){n.bComplete&&(this.workerStateById[t]=1);var r=n.geometry;if(null===r)return;if(r.chunkType,2===r.chunkType){var i=new Jn;if(i.custom_data={},i.custom_data.id=r.id,i.custom_data.parentId=r.parentId,i.custom_data.matrix=r.matrix,i.custom_data.bIsNodel=r.bIsNodel,i.custom_data.nodeType=r.nodeType,void 0!==r.materialIndex){i.clearGroups(),i.custom_data.materialIndex=[];for(var a=r.materialIndex.length/3,A=0;A<a;A++)i.custom_data.materialIndex.push(r.materialIndex[3*A+2]),i.addGroup(3*r.materialIndex[3*A],3*r.materialIndex[3*A+1],A)}i.name=Il.decodeText(new Uint8Array(r.name)),r.index&&(i.index=new(this.arrayMax(r.index.array)>65535?Hn:Qn)(r.index.array,1),delete r.index.array,r.index=null);for(A=0;A<r.attributes.length;A++){var o=r.attributes[A],s=o.name,l=o.itemSize,c=new Un(r.attributes[A].array,l);i.setAttribute(s,c),delete r.attributes[A].array,r.attributes[A]=null}r=null,this.onLoad(i)}}else if("bbin"===n.fileType||"bmbin"===n.fileType){if(n.bComplete&&(this.workerStateById[t]=1),null===n.geometry)return;this.onLoad(n.geometry)}else if("kmbin"===n.fileType){if(n.bComplete&&(this.workerStateById[t]=1),null===n.geometry)return;n.geometry.insts.forEach((function(e){e.name=Il.decodeText(new Uint8Array(e.name))})),this.onLoad(n.geometry)}else if("abin"===n.fileType){if(n.bComplete&&(this.workerStateById[t]=1),null===n.geometry)return;n.geometry.name=Il.decodeText(new Uint8Array(n.geometry.name)),this.onLoad(n.geometry)}},_loadLibrary:function(e,t){var n=new Hs(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),new Promise((function(t,r){n.load(e,t,void 0,r)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var t=this;if(this.decoderPending)return this.decoderPending;var n="object"!==("undefined"==typeof WebAssembly?"undefined":r(WebAssembly))||"js"===this.decoderConfig.type,i=[];return n?i.push(this._loadLibrary("draco_decoder.js","text")):(i.push(this._loadLibrary("draco_wasm_wrapper.js","text")),i.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(i).then((function(r){var i=r[0];n||(t.decoderConfig.wasmBinary=r[1]);var a=e.DRACOWorker.toString(),A=["/* draco decoder */",i,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join("\n");t.workerSourceURL=URL.createObjectURL(new Blob([A]))})),this.decoderPending},_getWorker:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r;(r=new Worker(n.workerSourceURL))._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig});var i=n;r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":i.onReceiveMessageFromWebworker(t.id,t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(r=n.workerPool[n.workerPool.length-1])._taskCosts[e]=t,r._taskLoad+=t,r})).catch((function(e){console.log(e)}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),e.DRACOWorker=function(){var e,t;function n(e,t,n,A,o){var s={},l=0;e.getUint32();var c=e.getUint8();s.name=e.getString(c),s.ticksPerSecond=e.getFloat32(),s.Duration=e.getFloat32();var h=32&e.getUint32();s.isBoneAnim=!1,s.animType2Anim={},s.animType2Anim.transAnim=[],s.animType2Anim.rotAnim=[],s.animType2Anim.scaleAnim=[];for(var d=0;d<4;d++){var f=e.getUint32();if(4==f){s.isBoneAnim=!0,s.boneId2Anim=[];var g=e.getUint32();if(e.getUint32(),h){var m=e.getUint32();if(m>0){var v;this.dracoLoadCount++;var y=e.getArrayBuffer(m);o.Init(new Int8Array(y),y.byteLength),t.decodeType=4;for(var w,B=p(n,A,o,t),x=B.attributes.length,b=0;b<x;b++)if("time"!==(v=B.attributes[b]).name){var C={};C.boneId=parseInt(v.name),C.frameNum=w.length,C.frameTimes=w,C.frameVals=[];for(var M=0;M<C.frameNum;M++){for(var E=[],I=0;I<16;I++)E[I]=v.array[16*M+I];C.frameVals[M]=E}s.boneId2Anim.push(C)}else w=v.array;w.length>l&&(l=w.length)}}else for(var T=0;T<g;T++){var S=r(e);S.frameNum>l&&(l=S.frameNum),null!==S&&s.boneId2Anim.push(S)}u(e)}else{var F=e.getUint32();e.getUint32();for(var U=0;U<F;U++){s.meshNum=e.getUint32();var L=e.getUint32Array(s.meshNum);if(5==f||7==f)(R=i(e,h,t,n,A,o)).frameNum>l&&(l=R.frameNum),R.meshId=L,null!==R&&(5==f?s.animType2Anim.transAnim.push(R):7==f&&s.animType2Anim.scaleAnim.push(R));else if(6==f){var R;(R=a(e,h,t,n,A,o)).frameNum>l&&(l=R.frameNum),R.meshId=L,null!==R&&s.animType2Anim.rotAnim.push(R)}else console.log("Error: chunkType errror!!!!")}u(e)}}return u(e),l<2?null:s}function r(e){var t={};t.boneId=e.getUint32(),t.frameNum=e.getUint32(),t.frameTimes=e.getFloat32Array(t.frameNum),t.frameVals=new Array(t.frameNum);for(var n=0;n<t.frameNum;n++)t.frameVals[n]=e.getMatrix4();return t}function i(e,t,n,r,i,a){var A={};if(A.frameNum=e.getUint32(),t&&A.frameNum>=5){var o=e.getUint32();if(o>0){var s=e.getArrayBuffer(o);a.Init(new Int8Array(s),s.byteLength),n.decodeType=5;var l=p(r,i,a,n);A.frameTimes=l.attributes[0].array,A.frameVals=l.attributes[1].array}}else A.frameTimes=e.getFloat32Array(A.frameNum),A.frameVals=e.getFloat32Array(3*A.frameNum);return A}function a(e,t,n,r,i,a){var A={};if(A.frameNum=e.getUint32(),t&&A.frameNum>=5){var o=e.getUint32(),s=e.getArrayBuffer(o);a.Init(new Int8Array(s),s.byteLength),n.decodeType=5;var l=p(r,i,a,n);A.frameTimes=l.attributes[0].array,A.frameVals=l.attributes[1].array}else A.frameTimes=e.getFloat32Array(A.frameNum),A.frameVals=e.getFloat32Array(4*A.frameNum);return A}function A(e,t,n,r,i,a){var A={meshId:0,boneIds:[],boneIndices:[],boneWeights:[]};e.getUint32(),A.meshId=e.getUint32();for(var o=e.getUint32(),s=[],l=0;l<o;l++){var c=e.getUint32();s.push(c)}A.boneIds=s;var h=e.getUint32(),d=e.getUint8Array(h),f=0,g=0,m=0,v=0,y=[],w=[],B=e.getUint8(),x=4*(Math.round(B%4)>0?parseInt(B/4)+1:parseInt(B/4));if(t){var b=e.getUint32();if(b>0){var C=e.getArrayBuffer(b);a.Init(new Int8Array(C),C.byteLength),n.decodeType=3;var M=p(r,i,a,n),E=M.attributes[0].array,I=M.attributes[1].array;E.length;for(var T=0;T<h;T++){f=d[T];for(var S=0,F=0;F<f;F++){var U=E[g+F],L=I[g+F];y[S=parseInt(F/4)]||(y[S]=[]),w[S]||(w[S]=[]),y[S].push(U),w[S].push(L)}for(var R=f;R<x;R++)y[S=parseInt(R/4)]||(y[S]=[]),w[S]||(w[S]=[]),y[S].push(0),w[S].push(0);g+=f}A.boneIndices=y,A.boneWeights=w}}else{e.getUint32();for(var P=0;P<h;P++){f=d[P];for(var D=0,Q=0;Q<f;Q++)m=e.getUint16(),v=e.getFloat32(),y[D=parseInt(Q/4)]||(y[D]=[]),w[D]||(w[D]=[]),y[D].push(m),w[D].push(v);for(var O=f;O<x;O++)y[D=parseInt(O/4)]||(y[D]=[]),w[D]||(w[D]=[]),y[D].push(0),w[D].push(0);g+=f}}return u(e),A}function o(e){var t={};return t.id=e.getUint32(),t.ref_id=e.getUint32(),t.parent_Id=e.getUint32(),t.offsetMatrix=e.getMatrix4(),t}function s(e){var t={};t.id=e.getUint32(),t.nodeId=e.getUint32(),t.offsetMatrix=e.getMatrix4();var n=e.getUint8();return t.name=e.getString(n),t}function l(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),h.decodeText(new Uint8Array(e,t,n))}function c(e,t,n,r,i){var a=this,A={index:null,attributes:[]};A.id=e.getUint32(),A.parentId=e.getInt32(),A.matrix=e.getMatrix4(),A.loadedState={};var o=e.getUint32();if(A.bIsNodel=1&o,A.bIsNodel){var s=64==(64&o);A.nodeType=s?4:3}else{A.bUseCompose=2&o,A.bHaveNormal=4&o,A.bHaveUVData=8&o,A.bHaveUV2Data=16&o,A.bUseDraco=32&o;var l,c,h=64==(64&o);if(A.nodeType=h?2:1,A.bUseDraco){if((m=e.getUint32())>0){A.loadedState[0]=0;var d=e.getArrayBuffer(m);i.Init(new Int8Array(d),d.byteLength),t.decodeType=1,(f=p(n,r,i,t)).attributes[0].name="position",A.attributes.push(f.attributes[0])}else A.vertexNum=0,A.loadedState[0]=1;if((m=e.getUint32())>0){A.loadedState[1]=0;d=e.getArrayBuffer(m);i.Init(new Int8Array(d),d.byteLength),t.decodeType=2;var f=p(n,r,i,t);A.index={array:f.attributes[0].array},A.faceNum=f.attributes[0].array.length/3}else A.faceNum=0,A.loadedState[1]=1}else A.vertexNum=e.getUint32(),A.vertexs=e.getFloat32Array(3*A.vertexNum),A.attributes.push({name:"position",array:A.vertexs,itemSize:3}),A.faceNum=e.getUint32(),A.faceVerIndexs=e.getUint32Array(3*A.faceNum),A.index={array:A.faceVerIndexs};if(A.bHaveUVData)if(A.bUseDraco){if((m=e.getUint32())>0){A.loadedState[2]=0;d=e.getArrayBuffer(m);i.Init(new Int8Array(d),d.byteLength),t.decodeType=1,(f=p(n,r,i,t)).attributes[0].name="uv",A.attributes.push(f.attributes[0])}else A.UVNum=0,A.loadedState[2]=1;if(A.bUseCompose)if((m=e.getUint32())>0){A.loadedState[3]=0;d=e.getArrayBuffer(m);this.dracoLoadCount++,dracoLoader.decodeDracoFile(d,(function(e){A.faceComposedUVIndexs=e.attributes[0].array,A.loadedState[3]=1,a.dracoOnLoad()}),null,null,2)}else A.loadedState[3]=1;else A.loadedState[3]=1}else A.UVNum=e.getUint32(),A.uvData=e.getFloat32Array(2*A.UVNum),A.attributes.push({name:"uv",array:A.uvData,itemSize:2}),A.bUseCompose&&(A.faceComposedUVIndexs=e.getUint32Array(3*A.faceNum)),A.loadedState[3]=1;else A.loadedState[2]=1,A.loadedState[3]=1;if(A.bHaveUV2Data)if(A.bUseDraco){if((m=e.getUint32())>0){A.loadedState[4]=0;d=e.getArrayBuffer(m);i.Init(new Int8Array(d),d.byteLength),t.decodeType=1,(f=p(n,r,i,t)).attributes[0].name="uv2",A.attributes.push(f.attributes[0])}else A.UV2Num=0,A.loadedState[4]=1;if(A.bUseCompose)if((m=e.getUint32())>0){A.loadedState[5]=0;d=e.getArrayBuffer(m);this.dracoLoadCount++,dracoLoader.decodeDracoFile(d,(function(e){A.faceComposedUV2Indexs=e.attributes[0].array,A.loadedState[5]=1,a.dracoOnLoad()}),null,null,2)}else A.loadedState[5]=1;else A.loadedState[5]=1}else A.UV2Num=e.getUint32(),A.uv2Data=e.getFloat32Array(2*A.UV2Num),A.loadedState[4]=1,A.attributes.push({name:"uv2",array:A.uv2Data,itemSize:2}),A.bUseCompose&&(A.faceComposedUV2Indexs=e.getUint32Array(3*A.faceNum)),A.loadedState[5]=1;else A.loadedState[4]=1,A.loadedState[5]=1;A.materialNum=e.getUint32(),A.materialIndex=new Array(A.materialNum);for(var g=0;g<A.materialNum;g++)l=e.getUint32(),A.materialIndex[3*g]=l,c=e.getUint32(),A.materialIndex[3*g+1]=c,A.materialIndex[3*g+2]=e.getUint32();if(1===A.materialNum&&(A.materialIndex[0]=0,A.materialIndex[1]=A.faceNum),A.bHaveNormal)if(A.bUseDraco){var m;if((m=e.getUint32())>0){A.loadedState[6]=0;d=e.getArrayBuffer(m);i.Init(new Int8Array(d),d.byteLength),t.decodeType=1,(f=p(n,r,i,t)).attributes[0].name="normal",A.attributes.push(f.attributes[0])}else A.normalNum=0,A.loadedState[6]=1;if(A.bUseCompose)if((m=e.getUint32())>0){A.loadedState[7]=0;d=e.getArrayBuffer(m);this.dracoLoadCount++,dracoLoader.decodeDracoFile(d,(function(e){A.faceComposedNormalIndexs=e.attributes[0].array,A.loadedState[7]=1,a.dracoOnLoad()}),null,null,2)}else A.loadedState[7]=1;else A.loadedState[7]=1}else A.normalNum=e.getUint32(),A.normals=e.getFloat32Array(3*A.normalNum),A.loadedState[6]=1,A.attributes.push({name:"normal",array:A.normals,itemSize:3}),A.bUseCompose&&(A.faceComposedNormalIndexs=e.getUint32Array(3*A.faceNum)),A.loadedState[7]=1;else A.loadedState[6]=1,A.loadedState[7]=1}var v=e.getUint8();return A.name=e.getString(v),u(e),A}function u(e){var t=e.getUint8();e.getString(t)}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"clear_data":console.log("clear_data");break;case"decode":var a=i.buffer,h=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,f=new t.DecoderBuffer;try{var g=l(a,0,4);if("MBIN"===g)(function(e,t,n,r,i,a){if(function(e){var t="MBIN",n=4,r=l(e,0,n);return e.byteLength>=n&&t===r}(t)){var h=new d(t);for(h.skip(4),h.getUint32();h.offset<h.size();){var f=h.getUint32();if(2===f){var g=h.getUint32();if(h.getUint32(),0==g)return void self.postMessage({type:"decode",id:e.id,fileType:"mbin",bComplete:!0,geometry:null});this.totalMeshNum=g,this.completedMeshNum=0;for(var m=0;m<g;m++){if(h.getUint32(),null!==(B=c(h,n,r,i,a))){B.chunkType=2;for(var v=[],y=0;y<B.attributes.length;y++)v.push(B.attributes[y].array.buffer);B.index&&v.push(B.index.array.buffer)}var w=m==g-1;self.postMessage({type:"decode",id:e.id,fileType:"mbin",bComplete:w,geometry:B},v)}u(h)}else if(1===f){var B={},x=h.getUint32();h.getUint32();var b=[];for(m=0;m<x;m++){var C=s(h);null!==C&&(C.chunkType=1,b.push(C))}B.bones=b,u(h);var M=[];for(g=h.getUint32(),m=0;m<g;m++){var E=h.getUint32(),I=h.getUint8(),T=(x=h.getUint32(),{});T.meshId=E,T.maxBoneCount=I,T.boneList=h.getUint32Array(x),M.push(T)}B.boneMeshList=M,self.postMessage({type:"decode",id:e.id,fileType:"bbin",bComplete:!0,geometry:B})}else if(9===f){B={};var S=h.getUint32(),F=h.getUint32();h.getUint32();var U=[];if(F&&S>=5){var L=h.getUint32();if(L>0){var R=h.getArrayBuffer(L);a.Init(new Int8Array(R),R.byteLength),n.decodeType=6;var P=(B=p(r,i,a,n)).attributes[0].array;for(m=0;m<S;m++){(N={}).id=P[3*m],N.ref_id=P[3*m+1],N.parent_Id=P[3*m+2],N.offsetMatrix=[],N.chunkType=9,U.push(N)}var D=B.attributes[1].array,Q=B.attributes[2].array,O=0,H=0;for(m=0;m<S;m++){for(var _=0;_<3;_++)U[m].offsetMatrix.push(D[O++]),U[m].offsetMatrix.push(D[O++]),U[m].offsetMatrix.push(D[O++]),U[m].offsetMatrix.push(0);U[m].offsetMatrix.push(Q[H++]),U[m].offsetMatrix.push(Q[H++]),U[m].offsetMatrix.push(Q[H++]),U[m].offsetMatrix.push(1)}}}else for(m=0;m<S;m++){var N;null!==(N=o(h))&&(N.chunkType=9,U.push(N))}for(m=0;m<S;m++){var k=h.getUint8();U[m].name=h.getString(k)}B.insts=U,u(h),self.postMessage({type:"decode",id:e.id,fileType:"kmbin",bComplete:!0,geometry:B})}else if(3===f){var G=h.getUint32();if(0==G)return void self.postMessage({type:"decode",id:e.id,fileType:"bmbin",bComplete:!0,geometry:null});F=h.getUint32();h.getUint32();for(m=0;m<G;m++){console.log("bone data:_bonedMeshNum:"+G),null!==(B=A(h,F,n,r,i,a))&&(B.chunkType=3);w=m==G-1;self.postMessage({type:"decode",id:e.id,fileType:"bmbin",bComplete:w,geometry:B})}u(h)}}h=null}else console.log("mbin file format error!!!!!!!!")})(i,a,h,t,r,f);else if("ABIN"===g)(function(e,t,r,i,a,A){if(function(e){var t="ABIN",n=4,r=l(e,0,n);return e.byteLength>=n&&t===r}(t)){var o=new d(t);if(o.skip(4),o.getUint32(),8===o.getUint32()){var s=o.getUint32();if(o.getUint32(),0==s)return void self.postMessage({type:"decode",id:e.id,fileType:"abin",bComplete:!0,geometry:null});for(var c=0;c<s;c++){var h=n(o,r,i,a,A);if(null!==h)var p=[];var f=c==s-1;self.postMessage({type:"decode",id:e.id,bComplete:f,fileType:"abin",geometry:h},p)}u(o)}}else console.log("abin file format error!!!!!!!!")})(i,a,h,t,r,f)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(f),t.destroy(r)}i.buffer=null}))}};var h={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function d(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function p(e,t,n,r){r.attributeIDs;r.attributeTypes;var i,a,A=r.decodeType,o=t.GetEncodedGeometryType(n);if(o===e.TRIANGULAR_MESH)i=new e.Mesh,a=t.DecodeBufferToMesh(n,i);else{if(o!==e.POINT_CLOUD)throw new Error("DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,a=t.DecodeBufferToPointCloud(n,i)}if(!a.ok()||0===i.ptr)throw new Error("DRACOLoader: Decoding failed: "+a.error_msg());var s,l={index:null,attributes:[]};if(1===A)s=t.GetAttribute(i,0),l.attributes.push(f(e,t,i,"position",Float32Array,s));else if(2===A)s=t.GetAttribute(i,0),l.attributes.push(f(e,t,i,"index",Uint32Array,s));else if(3===A)s=t.GetAttribute(i,0),l.attributes.push(f(e,t,i,"boneIndex",Uint16Array,s)),s=t.GetAttribute(i,1),l.attributes.push(f(e,t,i,"boneWeight",Float32Array,s));else if(6===A)s=t.GetAttribute(i,0),l.attributes.push(f(e,t,i,"ididids",Int32Array,s)),s=t.GetAttribute(i,1),l.attributes.push(f(e,t,i,"offsetMat",Float32Array,s)),s=t.GetAttribute(i,2),l.attributes.push(f(e,t,i,"trans",Float32Array,s));else if(5===A)s=t.GetAttribute(i,0),l.attributes.push(f(e,t,i,"time",Float32Array,s)),s=t.GetAttribute(i,1),l.attributes.push(f(e,t,i,"frameVal",Float32Array,s));else{if(4!==A)throw new Error("DRACOLoader: Unexpected Draco_Data_Type.");s=t.GetAttribute(i,0),l.attributes.push(f(e,t,i,"time",Float32Array,s));for(var c,u,h,d=t.GetAttributeMetadata(i,0),p=new e.MetadataQuerier,g=p.NumEntries(d),m=0;m<g;m++)"name"===(c=p.GetEntryName(d,m))?console.log(p.GetStringEntry(d,c)):(u=p.GetIntEntry(d,c),h=parseInt(c),s=t.GetAttribute(i,h),l.attributes.push(f(e,t,i,u+"",Float32Array,s)))}return e.destroy(i),l}function f(e,t,n,r,i,a){var A,o,s=a.num_components(),l=n.num_points()*s;switch(i){case Float32Array:var c=4*l;A=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,a,e.DT_FLOAT32,c,A),o=new Float32Array(e.HEAPF32.buffer,A,l).slice(),e._free(A);break;case Int8Array:A=e._malloc(l),t.GetAttributeDataArrayForAllPoints(n,a,e.DT_INT8,l,A),o=new Int8Array(e.HEAP8.buffer,A,l).slice(),e._free(A);break;case Int16Array:c=2*l;A=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,a,e.DT_INT16,c,A),o=new Int16Array(e.HEAP16.buffer,A,l).slice(),e._free(A);break;case Int32Array:c=4*l;A=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,a,e.DT_INT32,c,A),o=new Int32Array(e.HEAP32.buffer,A,l).slice(),e._free(A);break;case Uint8Array:A=e._malloc(l),t.GetAttributeDataArrayForAllPoints(n,a,e.DT_UINT8,l,A),o=new Uint8Array(e.HEAPU8.buffer,A,l).slice(),e._free(A);break;case Uint16Array:c=2*l;A=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,a,e.DT_UINT16,c,A),o=new Uint16Array(e.HEAPU16.buffer,A,l).slice(),e._free(A);break;case Uint32Array:c=4*l;A=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,a,e.DT_UINT32,c,A),o=new Uint32Array(e.HEAPU32.buffer,A,l).slice(),e._free(A);break;default:throw new Error("DRACOLoader: Unexpected attribute type.")}return{name:r,array:o,itemSize:s}}d.prototype={constructor:d,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1==(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getUint8Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint8());return t},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getUint16:function(e){if(null!=e)return t=this.dv.getUint16(e,this.littleEndian);var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getUint32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint32());return t},getMatrix4:function(){for(var e=[],t=0;t<16;t++)e.push(this.getFloat32());return e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e},getInt64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(e){if(null!=e)return t=this.dv.getFloat32(e,this.littleEndian);var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),t}}},e.taskCache=new WeakMap,e.setDecoderPath=function(){console.warn("DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},e.setDecoderConfig=function(){console.warn("DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},e.releaseDecoderModule=function(){console.warn("DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},e.getDecoderModule=function(){console.warn("DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")},e}();function Dd(e,t,n){this.objects=[],this.tmpGeometry=e.clone(),CA.call(this,e,t,n),this.frustumCulled=!1}function Qd(e){Sn.call(this),this.defines={STANDARD:""},this.type="AMRTBasicMaterial",this.color=new bn(16777215),this.albedo=null,this.albedoUV=0,this.normalMap=null,this.normalScale=1,this.normalMap2=null,this.normalScale2=1,this.metallicMap=null,this.metallic=0,this.roughnessMap=null,this.smoothness=0,this.aoMap=null,this.aoScale=1,this.aoUV=0,this.emissive=new bn(0),this.emissiveMap=null,this.emissiveUV=0,this.reflectMap=null,this.reflectIntensity=0,this.cutout=.5,this.reflectivity=1,this.transparency=0,this.opacity=1,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.vertexTangents=!0,this.normalMapType=0,this.envRotateY=0,this.envYMatrix=new We,this.reflectRotateY=0,this.reflecYMatrix=new We,this.setValues(e),this.__defineSetter__("envRotateY",(function(e){this.envYMatrix=(new We).rotateY(e)})),this.__defineSetter__("reflectRotateY",(function(e){this.reflecYMatrix=(new We).rotateY(e)}))}Dd.prototype=Object.assign(Object.create(CA.prototype),{constructor:Dd,isInstancedMesh:!0,deleteItem:function(e){if(e&&0!=e.length){var t=new Float32Array(16*(this.count-e.length));e.push(this.count);for(var n=0,r=0,i=0;i<e.length;i++){this.objects.splice(e[i]-i,1);var a=16*e[i];if(n<a){var A=this.bufferArray.slice(n,a);t.set(A,r),r+=A.length}n=a+16}for(var o=0;o<this.objects.length;o++)this.objects[o].instanceIndex=o;this.bufferArray=t,this.instanceMatrix=new Un(this.bufferArray,16),this.count=this.count-e.length+1}},addItem:function(e){this.count+=e.length;var t=new Float32Array(16*this.count);t.set(this.bufferArray,0),this.bufferArray=t;for(var n=0;n<e.length;n++)e[n].refreshInstanceMesh(),this.objects.push(e[n])}}),Qd.prototype=Object.create(Sn.prototype),Qd.prototype.constructor=Qd,Qd.prototype.isAMRTBasicMaterial=!0,Qd.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.albedo=e.albedo,this.albedoUV=e.albedoUV,this.normalMap=e.normalMap,this.normalScale=e.normalScale,this.normalMap2=e.normalMap2,this.normalScale2=e.normalScale2,this.metallicMap=e.metallicMap,this.metallic=e.metallic,this.roughnessMap=e.roughnessMap,this.smoothness=e.smoothness,this.aoMap=e.aoMap,this.aoScale=e.aoScale,this.aoUV=e.aoUV,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveUV=e.emissiveUV,this.reflectMap=e.reflectMap,this.reflectIntensity=e.reflectIntensity,this.cutout=e.cutout,this.reflectivity=e.reflectivity,this.transparency=e.transparency,this.opacity=e.opacity,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.vertexTangents=e.vertexTangents,this.normalMapType=e.normalMapType,this.envRotateY=e.envRotateY,this.envYMatrix=e.envYMatrix,this.reflectRotateY=e.reflectRotateY,this.reflecYMatrix=e.reflecYMatrix,this},Qd.prototype.dispose=function(){Sn.prototype.dispose.call(this),this.albedo&&this.albedo.dispose(),this.metallicMap&&this.metallicMap.dispose(),this.roughnessMap&&this.roughnessMap.dispose(),this.aoMap&&this.aoMap.dispose(),this.emissiveMap&&this.emissiveMap.dispose(),this.reflectMap&&this.reflectMap.dispose(),this.envMap&&this.envMap.dispose()};var Od=[];function Hd(){this.geometry=null,this._material=null,this.instanceIndex=0,this._instanceMesh=null,this.rootInverse=new dt,this.material0=null,this._mesh=null,Ut.call(this),Object.defineProperty(this,"instanceMesh",{get:function(){return this._instanceMesh},set:function(e){this._instanceMesh!=e&&(this._instanceMesh=e,this.geometry=this._instanceMesh.tmpGeometry,this._material=this._instanceMesh.material[0],this.material0=this._material,this._mesh=new gr(this.geometry,this._material),this._mesh.name=this.name)}}),Object.defineProperty(this,"material",{get:function(){return null==this._instanceMesh?null:(this._material===this._instanceMesh.material[0]&&this.createMesh(),this._material)},set:function(e){this._material=e,this._mesh.material=this._material,this._mesh.material0=this._material,null==this._mesh.parent&&this.add(this._mesh)}})}Hd.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Hd,intanceObject:!0,setDirty:function(){this.refreshInstanceMesh()},refreshInstanceMesh:function(){null!=this._instanceMesh&&(this._instanceMesh.updateMatrixWorld(!0),this.rootInverse.getInverse(this._instanceMesh.matrixWorld),this._instanceMesh.setMatrixAt(this.instanceIndex,this.rootInverse.multiply(this.matrixWorld)),this._instanceMesh.instanceMatrix.needsUpdate=!0)},createMesh:function(){if(null==this._mesh.parent){var e=new Qd;e.copy(this._material),this._material=e,this.material0=this._material,this._mesh.material=this._material,this._mesh.material0=this._material,this._instanceMesh.deleteItem([this.instanceIndex]),this.add(this._mesh)}},raycast:function(e,t){null!=this._mesh&&(this._mesh.matrixWorld=this.matrixWorld,this._mesh.raycast(e,Od),Od.length>0&&(this.createMesh(),Od[0].object=this,t.push(Od[0])),Od.length=0)}});var _d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.cacheMats=[],this.queryMats={},this.cacheMeshes=[],this.cacheMesheIds=[],this.cacheAnimations=[],this.cacheActions=[],this.cacheSkinnedMeshs=[],this.cacheSkinnedMeshIds=[],this.cacheEnvMap={},this.cacheAoMap={},this.hasSkinnedAnimation=!1,this.model=t.isBIM?new Ld:new Sd,this.model.objects=this.cacheMeshes,this.model.materials=this.cacheMats,this.instances=null,this.ref=[],this.sref=[],rd.renderer=et.getRenderer(),this.boneListByMeshMap=new Map,this.boneListMap=new Map,this.meshLoader=new Pd,this.extraMaterial={},this.cacheExtraMat=[],this.instanceMap=new Map,this.loadCount=0,this.currentLoadCount=0,this.meshLoader.setDecoderPath(this._getDecoderPath()),this.meshLoader.setWorkerLimit(8),this.isOpenInstance=!1}return A(e,[{key:"setLoadCount",value:function(e){this.loadCount=e}},{key:"_getDecoderPath",value:function(){var e="js/";if(document.getElementById("AMRT")){var t=document.getElementById("AMRT").src;e=t.slice(0,t.lastIndexOf("/"))+"/"}else for(var n=0;n<document.scripts.length;n++){var r=document.scripts[n];r.src&&"app.js"===r.src.slice(r.src.lastIndexOf("/")+1)&&(e=r.src.slice(0,r.src.lastIndexOf("/"))+"/")}return e}},{key:"load",value:function(e,t,n,r){var i=this;this.meshLoader.load(e,(function(e){if(e){var t;e.attributes.normal||e.computeVertexNormals(),e.attributes.uv&&fd(e);var n=i.instanceMap.get(e.custom_data.id);if(n){if(!0!==i.isOpenInstance){console.log("实例化转换为网格对象");for(var r=0;r<n.length;r++){(t=new gr(e,i.generateMaterial(e))).ID=n[r].ID,i.addToCache(t),"p_FL_TIRE02281"==n[r].name&&console.log(n[r].matrix),t.applyMatrix(n[r].matrix.clone()),t.sid=n[r].sid,t.parentId=n[r].parentId,t.materialIndex=e.custom_data.materialIndex,t.nodeType=1,t.name=n[r].name,i._assembly(t)}return i.instanceMap.set(e.custom_data.id,void 0),void delete e.custom_data}t=new Dd(e,i.generateMaterial(e),n.length)}else if(1===e.custom_data.nodeType){t=new gr(e,i.generateMaterial(e)),i.addToCache(t)}else if(2===e.custom_data.nodeType){var a=i.boneListByMeshMap.get(e.custom_data.id);if(a){(t=new pA(e,i.generateMaterial(e,!0))).boneNum=a.maxBoneCount;var A=new mA(a.bones);t.bind(A),i.addToCache(t)}}else if(4===e.custom_data.nodeType){var o=i.boneListMap.get(e.custom_data.id);t=o||new vA}else t=new Ut;t.ID=e.custom_data.id,t.applyMatrix((new dt).fromArray(e.custom_data.matrix)),t.sid=e.custom_data.id,t.parentId=n?-1:e.custom_data.parentId,t.materialIndex=e.custom_data.materialIndex,t.nodeType=e.custom_data.nodeType,t.name=e.name,delete e.custom_data,i._assembly(t)}}),(function(){i.currentLoadCount++;var e,n=b(i.boneListByMeshMap);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(i.ref[r[0]]){var a=i.ref[r[0]];a.bind(a.skeleton)}}}catch(e){n.e(e)}finally{n.f()}if(i.loadCount===i.currentLoadCount&&!0===i.isOpenInstance){var A=new dt;A.getInverse(i.model.matrixWorld);var o,s=b(i.instanceMap);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(i.ref[l[0]]){var c=i.ref[l[0]],u=l[1];if(u){for(var h=0;h<u.length;h++){u[h].instanceMesh=c,u[h].instanceIndex=h,u[h].updateMatrixWorld(!0);var d=new dt;c.setMatrixAt(h,d.multiplyMatrices(A,u[h].matrixWorld)),c.instanceMatrix.needsUpdate=!0,c.objects.push(u[h])}i.instanceMap.set(l[0],void 0)}}}}catch(e){s.e(e)}finally{s.f()}i.currentLoadCount=0,console.log("complete")}t(i.model),i._initMaterial()}),n,r)}},{key:"_assembly",value:function(e){var t=this;this.ref[e.sid]=e,-1===e.parentId?this.model.add(e):this.ref[e.parentId]?(this.ref[e.parentId].add(e),e.updateMatrixWorld(!0)):(void 0===this.sref[e.parentId]&&(this.sref[e.parentId]=[]),this.sref[e.parentId].push(e.sid)),this.sref[e.sid]&&(this.sref[e.sid].forEach((function(n){e.add(t.ref[n]),e.updateMatrixWorld(!0)})),this.sref[e.sid]=null)}},{key:"clearTempData",value:function(){this.ref=null,this.sref=null}},{key:"loadBoneList",value:function(e,t){var n=this;this.meshLoader.load(e,(function(e){if(e&&e.boneMeshList)for(var t=0;t<e.boneMeshList.length;t++){for(var r=e.boneMeshList[t],i={},a=[],A=0;A<r.boneList.length;A++){var o=n.boneListMap.get(r.boneList[A]);o||(o=new vA,n.boneListMap.set(r.boneList[A],o)),a.push(o)}i.bones=a,i.maxBoneCount=r.maxBoneCount,n.boneListByMeshMap.set(r.meshId,i)}}),(function(){t&&t()}))}},{key:"loadSkin",value:function(e,t){var n=this;this.meshLoader.load(e,(function(e){if(e)for(var t=0;t<e.boneIndices.length;t++)n.ref[e.meshId].geometry.setAttribute("skinIndex_"+4*(t+1),new Qn(e.boneIndices[t],4)),n.ref[e.meshId].geometry.setAttribute("skinWeight_"+4*(t+1),new _n(e.boneWeights[t],4))}),(function(){t&&t()}))}},{key:"loadInstance",value:function(e,t){var n=this;this.meshLoader.load(e,(function(e){e&&e.insts&&(e.insts.forEach((function(e){var t=new Hd;t.applyMatrix4((new dt).fromArray(e.offsetMatrix)),t.name=e.name,t.ID=e.id,t.sid=e.id,t.parentId=e.parent_Id,n.isOpenInstance&&n.addToCache(t);var r=n.instanceMap.get(e.ref_id);r?r.push(t):n.instanceMap.set(e.ref_id,[t]),n.isOpenInstance&&n._assembly(t)})),delete e.insts)}),(function(){t&&t()}))}},{key:"loadMaterials",value:function(e,t,n){var r=this;(new Hs).load(e,(function(e){e=JSON.parse(e),et.getRenderer().extensions.has("OES_texture_half_float")||(console.log("不支持拓展 OES_texture_half_float ，改用加载原贴图。"),e.b=e.z),r.SnameTable&&Array.isArray(e.a)&&e.a.map((function(e){e.ee&&r.SnameTable[e.ee]&&(e.a=r.SnameTable[e.ee])})),r.parseMaterials(e,t,n)}))}},{key:"loadAOMap",value:function(e,t){var n=this;rd.BASE_URL="",rd.load(e,(function(e){e.wrapS=e.wrapT=1e3,n.cacheMats.forEach((function(t){t.aoMap=e,t.needsUpdate=!0})),t&&t instanceof Function&&t()}),null,t)}},{key:"generateMaterial",value:function(e,t){for(var n=[],r=0;r<e.custom_data.materialIndex.length;r++){var i=e.custom_data.materialIndex[r];if(void 0!==this.queryMats[i]){var a=this.cacheMats[this.queryMats[i]];n.push(a)}else{var A=this._createBaseMaterial(i);n.push(A),t&&(A.skinning=!0),this.cacheMats.push(A),this.queryMats[i]=this.cacheMats.length-1}}return n}},{key:"_createBaseMaterial",value:function(e){var t=new gs;return t.name=e,t.color=new bn("#cccccc"),t}},{key:"parseMaterials",value:function(e,t,n){var r=this;if(Array.isArray(e)&&(e={a:e,b:[]}),this.extraMaterial=e.c||{},e.a.length>0){var i=e.b,a=0,A=e.a.length,o=new Map;e.a.forEach((function(s){var l=s;if(null!=l.re){var c=l.a;(l=o.get(l.re)).a=c}else o.set(l.a,l);r.parseMaterial(l,i,(function(){++a===A&&(r._initMaterial(),rd.basisLoader&&rd.basisLoader.dispose(),t&&t instanceof Function&&t())}),n,e.ed)})),o.clear()}else t&&t instanceof Function&&t()}},{key:"applyMaterial",value:function(){}},{key:"setEnvMap",value:function(e,t){this.cacheMats.forEach((function(n){n.envPath==e&&(n.envMap=t,n.needsUpdate=!0)}))}},{key:"parseMaterial",value:function(e,t,n,r,i){var a=this,A=e.a,o=this.queryMats[A];if(void 0===o&&A.toString().indexOf("_")>-1){var s=A.split("_")[0],l=this.queryMats[s],c=this.cacheMats[l],u=this.cacheMeshes.find((function(t){return t.name===e.mn})),h=c.clone();h.name=e.ee||A,h.sname=c.sname,h.ID=A,this.cacheMats.push(h),o=this.cacheMats.length-1,this.queryMats[A]=o,u.material[u.material.indexOf(c)]=h}var d=this.cacheMats[o],p=0,f=0;function g(){++p===f&&(d.needsUpdate=!0,n&&n instanceof Function&&n())}if(d||(d=this._createBaseMaterial(A),this.cacheMats.push(d),this.queryMats[A]=this.cacheMats.length-1),d){if(d.name=e.ee||A,d.ID=A,d.sname=e.ee,void 0!==e.b&&(i||void 0===e.c&&!i?d.color=(new bn).fromArray(e.b):d.color.set(16777215)),void 0!==e.c&&t[e.c]){f++;var m=t[e.c];rd.load(m,(function(t){t.wrapS=t.wrapT=1e3,null!=e.t&&t.repeat.set(e.t[0],e.t[1]),null!=e.x&&t.offset.set(e.x[0],e.x[1]),null!=e.ad&&(d.albedoUV=e.ad),d.albedo=t,void 0!==e.c?d.useDefault=e.useDefault:d.useDefault=!0,g()}),null,(function(e){console.error("贴图加载出错"),g()}))}else d.albedoUV=null,d.needsUpdate=!0;if(e.d){var v=(new bn).fromArray(e.d);d.emissive=v}if(void 0!==e.e&&(d.aoScale=parseFloat(e.e)),void 0!==e.f&&d.color.multiplyScalar(parseFloat(e.f)),void 0!==e.g&&(d.smoothness=parseFloat(e.g)),void 0!==e.h&&(d.metallic=parseFloat(e.h)),void 0!==e.i&&(d.normalScale=parseFloat(e.i)),void 0!==e.j&&(d.opacity=parseFloat(e.j)),void 0!==e.gg&&(d.transparency=parseFloat(e.gg)),(d.opacity<1||d.transparency>0)&&(d.transparent=!0),void 0!==e.hh&&(d.alphaTest=parseFloat(e.hh)),void 0!==e.ii&&(d.reflectIntensity=parseFloat(e.ii)),void 0!==e.si&&(d.side=e.si),void 0!==e.q&&t[e.q]?(f++,rd.load(t[e.q],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.u?t.repeat.set(e.u[0],e.u[1]):t.repeat.set(1,1),void 0!==e.mm&&t.offset.set(e.mm[0],e.mm[1]),void 0!==e.nn&&(t.rotation=e.nn),d.normalMap=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.normalMap=null,d.needsUpdate=!0),void 0!==e.cf&&t[e.cf]?(f++,rd.load(t[e.cf],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.cb?t.repeat.set(e.cb[0],e.cb[1]):t.repeat.set(1,1),void 0!==e.cg&&t.offset.set(e.cg[0],e.cg[1]),void 0!==e.cn&&(t.rotation=e.cn),void 0!==e.ca&&(d.normalScale2=parseFloat(e.ca)),d.normalMap2=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.normalMap2=null,d.needsUpdate=!0),void 0!==e.r&&t[e.r]){f++;var y=this,w=t[e.r];y.cacheAoMap[w]?(d.aoMap=y.cacheAoMap[w],d.aoUV=e.fd,y.cacheAoMap[w+"_mats"].push(d),g()):(d.aoMap=y.cacheAoMap[w]=rd.load(t[e.r],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.v?t.repeat.set(e.v[0],e.v[1]):t.repeat.set(1,1),void 0!==e.fc&&t.offset.set(e.fc[0],e.fc[1]),d.aoUV=e.fd,y.cacheAoMap[w+"_mats"]&&y.cacheAoMap[w+"_mats"].map((function(e){return e.needsUpdate=!0})),g()}),null,(function(e){console.error("贴图加载出错"),g()})),y.cacheAoMap[w+"_mats"]=[d])}else void 0===e.fd&&(d.aoUV=1),d.aoMap=null,d.needsUpdate=!0;if(void 0!==e.y&&t[e.y]?(f++,rd.load(t[e.y],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.bb?t.repeat.set(e.bb[0],e.bb[1]):t.repeat.set(1,1),void 0!==e.pp&&t.offset.set(e.pp[0],e.pp[1]),d.metallicMap=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.metallicMap=null,d.needsUpdate=!0),void 0!==e.z&&t[e.z]?(f++,rd.load(t[e.z],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.cc?t.repeat.set(e.cc[0],e.cc[1]):t.repeat.set(1,1),void 0!==e.qq&&t.offset.set(e.qq[0],e.qq[1]),d.roughnessMap=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.roughnessMap=null,d.needsUpdate=!0),void 0!==e.aa&&t[e.aa]?(f++,rd.load(t[e.aa],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.dd?t.repeat.set(e.dd[0],e.dd[1]):t.repeat.set(1,1),void 0!==e.rr&&t.offset.set(e.rr[0],e.rr[1]),void 0!==e.gd&&(d.emissiveUV=e.gd),d.emissiveMap=t,g()}),null,(function(e){console.error("贴图加载出错"),g()}))):(d.emissiveMap=null,d.needsUpdate=!0),void 0!==e.ww){var B=t[e.ww];d.envPath=B,void 0!==e.xx&&(d.envRotateY=e.xx),this.cacheEnvMap[B]||(this.cacheEnvMap[B]={},rd.load(B,(function(e){e=rd.convertTexture(e),a.cacheEnvMap[B]=e,a.setEnvMap(B,e)}),null,(function(e){})))}else this.cacheMats.forEach((function(e){e.envMap=null,e.needsUpdate=!0}));if(void 0!==e.ev&&(d.envMapIntensity=e.ev),void 0!==e.ll&&t[e.ll]){f++;var x=t[e.ll];void 0!==e.yy&&(d.reflectRotateY=e.yy),rd.load(x,(function(e){(e=rd.convertTexture(e)).wrapS=e.wrapT=1e3,d.reflectMap=e,g()}),null,(function(e){console.error("贴图加载出错"),g()}))}else d.reflectMap=null,d.needsUpdate=!0;d.retainMap=!0,void 0!==e.jj&&(d.retainMap=Boolean(e.ii)),void 0!==e.kk&&!0!==e.kk?d.renderOrder=Number(e.kk):d.renderOrder=d.opacity<1?Re:Pe,null!=e.jr&&(d.reflectivity=e.jr),null!=e.l&&(d.wireframe=e.l),null!=e.o&&(d.skinning=e.o),null!=e.p&&(d.vertexTangents=e.p),null!=e.qn&&(d.normalMapType=e.qn),null!=e.rm&&(d.morphTargets=e.rm),null!=e.transparent&&(d.transparent=e.transparent),void 0!==e.ev&&(d.envMapIntensity=e.ev),d.needsUpdate=!0,0===f&&n&&n instanceof Function&&n()}}},{key:"addToCache",value:function(e){this.cacheMeshes.push(e),this.cacheMesheIds.push(e.ID)}},{key:"loadAnimation",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"js/";r=this._getDecoderPath();var i=new Pd;i.setDecoderPath(r),i.setWorkerLimit(4),this.hasSkinnedAnimation=!0,i.load(e,(function(e){try{if(e){var r=[];if(e.animType2Anim){var i=n.parseAnimation(e);r=r.concat(i)}else e.boneId2Anim&&e.boneId2Anim.length>0&&(r=r.concat(n.parseSkinAnimation(e)));var a=new Us(e.name,e.Duration,r);n.model.animation.addClip(a)}}catch(e){console.error("动画文件解析出错！",e)}t&&t()}),(function(){}))}},{key:"parseSkinAnimation",value:function(e){if(e.boneId2Anim){var t=new dt,n=new Ve,r=new Ne,i=new Ve;e.Duration;for(var a=[],A=0;A<e.boneId2Anim.length;A++){for(var o=e.boneId2Anim[A],s=this.ref[o.boneId].name,l=o.frameTimes,c=[],u=[],h=[],d=0;d<o.frameVals.length;d++){var p=o.frameVals[d];t.fromArray(p),t.decompose(n,r,i),c.push(n.x,n.y,n.z),u.push(r.x,r.y,r.z,r.w),h.push(i.x,i.y,i.z)}var f=new Fs(s+".position",l,c),g=new Ts(s+".quaternion",l,u),m=new Fs(s+".scale",l,h);a.push(f,g,m)}return a}}},{key:"parseAnimation",value:function(e){var t=e.animType2Anim,n=[];if(t.transAnim)for(var r=0;r<t.transAnim.length;r++)for(var i=t.transAnim[r],a=0;a<i.meshId.length;a++)if(this.ref[i.meshId[a]]){var A=this.ref[i.meshId[a]].uuid;n.push(new Fs(A+".position",i.frameTimes,i.frameVals))}if(t.scaleAnim)for(var o=0;o<t.scaleAnim.length;o++)for(var s=t.scaleAnim[o],l=0;l<s.meshId.length;l++)if(this.ref[s.meshId[l]]){var c=this.ref[s.meshId[l]].uuid;n.push(new Fs(c+".scale",s.frameTimes,s.frameVals))}if(t.rotAnim)for(var u=0;u<t.rotAnim.length;u++)for(var h=t.rotAnim[u],d=0;d<h.meshId.length;d++)if(this.ref[h.meshId[d]]){var p=this.ref[h.meshId[d]].uuid;n.push(new Ts(p+".quaternion",h.frameTimes,h.frameVals))}return n}},{key:"parseSkinnedAnimation",value:function(e){for(var t,n=[],r=0,i=0;i<e.length;i++){var a=e[i],A=this.cacheSkinnedMeshs[a.a].name,o=[],s=[],l=[],c=[];a.d>r&&(r=a.d);for(var u=0;u<a.b.length;u++){o.push(a.b[u].a);var h=(new dt).fromArray(a.b[u].b),d=new Ve,p=new Ne,f=new Ve;h.decompose(d,p,f),s.push(d.x),s.push(d.y),s.push(d.z),l.push(p.x),l.push(p.y),l.push(p.z),l.push(p.w),c.push(f.x),c.push(f.y),c.push(f.z)}n.push(new Fs(A+".position",o,s)),n.push(new Ts(A+".quaternion",o,l)),n.push(new Fs(A+".scale",o,c))}var g=new Us("test",r,n),m=(t=new Mc(this.model)).clipAction(g);m.play(),this.cacheAnimations.push(t),this.cacheActions.push(m)}},{key:"_initMaterial",value:function(){var e=this;this.cacheMeshes.forEach((function(t){if(t.isMesh){t.renderOrder=(Array.isArray(t.material)?t.material[0]:t.material).renderOrder;var n=Array.isArray(t.material)?t.material:[t.material];t.geometry.attributes&&!t.geometry.attributes.uv&&n.forEach((function(e){e.vertexTangents=!1})),t.geometry.attributes&&t.geometry.attributes.uv2&&n.forEach((function(e){void 0===e.aoUV&&(e.aoUV=1)}));var r=function(n){var r=e.extraMaterial[n],i=e.cacheMats.find((function(e){return e.name==n}));if(!i)return"continue";r.map((function(n){n.a==t.ID&&(e.cacheExtraMat.push({a:t.ID,b:n.b,c:t.material[n.b].name}),t.material[n.b]=i,t.overMaterial=[n.b].concat(y(t.overMaterial||[])))}))};for(var i in e.extraMaterial)r(i)}}))}},{key:"replaceMaterials",value:function(e,t,n){var r=this;this.cacheExtraMat.map((function(e){var t=r.cacheMeshes.find((function(t){return t.ID==e.a})),n=r.cacheMats[r.queryMats[e.c]];t.material[e.b]=n})),this.extraMaterial={};for(var i=function(e){var t=r.cacheMats[e];r.cacheMeshes.find((function(e){return!!e.isMesh&&e.material.find((function(e){return e===t}))}))||(t.dispose(),delete r.queryMats[t.name],r.cacheMats.splice(e,1))},a=this.cacheMats.length-1;a>=0;a--)i(a);n&&(this.SnameTable={},this.cacheMats.map((function(e){e.sname&&(r.SnameTable[e.sname]=e.name)}))),this.loadMaterials(e,t)}}]),e}(),Nd=function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this)).logId="",e}return A(n,[{key:"load",value:function(e,t,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(this.paths=e,void 0!==e.localPath&&rd.setBaseUrl(e.localPath),this._onLoad=t,this._onProgress=n,this._onError=r,this.logId=!!a.log&&a.log.toString(),e.m[0].indexOf(".mbin")>-1?this.loader=new _d(a):this.loader=new Rd(a),this.paths.nodes)this.loader.loadNodes(this.paths.nodes,(function(){i._loadMultiMesh()}));else if(this.paths.instance&&this.paths.instance.length>0)for(var A=0;A<this.paths.instance.length;A++)this.loader.loadInstance(this.paths.instance[A],(function(){i._loadSkinAndMesh()}));else this._loadSkinAndMesh();return this.paths.a||this._loadMaterials(this.paths.mat),this.loader.model.name=a.name||this.loader.model.name,this.loader.model.ID=a.id||"",a.position&&(Array.isArray(a.position)?this.loader.model.position.fromArray(a.position):a.position.isVector3&&this.loader.model.position.copy(a.position)),a.rotation&&Array.isArray(a.rotation)&&this.loader.model.rotation.set(He.degToRad(a.rotation[0]),He.degToRad(a.rotation[1]),He.degToRad(a.rotation[2])),a.scale&&(Array.isArray(a.scale)&&3===a.scale.length?this.loader.model.scale.fromArray(a.scale):isNaN(a.scale)?a.scale.isVector3&&this.loader.model.scale.copy(a.scale):this.loader.model.scale.multiplyScalar(a.scale)),this.loader.model}},{key:"_loadSkinAndMesh",value:function(){var e=this;if(this.paths.bone&&this.paths.bone.length>0)for(var t=0;t<this.paths.bone.length;t++)this.loader.loadBoneList(this.paths.bone[t],(function(){e._loadMultiMesh()}));else this._loadMultiMesh()}},{key:"_loadMaterials",value:function(e){var t=this;this.logId&&console.time("材质加载用时(".concat(this.logId,")")),void 0!==this.paths.rs&&(rd.RESIZE=Boolean(this.paths.rs)),void 0!==this.paths.localPath&&(rd.RESIZE=!1);var n=0,r=e.length;e.forEach((function(e){t.loader.loadMaterials(e,(function(){++n===r&&(t.paths.ao&&""!=t.paths.ao?t.loader.loadAOMap(t.paths.ao,(function(){t.dispatchEvent(Ye.MATERIAL_LOADED,t.loader.model)})):t.dispatchEvent(Ye.MATERIAL_LOADED,t.loader.model),t.logId&&console.timeEnd("材质加载用时(".concat(t.logId,")")))}),(function(e){console.error("材质加载出错",e),t.dispatchEvent(Ye.MATERIAL_LOAD_ERROR)}))}))}},{key:"_loadAnimations",value:function(){var e=this;this.logId&&console.time("动画加载用时(".concat(this.logId,")"));var t=0,n=this.paths.a.length;this.paths.a.forEach((function(r){e.loader.loadAnimation(r,(function(){++t===n&&(e.dispatchEvent(Ye.ANIMATION_LOADED),e.logId&&console.timeEnd("动画加载用时(".concat(e.logId,")")))}))}))}},{key:"_loadComplete",value:function(e){var t=this;this.paths.a&&(this._loadMaterials(this.paths.mat),this.paths.skin&&this.paths.skin.length>0?this._loadSkin(this.paths.skin,(function(){t._loadAnimations()})):this._loadAnimations()),this._onProgress&&this._onProgress(100),this.dispatchEvent(Ye.MESH_LOADED,e),this._onLoad&&this._onLoad(e)}},{key:"_loadSkin",value:function(e,t){for(var n=0;n<e.length;n++)this.loader.loadSkin(e[n],t)}},{key:"_loadMultiMesh",value:function(){var e=this;this.logId&&console.time("网格加载用时(".concat(this.logId,")"));var t=this.paths.m.length,n=0,r=0,i=function(){n++,o(1),n>=t&&(e.logId&&console.timeEnd("网格加载用时(".concat(e.logId,")")),e.paths.i&&e.paths.ii?e.loadInstanceMesh((function(){e.loader.meshLoader&&e.loader.meshLoader.dispose(),e._loadComplete(e.loader.model)})):(e.loader.meshLoader&&e.loader.meshLoader.dispose(),e._loadComplete(e.loader.model)))},a=function(i){var a=e.paths.ms&&e.paths.ms[r];if(e._onProgress){var A=i.total;a&&(A=parseInt(a));var o=n/t;null!=A&&A>0&&(o+=1/t*i.loaded/A),e._onProgress(parseInt(100*o))}},A=function(t){e._onError&&e._onError(t),e.dispatchEvent(Ye.MESH_LOAD_ERROR)},o=function(n){e.loader.setLoadCount&&e.loader.setLoadCount(t);for(var o=0;o<n&&r<t;o++){var s=e.paths.m[r];e.loader.load(s,i,a,A),r++}};t>0?o(Math.min(t,20)):i()}},{key:"_preloadMaterial",value:function(){void 0!==this.paths.localPath&&(rd.RESIZE=!1),this.paths.mat.forEach((function(e){(new Hs).load(e,(function(e){for(var t in(e=JSON.parse(e)).b)rd.load(e.b[t])}))}))}},{key:"loadInstanceMesh",value:function(e){var t=this;(new Hs).load(this.paths.i,(function(n){var r=JSON.parse(n);t.loader.instances=r;var i=t.paths.ii.length,a=0;t.paths.ii.forEach((function(n){t.loader.load(n,(function(n){(n=n[0]).parent&&n.parent.remove(n);var A=[];r.forEach((function(e,t){e.c==n.iid&&A.push(e)}));var o=new gs;o.name=name,o.color=new bn("#cccccc");var s=[o],l=new Dd(n.geometry,s,A.length);t.loader.model.add(l);var c=new dt;c.getInverse(t.loader.model.matrixWorld),A.forEach((function(e,n){var r=new Hd;r.name=e.b,r.instanceMesh=l,r.instanceIndex=n,r.applyMatrix((new dt).fromArray(e.d));var i=t.loader.model.getObjectByProperty("ID",e.e)||t.loader.model;i&&(i.add(r),t.loader.addToCache(r)),r.updateMatrixWorld(!0);var a=new dt;l.setMatrixAt(n,a.multiplyMatrices(c,r.matrixWorld)),l.objects.push(r)})),l.instanceMatrix.needsUpdate=!0,++a>=i&&e()}))}))}),void 0,(function(){console.error("实例化数据文件加载失败"),e()}))}},{key:"preloadMap",value:function(e,t,n){this.loader.preloadMap(e,t,void 0,n)}},{key:"dispatchEvent",value:function(e,t){g(l(n.prototype),"dispatchEvent",this).call(this,{type:e,data:t})}},{key:"addEventListener",value:function(e,t){return g(l(n.prototype),"addEventListener",this).call(this,e,t),this}}]),n}(De),kd=function(e){s(n,e);var t=f(n);function n(e){return i(this,n),t.call(this,e)}return A(n,[{key:"load",value:function(e,t,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.isBIM=!0,g(l(n.prototype),"load",this).call(this,e,t,r,i,a),this.loadConfig(this.paths.bim),this.paths.bimNode&&this.loadNodeTree(this.paths.bimNode),this.loader.model}},{key:"loadNodeTree",value:function(e){var t=this;(new Hs).setResponseType("json").load(e,(function(e){var n={};e.forEach((function(t){if(t.b.indexOf("##")>-1){var r=t.b.split("##");t.b=r[0],t.CID=parseInt(r[1])}var i=e.find((function(e){return t.c==e.a}));t.parent=i,n[t.a]=t})),t.loader.model.nodeArray=e,t.loader.model.nodeTree=n,t.paths.bimFace&&(new Hs).setResponseType("json").load(t.paths.bimFace,(function(e){t.loader.model.faceMap=e}))}))}},{key:"loadConfig",value:function(e,t){var n=this;this.loader.model.isBIM=!0,this.loader.model.basePath=e.substring(0,e.lastIndexOf("/"))+"/",this.loader.model.extension=e.substring(e.lastIndexOf(".")+1,e.length),this.loader.model.extension=this.loader.model.extension.split("?")[0],(new Hs).load(e,(function(e){e=JSON.parse(e),n.loader.model.bimConfig=e.c,n.loader.model.structureTree=e.d,t&&t()}))}}]),n}(Nd),Gd=function(){function e(){i(this,e),this._rayCaster=null}return A(e,[{key:"rayCaster",get:function(){return this._rayCaster||(this._rayCaster=new Tc),this._rayCaster}},{key:"rayIntersect",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=t||Ad.root;var r=$h.getDomMouse(e,et.containerRect);return this.rayCaster.setFromCamera(r,et.camera),Array.isArray(t)?this.rayCaster.intersectObjects(t,n):this.rayCaster.intersectObject(t,n)}},{key:"intersectObject",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return console.error("缺少事件对象: MouseEvent"),!1;t=t||Ad.modelGroup;var r=this.rayIntersect(e,t,n);return r.length>0?r[0]:null}},{key:"intersectObjects",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return console.error("缺少事件对象: MouseEvent"),!1;t=t||Ad.modelGroup;var r=this.rayIntersect(e,t,n);return r}},{key:"intersectModels",value:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!e)return console.error("缺少事件对象: MouseEvent"),!1;if(r=r||Ad.modelGroup,this.rayCaster.constructor===Tc){var a=this.rayIntersect(e,r,i);return t&&(n?t.call(n,a):t(a)),a}this.rayCaster.executeTest((function(e){t&&(n?t.call(n,e.intersects):t(e.intersects))}),!0)}},{key:"intersectBox",value:function(e,t){if(!e)return console.error("缺少事件对象: MouseEvent"),!1;var n=$h.getDomMouse(e,et.containerRect);this.rayCaster.setFromCamera(n,et.camera);var r=(new Wt).setFromObject(t);return this.rayCaster.ray.intersectBox(r)}},{key:"screenToVector",value:function(e){var t=this.intersectObject(e,Ad.root);return t?t.point:null}},{key:"vectorToScreen",value:function(e){var t=et.container.getBoundingClientRect(),n=t.width/2,r=t.height/2,i=e.clone();return i.project(et.camera),new _e(i.x*n+n,-i.y*r+r)}}]),e}(),Vd=new(function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this)).root=null,e.modelGroup=null,e.scene=null,e.intersectObjects={click:[],dblclick:[],mousedown:[],mousemove:[]},e}return A(n,[{key:"init",value:function(){if(!Ad.scene)throw new Error("scene is not instance of Scene.");this.scene=Ad.scene,this.root=Ad.root,this.modelGroup=Ad.modelGroup,this.picker=new Gd,et.container.addEventListener("click",this._eventHandler.bind(this,"click")),et.container.addEventListener("dblclick",this._eventHandler.bind(this,"dblclick")),et.container.addEventListener("mousedown",this._eventHandler.bind(this,"mousedown")),et.container.addEventListener("mousemove",this._eventHandler.bind(this,"mousemove"))}},{key:"_eventHandler",value:function(e,t){if(0!=this.intersectObjects[e].length){var n=this.picker.intersectObject(t,this.intersectObjects[e],!0);if(n){var r=[];n.object.traverseAncestors((function(t){switch(e){case"click":r=t.clickCallback;break;case"dblclick":r=t.dblclickCallback;break;case"mousedown":r=t.mousedownCallback;break;case"mousemove":r=t.mousemoveCallback}t.isModel&&r.map((function(e){e.bind(t)()}))}))}}}},{key:"getModelById",value:function(e){return this.modelGroup.getModelById(e)}},{key:"getModelByName",value:function(e){return this.modelGroup.getModelByName(e)}},{key:"add",value:function(e){e.isModel?this.addModel(e):e.isPostProcessing?mh.add(e):e.isObject3D&&this.root.add(e),et.render()}},{key:"remove",value:function(e){e.isModel?this.removeModel(e):e.isPostProcessing?mh.remove(e):e.isObject3D&&this.root.remove(e),et.render()}},{key:"addModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.modelGroup.add(e),this.dispatchEvent({type:Ye.MODEL_UPDATE}),(1===this.modelGroup.children.length||t.fitCamera||void 0===t.fitCamera)&&(t.box&&!t.box.isBox3&&(t.box=(new Wt).setFromArray(t.box.min.concat(t.box.max))),Ad.fitCamera(e,t.box)),et.render()}},{key:"removeModel",value:function(e){e.parent&&e.parent.remove(e),this.dispatchEvent({type:Ye.MODEL_UPDATE}),et.render()}},{key:"loadModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if(n.background=n.background||void 0===n.background,n.env=n.env||void 0===n.env,n.focus=n.focus||void 0===n.focus,n.addModel=n.addModel||void 0===n.addModel,/\d{19}/.test(e)){n.id=n.id||e;try{r=n.local?dd.getLocalModelById(e):dd.getModelById(e),n.local&&dd.setOnlinePath(r)}catch(e){return void(n.onError&&n.onError(e))}}if(n.baseURL&&(r=dd.setLocalPath(r,n.baseURL)),pd.options&&pd.options.offline){var i=!1;for(var a in r){var A=r[a];if(Array.isArray(A)){if(A.find((function(e){return e.includes("https://laozi-auto-east.obs.cn-east-2.myhuaweicloud.com")})))throw i=!0,new Error("离线模式下不允许加载线上资源")}else if(A.includes("https://laozi-auto-east.obs.cn-east-2.myhuaweicloud.com"))throw i=!0,new Error("离线模式下不允许加载线上资源")}if(i)return}if(e&&n.offline){if(!(r=dd.getFileList(e)))return;r.localPath=e+"Texture/"}var o=r.bim?new kd(this):new Nd,s=o.load(r,(function(e){r.fitCamera=n.focus,n.addModel&&t.addModel(e,r),n.onLoad&&n.onLoad(e)}),(function(e){n.onProgress&&n.onProgress(e)}),(function(e){n.onError&&n.onError(e)}),n);return o.addEventListener(Ye.MATERIAL_LOADED,(function(){r.scene?Ad.loadSceneFile(r.scene,{onLoad:function(e){n.env&&e.e&&rd.loadEnvMap(e.e,(function(t){Ad.setEnvMap(t),Ad.setEnvMapRotation(e.ea||0),Ad.setEnvMapIntensity(e.ei||.7)}))},background:n.background}):r.sky&&(r.sky.b&&n.background&&Ad.setSkyBox(r.sky.b),r.sky.a&&n.env&&rd.loadEnvMap(r.sky.a,(function(e){s.setEnvMap(e)}))),!n.env&&Ad.envMapUrl&&n.onLoad&&n.onLoad(m).setEnvMap(Ad.envMapUrl),n.onMatLoad&&n.onMatLoad()})),o.addEventListener(Ye.ANIMATION_LOADED,(function(){n.onAnimeLoad&&n.onAnimeLoad(s)})),s.options=n,s.loader=o,s}},{key:"loadModel_miniprogram",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=this;if(e.constructor!==String&&isNaN(e))t.baseURL&&(n=dd.setLocalPath(e,t.baseURL)),a();else{if(!pd.token)return void console.error("调用老子云在线模型需要进行鉴权，鉴权方法参考：viewer.validate");t.id=t.id||e;var i=t.local?dd.getLocalModelById:dd.getModelById;i(e).then((function(r){if(n=r,"无权访问该模型"!=r){if("token不存在或已失效"===r)return pd.token=pd.checkDevloper(),void(pd.token&&dd.getModelById(e).then((function(e){n=e,t.local&&dd.setOnlinePath(n),a()})));t.local&&dd.setOnlinePath(n),a()}})).catch((function(e){t.onError&&t.onError(e)}))}function a(){if(pd.options&&pd.options.offline){var e=!1;for(var i in n){var a=n[i];if(Array.isArray(a)){if(a.find((function(e){return e.includes("https://laozi-auto-east.obs.cn-east-2.myhuaweicloud.com")})))throw e=!0,new Error("离线模式下不允许加载线上资源")}else if(a.includes("https://laozi-auto-east.obs.cn-east-2.myhuaweicloud.com"))throw e=!0,new Error("离线模式下不允许加载线上资源")}if(e)return}var A=n.bim?new kd(r):new Nd,o=A.load(n,(function(e){n.fitCamera=void 0===t.focus||t.focus,!1!==t.addModel&&r.addModel(e,n),t.onLoad&&t.onLoad(e)}),(function(e){t.onProgress&&t.onProgress(e)}),(function(e){t.onError&&t.onError(e)}),t);return A.addEventListener(Ye.MATERIAL_LOADED,(function(){t.onMatLoad&&t.onMatLoad(),n.scene?Ad.loadSceneFile(n.scene,{onLoad:function(e){t.env&&e.e&&rd.loadEnvMap(e.e,(function(t){Ad.setEnvMap(t),Ad.setEnvMapRotation(e.ea||0),Ad.setEnvMapIntensity(e.ei||.7)}))},background:t.background}):n.sky&&(n.sky.b&&t.background&&Ad.setSkyBox(n.sky.b),n.sky.a&&t.env&&rd.loadEnvMap(n.sky.a,(function(e){o.setEnvMap(e)}))),!t.env&&Ad.envMapUrl&&m.setEnvMap(Ad.envMapUrl)})),t.onAnimeLoad&&A.addEventListener(Ye.ANIMATION_LOADED,t.onAnimeLoad),o.loader=A,o}}}]),n}(De));function zd(e,t){var n,r,i,a,A;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new Ve,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this._minPolarAngle=0,this._maxPolarAngle=Math.PI,this._minAzimuthAngle=-1/0,this._maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this._enableZoom=!0,this.zoomSpeed=1,this._enableRotate=!0,this.rotateSpeed=1,this._enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:C.LEFT,MIDDLE:C.MIDDLE,RIGHT:C.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._rotateLeft=function(e){F(e)},this._rotateUp=function(e){U(e)},this.panLeft=function(e){R(e,o.object.matrix)},this.panRight=function(e){R(-e,o.object.matrix)},this.panUp=function(e){P(e,o.object.matrix)},this.panDown=function(e){P(-e,o.object.matrix)},this.dollyIn=function(e){Q(e,!0),et.render()},this.dollyOut=function(e){O(e,!0),et.render()},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){m.set(0,0,0),o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(s),o._update(),h=u.NONE},this._update=(n=new Ve,r=(new Ne).setFromUnitVectors(e.up,new Ve(0,1,0)),i=r.clone().inverse(),a=new Ve,A=new Ne,function(){var e=o.object.position;n.copy(e).sub(o.target),n.applyQuaternion(r),p.setFromVector3(n),o.autoRotate&&h===u.NONE&&F(2*Math.PI/60/60*o.autoRotateSpeed),p.theta+=f.theta,p.phi+=f.phi,p.theta=Math.max(o._minAzimuthAngle,Math.min(o._maxAzimuthAngle,p.theta)),p.phi=Math.max(o._minPolarAngle,Math.min(o._maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=g,p.radius=Math.max(o.minDistance,Math.min(o.maxDistance,p.radius)),o.target.add(m),n.setFromSpherical(p),n.applyQuaternion(i),e.equals(o.target.clone().add(n))||e.copy(o.target).add(n),o.object.lookAt(o.target);var t=!1;return m.equals(new Ve)||(t=!0),!0===o.enableDamping?(f.theta*=1-o.dampingFactor,f.phi*=1-o.dampingFactor,m.multiplyScalar(1-o.dampingFactor)):(f.set(0,0,0),m.set(0,0,0)),g=1,!!(v||a.distanceToSquared(o.object.position)>d||8*(1-A.dot(o.object.quaternion))>d)&&(t?s.data="pan":delete s.data,o.dispatchEvent(s),a.copy(o.object.position),A.copy(o.object.quaternion),v=!1,!0)}),this.computePosition=function(e,t,n,r){var i=(new Ne).setFromUnitVectors(o.object.up,new Ve(0,1,0)),a=i.clone().inverse(),A=new Ve;return A.copy(e).sub(t),A.applyQuaternion(i),p.setFromVector3(A),void 0!==n?p.theta=n:p.theta+=f.theta,void 0!==r?p.phi=r:p.phi+=f.phi,p.theta=Math.max(o._minAzimuthAngle,Math.min(o._maxAzimuthAngle,p.theta)),p.phi=Math.max(o._minPolarAngle,Math.min(o._maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=g,p.radius=Math.max(o.minDistance,Math.min(o.maxDistance,p.radius)),A.setFromSpherical(p),A.applyQuaternion(a),e.copy(t).add(A),e},this.dispose=function(){o.domElement.removeEventListener("contextmenu",X,!1),o.domElement.removeEventListener("mousedown",_,!1),o.domElement.removeEventListener("wheel",G,!1),o.domElement.removeEventListener("touchstart",z,!1),o.domElement.removeEventListener("touchend",W,!1),o.domElement.removeEventListener("touchmove",j,!1),document.removeEventListener("mousemove",N,!1),document.removeEventListener("mouseup",k,!1),window.removeEventListener("keydown",V,!1)};var o=this,s={type:"change"},l={type:"start"},c={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},h=u.NONE,d=1e-6,p=new Uc,f=new Uc;this.sphericalDelta=f;var g=1,m=new Ve,v=!1,y=new _e,w=new _e,B=new _e,x=new _e,b=new _e,M=new _e,E=new _e,I=new _e,T=new _e;function S(){return Math.pow(.95,o.zoomSpeed)}function F(e){f.theta-=e,et.render()}function U(e){f.phi-=e,et.render()}this.spherical=p;var L,R=(L=new Ve,function(e,t){L.setFromMatrixColumn(t,0),L.multiplyScalar(-e),m.add(L),et.render()}),P=function(){var e=new Ve;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),m.add(e),et.render()}}(),D=function(){var e=new Ve;return function(t,n){var r=o.domElement===document?o.domElement.body:o.domElement;if(o.object.isPerspectiveCamera){var i=o.object.position;e.copy(i).sub(o.target);var a=e.length();a*=Math.tan(o.object.fov/2*Math.PI/180),R(2*t*a/r.clientHeight,o.object.matrix),P(2*n*a/r.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(R(t*(o.object.right-o.object.left)/o.object.zoom/r.clientWidth,o.object.matrix),P(n*(o.object.top-o.object.bottom)/o.object.zoom/r.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o._enablePan=!1)}}();function Q(e,t){o.object.isPerspectiveCamera?(t?g=e:g/=e,console.log(g)):o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o._enableZoom=!1)}function O(e,t){o.object.isPerspectiveCamera?(t?g=e:g*=e,console.log(g)):o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o._enableZoom=!1)}function H(e){x.set(e.clientX,e.clientY)}function _(e){if(!1!==o.enabled){switch(e.preventDefault(),o.domElement.focus?o.domElement.focus():window.focus(),e.button){case o.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o._enablePan)return;H(e),h=u.PAN}else{if(!1===o._enableRotate)return;!function(e){y.set(e.clientX,e.clientY)}(e),h=u.ROTATE}break;case o.mouseButtons.MIDDLE:if(!1===o._enableZoom)return;!function(e){E.set(e.clientX,e.clientY)}(e),h=u.DOLLY;break;case o.mouseButtons.RIGHT:if(!1===o._enablePan)return;H(e),h=u.PAN}h!==u.NONE&&(document.addEventListener("mousemove",N,!1),document.addEventListener("mouseup",k,!1),o.dispatchEvent(l))}}function N(e){if(!1!==o.enabled)switch(e.preventDefault(),h){case u.ROTATE:if(!1===o._enableRotate)return;!function(e){w.set(e.clientX,e.clientY),B.subVectors(w,y).multiplyScalar(o.rotateSpeed);var t=o.domElement===document?o.domElement.body:o.domElement;F(2*Math.PI*B.x/t.clientHeight),U(2*Math.PI*B.y/t.clientHeight),y.copy(w),o._update()}(e);break;case u.DOLLY:if(!1===o._enableZoom)return;!function(e){I.set(e.clientX,e.clientY),T.subVectors(I,E),T.y>0?Q(S()):T.y<0&&O(S()),E.copy(I),o._update()}(e);break;case u.PAN:if(!1===o._enablePan)return;!function(e){b.set(e.clientX,e.clientY),M.subVectors(b,x).multiplyScalar(o.panSpeed),D(M.x,M.y),x.copy(b),o._update()}(e)}}function k(e){!1!==o.enabled&&(document.removeEventListener("mousemove",N,!1),document.removeEventListener("mouseup",k,!1),o.dispatchEvent(c),h=u.NONE)}function G(e){!1===o.enabled||!1===o._enableZoom||h!==u.NONE&&h!==u.ROTATE||(e.preventDefault(),o.dispatchEvent(l),function(e){e.deltaY<0?O(S()):e.deltaY>0&&Q(S()),o._update()}(e),o.dispatchEvent(c))}function V(e){!1!==o.enabled&&!1!==o.enableKeys&&!1!==o._enablePan&&function(e){var t=!1;switch(e.keyCode){case o.keys.UP:D(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:D(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:D(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:D(-o.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),o._update())}(e)}function z(e){if(!1!==o.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===o._enableRotate)return;!function(e){y.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=u.TOUCH_ROTATE;break;case 2:if(!1===o._enableZoom&&!1===o._enablePan)return;!function(e){if(o._enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);E.set(0,r)}if(o._enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(i,a)}}(e),h=u.TOUCH_DOLLY_PAN;break;default:h=u.NONE}h!==u.NONE&&o.dispatchEvent(l)}}function j(e){if(!1!==o.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===o._enableRotate)return;if(h!==u.TOUCH_ROTATE)return;!function(e){w.set(e.touches[0].pageX,e.touches[0].pageY),B.subVectors(w,y).multiplyScalar(o.rotateSpeed);var t=o.domElement===document?o.domElement.body:o.domElement;F(2*Math.PI*B.x/t.clientHeight),U(2*Math.PI*B.y/t.clientHeight),y.copy(w),o._update()}(e);break;case 2:if(!1===o._enableZoom&&!1===o._enablePan)return;if(h!==u.TOUCH_DOLLY_PAN)return;!function(e){if(o._enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);I.set(0,r),T.set(0,Math.pow(I.y/E.y,o.zoomSpeed)),Q(T.y),E.copy(I)}if(o._enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(i,a),M.subVectors(b,x).multiplyScalar(o.panSpeed),D(M.x,M.y),x.copy(b)}o._update()}(e);break;default:h=u.NONE}}function W(e){h=u.NONE,!1!==o.enabled&&(o.dispatchEvent(c),h=u.NONE)}function X(e){!1!==o.enabled&&e.preventDefault()}o.domElement.addEventListener("contextmenu",X,!1),o.domElement.addEventListener("mousedown",_,!1),o.domElement.addEventListener("wheel",G,!1),o.domElement.addEventListener("touchstart",z,!1),o.domElement.addEventListener("touchend",W,!1),o.domElement.addEventListener("touchmove",j,!1),window.addEventListener("keydown",V,!1),this._update()}zd.prototype=Object.create(De.prototype),zd.prototype.constructor=zd,Object.defineProperties(zd.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this._enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this._enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use ._enableRotate instead."),!this._enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use ._enableRotate instead."),this._enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var jd=function e(){i(this,e)};jd.TOP="top",jd.NORMAL="normal",jd.MAP="map",jd.ROAM_FREE="roam_free",jd.ROAM_AUTO="roam_auto",jd.ORBIT="orbit";var Wd=function(e){s(n,e);var t=f(n);function n(e,r,a,A){var o;return i(this,n),(o=t.call(this)).object=e,o.camera=r,o.tween=a,o.controls=A,o}return A(n,[{key:"setCameraFloor",value:function(e){this.cameraPos=this.camera.position.clone(),this.controls.enabled=!1,e&&(e.z*=-1,this.camera.position.copy(e)),this.camera.lookAt(new Ve),this.object.add(this.camera)}},{key:"stopCameraFloor",value:function(){this.controls.enabled=!0,this.camera.parent==this.object&&this.object.remove(this.camera),this.cameraPos&&this.camera.position.copy(this.cameraPos)}},{key:"stopMoving",value:function(){this.tween.stop(),this.stopCameraFloor()}}]),n}(De),Xd={type:Ye.CHANGE},Yd=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this,e.camera,e.renderer.domElement))._viewMode=jd.NORMAL,r._rotateTween=null,r.viewer=e,r.object=e.camera,r.camera=e.camera,e.camera.controller=d(r),r}return A(n,[{key:"viewMode",get:function(){return this._viewMode},set:function(e){this._viewMode=e,this.dispatchEvent({type:"view_change",data:e})}},{key:"getView",value:function(){return{position:this.object.position.toArray(),target:this.target.toArray()}}},{key:"setView",value:function(e){void 0!==e&&(void 0!==e.position&&(Array.isArray(e.position)?this.object.position.fromArray(e.position):this.object.position.copy(e.position)),void 0!==e.target&&this.target&&(Array.isArray(e.position)?this.target.fromArray(e.target):this.target.copy(e.target))),et.render(!0)}},{key:"enablePan",get:function(){return this._enablePan},set:function(e){this._enablePan=e}},{key:"enableRotate",get:function(){return this._enableRotate},set:function(e){this._enableRotate=e}},{key:"enableZoom",get:function(){return this._enableZoom},set:function(e){this._enableZoom=e}},{key:"maxPolarAngle",get:function(){return this._maxPolarAngle/(Math.PI/180)},set:function(e){this._maxPolarAngle=Math.PI/180*e}},{key:"minPolarAngle",get:function(){return this._minPolarAngle/(Math.PI/180)},set:function(e){this._minPolarAngle=Math.PI/180*e}},{key:"maxAzimuthAngle",get:function(){return this._maxAzimuthAngle/(Math.PI/180)},set:function(e){this._maxAzimuthAngle=Math.PI/180*e}},{key:"minAzimuthAngle",get:function(){return this._minAzimuthAngle/(Math.PI/180)},set:function(e){this._minAzimuthAngle=Math.PI/180*e}},{key:"flyTo",value:function(e){var t,n,r=this;if(void 0!==(e=e||{}).position&&(t=Array.isArray(e.position)?(new Ve).fromArray(e.position):(new Ve).copy(e.position)),void 0!==e.target&&(n=Array.isArray(e.target)?(new Ve).fromArray(e.target):(new Ve).copy(e.target)),e.object&&(e.object.isObject3D||e.object.isMesh)&&(n=e.object.parent.localToWorld(e.object.position.clone()),t=this._fitCamera(e.object).add(n),e.yAngle&&(t.x=0,t.applyAxisAngle(new Ve(0,1,0),Math.PI/180*e.yAngle).add(n)),e.xAngle)){var i=this._fitCamera(e.object).add(n);i.applyAxisAngle(new Ve(1,0,0),Math.PI/180*e.xAngle*-1),t.copy(i),e.yAngle&&(t.x=0,t.applyAxisAngle(new Ve(0,1,0),Math.PI/180*e.yAngle).add(n))}t&&(n&&n.distanceTo(this.target)>0&&new Je.Tween(this.target).to(n,500).onUpdate((function(){r.object.lookAt(r.target)})).start(),new Je.Tween(this.object.position).to(t,e.time||500).onUpdate((function(){r.object.lookAt(r.target),r._dispatchEvent(Xd)})).onComplete((function(){e.complete&&e.complete()})).start())}},{key:"fit",value:function(e){if(e.isMesh||e.isObject3D){et.render(!0);var t=e.parent.localToWorld(e.position.clone()),n=this._fitCamera(e).add(t);this.object.position.copy(n),this.target.copy(t),this._dispatchEvent(Xd)}}},{key:"setPosition",value:function(e,t,n){this.object.position.set(e,t,n),this._dispatchEvent(Xd)}},{key:"setTarget",value:function(e,t,n){this.target.set(e,t,n),this._dispatchEvent(Xd)}},{key:"moveForward",value:function(e){var t=new Ve;this.object.getWorldDirection(t),this.object.position.add(t.multiplyScalar(e)),this._dispatchEvent(Xd)}},{key:"moveBackward",value:function(e){var t=new Ve;this.object.getWorldDirection(t),this.object.position.add(t.multiplyScalar(-e)),this._dispatchEvent(Xd)}},{key:"moveLeft",value:function(e){this.panLeft(e)}},{key:"moveRight",value:function(e){this.panRight(e)}},{key:"moveUp",value:function(e){this.panUp(e)}},{key:"moveDown",value:function(e){this.panDown(e)}},{key:"rotateLeft",value:function(e){e=Math.PI/180*e,this._rotateLeft(e)}},{key:"rotateUp",value:function(e){e=Math.PI/180*e,this._rotateUp(e)}},{key:"rotateAround",value:function(e){var t,n=this,r=e.target,i=e.object;i&&(i.isMesh||i.isObject3D)?t=i.parent.localToWorld(i.position.clone()):r&&void 0!==r.x&&void 0!==r.y&&void 0!==r.z&&(t=(new Ve).copy(r)),this.stopRotateAround();var a=function(){if(e.yAngle){var t=0,r={angle:0};n._rotateTween=new Je.Tween(r).to({angle:e.yAngle},e.time).onUpdate((function(){n.rotateLeft(r.angle-t),t=r.angle})).start().repeat(e.loop||1)}if(e.xAngle){var i=0,a={angle:0};n._rotateTween=new Je.Tween(a).to({angle:e.xAngle},e.time).onUpdate((function(){n.rotateUp(a.angle-i),i=a.angle})).start().repeat(e.loop||1)}};t.distanceTo(this.target)>0?new Je.Tween(this.target).to(t,500).onUpdate((function(){n.object.lookAt(n.target),n._dispatchEvent(Xd)})).onComplete((function(){a()})).start():a()}},{key:"stopRotateAround",value:function(){this._rotateTween&&this._rotateTween.stop()}},{key:"movePath",value:function(e){var t,n=[];e.path.forEach((function(e){n.push((new Ve).copy(e))}));var r=new $s(n);r.curveType="catmullrom",r.tension=0,r.getPoints(50);var i,a={t:0},A=new Ve,o=new Je.Tween(a).to({t:1},e.time).onUpdate((function(){var t=new Ve;r.getPoint(a.t,t),A.copy(t),i&&r.getPoint(a.t+.01,A),i=a.t,e.object.lookAt(A.clone()),e.object.position.copy(t.clone())})).onComplete((function(){t.stopCameraFloor()})).repeat(e.loop||1).start();return t=new Wd(e.object,this.object,o,this)}},{key:"_fitCamera",value:function(e){var t=new Wt;t.makeEmpty(),t.expandByObject(e);var n=1.5;this.viewer.containerRect.width<this.viewer.containerRect.height&&(n=2);var r=new Ve,i=t.getSize(new Ve),a=Math.max(i.x,i.y,i.z),A=this.object.fov*(Math.PI/180),o=Math.abs(a/(2*Math.tan(A/2)));return r.z=o*n,r.y=.5*o,r}},{key:"update",value:function(){this.enabled&&this._update()}},{key:"_dispatchEvent",value:function(e){this.dispatchEvent(e)}},{key:"switchToOrthoCamera",value:function(){var e=new Bl(this.viewer.containerRect.width/-2,this.viewer.containerRect.width/2,this.viewer.containerRect.height/2,this.viewer.containerRect.height/-2,this.viewer.camera.near,this.viewer.camera.far),t=$h.getSize(this.viewer.modelGroup),n=.7*Math.min(this.viewer.containerRect.width,this.viewer.containerRect.height)/Math.max(t.x,t.z);e.position.set(0,1,0),e.zoom=n,e.updateProjectionMatrix(),this.object=e,this._viewMode=jd.TOP,this.enabled=!0,this.enableRotate=!1,this.update(),et.setCamera(e),et.render()}},{key:"switchToPerspectiveCamera",value:function(){this.object=this.viewer.camera,this._viewMode=jd.NORMAL,this.enabled=!0,this.enableRotate=!0,this.update(),et.setCamera(),et.render()}},{key:"setViewMode",value:function(e){var t=this;if(e===jd.NORMAL){if(this.object.isPerspectiveCamera)return;et.setCamera(),this.switchToPerspectiveCamera(),this._prevView&&(new Je.Tween(this.target).to(this._prevView.target,500).start(),new Je.Tween(this.object.position).to(this._prevView.position,500).onUpdate((function(){t.object.lookAt(t.target)})).onComplete((function(){})).start(),this._prevView=null)}else if(e===jd.TOP){if(this.object.isOrthographicCamera)return;this._prevView=this.getView(),this._prevView.position=(new Ve).fromArray(this._prevView.position),this._prevView.target=(new Ve).fromArray(this._prevView.target);var n=new Ve;this.enabled=!1,this.target.copy(n);var r=this.computePosition(this.object.defaultPos,n,0,0),i=this._prevView.target.clone();new Je.Tween(i).to(n,500).onUpdate((function(){t.object.lookAt(i)})).start(),new Je.Tween(this.object.position).to(r,500).onComplete((function(){t.switchToOrthoCamera()})).start()}}},{key:"startAutoRotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.autoRotateSpeed=e,this.autoRotate=!0}},{key:"stopAutoRotate",value:function(){this.autoRotate=!1}},{key:"follow",value:function(e){var t=this;e||console.error("缺少参数object"),this.followTask=function(){var n=t._fitCamera(e);t.setPosition(e.position.x,e.position.y+n.y,e.position.z+n.z),t.setTarget(e.position.x,e.position.y,e.position.z)}.bind(this),this.viewer.addEventListener("update",this.followTask)}},{key:"stopFollow",value:function(){this.viewer.removeEventListener("update",this.followTask)}}]),n}(zd);Yd.VIEW_CHANGE="view_change";var Kd="#DDDDDD",Zd="#F2F5CE",Jd="#FFFFFF",qd=256,$d=[],ep=[],tp=[],np=[],rp=[],ip=function(e){s(n,e);var t=f(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=arguments.length>3?arguments[3]:void 0;function s(){ep=[{name:up.FRONT,map:lp("前",{fontSize:qd,font:"Arial Narrow, sans-serif"})},{name:up.RIGHT,map:lp("右",{fontSize:qd,font:"Arial Narrow, sans-serif"})},{name:up.BACK,map:lp("后",{fontSize:qd,font:"Arial Narrow, sans-serif"})},{name:up.LEFT,map:lp("左",{fontSize:qd,font:"Arial Narrow, sans-serif"})},{name:up.TOP,map:lp("上",{fontSize:qd,font:"Arial Narrow, sans-serif"})},{name:up.BOTTOM,map:lp("下",{fontSize:qd,font:"Arial Narrow, sans-serif"})}],tp=[{name:up.TOP_FRONT_RIGHT_CORNER},{name:up.TOP_BACK_RIGHT_CORNER},{name:up.TOP_BACK_LEFT_CORNER},{name:up.TOP_FRONT_LEFT_CORNER},{name:up.BOTTOM_BACK_RIGHT_CORNER},{name:up.BOTTOM_FRONT_RIGHT_CORNER},{name:up.BOTTOM_FRONT_LEFT_CORNER},{name:up.BOTTOM_BACK_LEFT_CORNER}],np=[{name:up.TOP_FRONT_EDGE},{name:up.TOP_RIGHT_EDGE},{name:up.TOP_BACK_EDGE},{name:up.TOP_LEFT_EDGE},{name:up.BOTTOM_BACK_EDGE},{name:up.BOTTOM_RIGHT_EDGE},{name:up.BOTTOM_FRONT_EDGE},{name:up.BOTTOM_LEFT_EDGE}],rp=[{name:up.FRONT_RIGHT_EDGE},{name:up.BACK_RIGHT_EDGE},{name:up.BACK_LEFT_EDGE},{name:up.FRONT_LEFT_EDGE}],$d=[].concat(y(ep),y(tp),y(np),y(rp))}return i(this,n),s(),(r=t.call(this)).cubeSize=a,r.edgeSize=A,r._cube=new ap({size:r.cubeSize,edge:r.edgeSize,outline:!0,bgColor:Kd,hoverColor:Zd,outlineColor:Jd}),r._animation=null,r._handleMouseMove=r._handleMouseMove.bind(d(r)),r._handleMouseClick=r._handleMouseClick.bind(d(r)),r._controls=o,r._renderer=new ja({antialias:!0,alpha:!0}),r._renderer.setPixelRatio(window.devicePixelRatio),r._renderer.setSize(150,150),r._renderer.setClearAlpha(0),r._renderer.domElement.style.position="absolute",r._renderer.domElement.style.right="0px",r._renderer.domElement.style.top="0px",e.appendChild(r._renderer.domElement),r.domElement=r._renderer.domElement,r._listen(),r._scene=new Lt,r._scene.add(r._cube),r._camera=new Ur(50,1,.1,1e3),r._camera.position.set(0,0,70),r._camera.lookAt(0,0,0),r}return A(n,[{key:"_listen",value:function(){var e=this;this.domElement.addEventListener("mousemove",this._handleMouseMove),this.domElement.addEventListener("click",this._handleMouseClick),this._controls.addEventListener(Ye.CHANGE,(function(){var t=-1*(e._controls.spherical.phi-Math.PI/2),n=-e._controls.spherical.theta;e._cube.rotation.set(t,n,0)}))}},{key:"_handleMouseClick",value:function(e){var t=e.offsetX/e.target.clientWidth*2-1,n=-e.offsetY/e.target.clientHeight*2+1;this._checkSideTouch(t,n)}},{key:"_checkSideTouch",value:function(e,t){var n=new Tc;n.setFromCamera({x:e,y:t},this._camera);var r=n.intersectObjects(this._cube.children,!0);if(r.length){var i,a=b(r);try{for(a.s();!(i=a.n()).done;){var A=i.value.object;if(A.name){this._rotateTheCube(A.name),this._rotateTheCamera(A.name);break}}}catch(e){a.e(e)}finally{a.f()}}}},{key:"_rotateTheCamera",value:function(e){var t=new Ve;switch(e){case up.FRONT:t.set(0,0,1);break;case up.BACK:t.set(0,0,-1);break;case up.LEFT:t.set(-1,0,0);break;case up.RIGHT:t.set(1,0,0);break;case up.TOP:t.set(0,1,0);break;case up.BOTTOM:t.set(0,-1,0);break;case up.TOP_FRONT_EDGE:t.set(0,1,1);break;case up.TOP_BACK_EDGE:t.set(0,1,-1);break;case up.TOP_RIGHT_EDGE:t.set(1,1,0);break;case up.TOP_LEFT_EDGE:t.set(-1,1,0);break;case up.BOTTOM_FRONT_EDGE:t.set(0,-1,1);break;case up.BOTTOM_BACK_EDGE:t.set(0,-1,-1);break;case up.BOTTOM_RIGHT_EDGE:t.set(1,-1,0);break;case up.BOTTOM_LEFT_EDGE:t.set(-1,-1,0);break;case up.FRONT_RIGHT_EDGE:t.set(1,0,1);break;case up.FRONT_LEFT_EDGE:t.set(-1,0,1);break;case up.BACK_RIGHT_EDGE:t.set(1,0,-1);break;case up.BACK_LEFT_EDGE:t.set(-1,0,-1);break;case up.TOP_FRONT_RIGHT_CORNER:t.set(1,1,1);break;case up.TOP_FRONT_LEFT_CORNER:t.set(-1,1,1);break;case up.TOP_BACK_RIGHT_CORNER:t.set(1,1,-1);break;case up.TOP_BACK_LEFT_CORNER:t.set(-1,1,-1);break;case up.BOTTOM_FRONT_RIGHT_CORNER:t.set(1,-1,1);break;case up.BOTTOM_FRONT_LEFT_CORNER:t.set(-1,-1,1);break;case up.BOTTOM_BACK_RIGHT_CORNER:t.set(1,-1,-1);break;case up.BOTTOM_BACK_LEFT_CORNER:t.set(-1,-1,-1)}t.clone();var n=this._controls.target.distanceTo(this._controls.object.position),r=t.normalize().multiplyScalar(n).add(this._controls.target);this._controls.camera.rotation.set(0,0,0),this._controls.flyTo({position:r,rotation:new Ve})}},{key:"_rotateTheCube",value:function(e){switch(e){case up.FRONT:this._setCubeAngles(0,0,0);break;case up.RIGHT:this._setCubeAngles(0,-90,0);break;case up.BACK:this._setCubeAngles(0,-180,0);break;case up.LEFT:this._setCubeAngles(0,-270,0);break;case up.TOP:this._setCubeAngles(90,0,0);break;case up.BOTTOM:this._setCubeAngles(-90,0,0);break;case up.TOP_FRONT_EDGE:this._setCubeAngles(45,0,0);break;case up.TOP_RIGHT_EDGE:this._setCubeAngles(45,-90,0);break;case up.TOP_BACK_EDGE:this._setCubeAngles(45,-180,0);break;case up.TOP_LEFT_EDGE:this._setCubeAngles(45,-270,0);break;case up.BOTTOM_FRONT_EDGE:this._setCubeAngles(-45,0,0);break;case up.BOTTOM_RIGHT_EDGE:this._setCubeAngles(-45,-90,0);break;case up.BOTTOM_BACK_EDGE:this._setCubeAngles(-45,-180,0);break;case up.BOTTOM_LEFT_EDGE:this._setCubeAngles(-45,-270,0);break;case up.FRONT_RIGHT_EDGE:this._setCubeAngles(0,-45,0);break;case up.BACK_RIGHT_EDGE:this._setCubeAngles(0,-135,0);break;case up.BACK_LEFT_EDGE:this._setCubeAngles(0,-225,0);break;case up.FRONT_LEFT_EDGE:this._setCubeAngles(0,-315,0);break;case up.TOP_FRONT_RIGHT_CORNER:this._setCubeAngles(45,-45,0);break;case up.TOP_BACK_RIGHT_CORNER:this._setCubeAngles(45,-135,0);break;case up.TOP_BACK_LEFT_CORNER:this._setCubeAngles(45,-225,0);break;case up.TOP_FRONT_LEFT_CORNER:this._setCubeAngles(45,-315,0);break;case up.BOTTOM_FRONT_RIGHT_CORNER:this._setCubeAngles(-45,-45,0);break;case up.BOTTOM_BACK_RIGHT_CORNER:this._setCubeAngles(-45,-135,0);break;case up.BOTTOM_BACK_LEFT_CORNER:this._setCubeAngles(-45,-225,0);break;case up.BOTTOM_FRONT_LEFT_CORNER:this._setCubeAngles(-45,-315,0)}}},{key:"_setCubeAngles",value:function(e,t,n){var r=this._cube.rotation;this._animation={base:{x:r.x,y:r.y,z:r.z},delta:{x:sp(r.x,e*Ap),y:sp(r.y,t*Ap),z:sp(r.z,n*Ap)},duration:500,time:Date.now()}}},{key:"_handleMouseMove",value:function(e){var t=e.offsetX/e.target.clientWidth*2-1,n=-e.offsetY/e.target.clientHeight*2+1;this._checkSideOver(t,n)}},{key:"_checkSideOver",value:function(e,t){var n=new Tc;n.setFromCamera({x:e,y:t},this._camera);var r=n.intersectObjects(this._cube.children,!0);if(this._cube.traverse((function(e){e.name&&e.material.color.setStyle(e.material.color0)})),r.length){var i,a=b(r);try{var A=function(){var e=i.value.object;if(e.name){$d.find((function(t){return t.name===e.name}));return e.parent.children.forEach((function(t){t.name===e.name&&(t.material.color0||(t.material.color0="#"+t.material.color.getHexString()),t.material.color.setStyle(Zd))})),"break"}};for(a.s();!(i=a.n()).done;){if("break"===A())break}}catch(e){a.e(e)}finally{a.f()}}}},{key:"update",value:function(){this._animate(),this._renderer.render(this._scene,this._camera)}},{key:"_animate",value:function(){if(this._animation){var e=Date.now(),t=this._animation,n=t.duration,r=t.time,i=Math.min((e-r)/n,1);this._animateCubeRotation(this._animation,i),1==i&&(this._animation=null),this.dispatchEvent({type:"angle-change",quaternion:this._cube.quaternion.clone()})}}},{key:"_animateCubeRotation",value:function(e,t){var n=e.base,r=e.delta,i=.5*(Math.sin((2*t-1)*Math.PI*.5)+1),a=-op+n.x+r.x*i,A=-op+n.y+r.y*i,o=-op+n.z+r.z*i;this._cube.rotation.set(a%op,A%op,o%op)}},{key:"setQuaternion",value:function(e){this._cube.setRotationFromQuaternion(e)}},{key:"getObject",value:function(){return this._cube}}]),n}(De),ap=function(e){s(n,e);var t=f(n);function n(e){var r,a=e.size,A=void 0===a?60:a,o=e.edge,s=void 0===o?5:o,l=e.outline,c=void 0===l||l,u=e.bgColor,h=void 0===u?"#CCCCCC":u,d=e.hoverColor,p=void 0===d?"#FFFFFF":d,f=e.outlineColor,g=void 0===f?"#999999":f,m=e.cornerColor,v=void 0===m?"#ffffff":m;return i(this,n),(r=t.call(this))._cubeSize=A,r._edgeSize=s,r._outline=c,r._bgColor=h,r._hoverColor=p,r._outlineColor=g,r._cornerColor=v,r._build(),r}return A(n,[{key:"_build",value:function(){var e,t=this._cubeSize-2*this._edgeSize,n=this._cubeSize/2,r=this._edgeSize,i=this._createCubeFaces(t,n),a=b(ep.entries());try{for(a.s();!(e=a.n()).done;){var A=v(e.value,2),o=A[0],s=A[1];i.children[o].name=s.name,i.children[o].material.color.setStyle(this._bgColor),i.children[o].material.map=s.map}}catch(e){a.e(e)}finally{a.f()}this.add(i);var l,c=[],u=b(tp.entries());try{for(u.s();!(l=u.n()).done;){var h=v(l.value,2),d=h[0],p=h[1],f=this._createCornerFaces(r,n,p.name,{color:this._bgColor});f.rotateOnAxis(new Ve(0,1,0),d%4*90*Ap),c.push(f)}}catch(e){u.e(e)}finally{u.f()}var g=new Oa,m=new Oa;this.add(g.add.apply(g,y(c.slice(0,4)))),this.add(m.add.apply(m,y(c.slice(4))).rotateOnAxis(new Ve(1,0,0),180*Ap));var w,B=[],x=b(np.entries());try{for(x.s();!(w=x.n()).done;){var C=v(w.value,2),M=C[0],E=C[1],I=this._createHorzEdgeFaces(t,r,n,E.name,{color:this._bgColor});I.rotateOnAxis(new Ve(0,1,0),M%4*90*Ap),B.push(I)}}catch(e){x.e(e)}finally{x.f()}var T=new Oa,S=new Oa;this.add(T.add.apply(T,y(B.slice(0,4)))),this.add(S.add.apply(S,y(B.slice(4))).rotateOnAxis(new Ve(1,0,0),180*Ap));var F,U=new Oa,L=b(rp.entries());try{for(L.s();!(F=L.n()).done;){var R=v(F.value,2),P=R[0],D=R[1],Q=this._createVertEdgeFaces(r,t,n,D.name,{color:this._bgColor});Q.rotateOnAxis(new Ve(0,1,0),90*P*Ap),U.add(Q)}}catch(e){L.e(e)}finally{L.f()}this.add(U),this._outline&&this.add(this._createCubeOutline(this._cubeSize))}},{key:"_createFace",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.axis,a=void 0===i?[0,1,0]:i,A=r.angle,o=void 0===A?0:A,s=r.name,l=void 0===s?"":s,c=r.matProps,u=void 0===c?{}:c;Array.isArray(e)||(e=[e,e]);var d=new Fn(u),p=new zr(e[0],e[1]),f=new gr(p,d);return f.name=l,f.rotateOnAxis(h(Ve,y(a)),o*Ap),(n=f.position).set.apply(n,y(t)),f}},{key:"_createCubeFaces",value:function(e,t){var n=new Ut;return n.add(this._createFace(e,[0,0,t],{axis:[0,1,0],angle:0})),n.add(this._createFace(e,[t,0,0],{axis:[0,1,0],angle:90})),n.add(this._createFace(e,[0,0,-t],{axis:[0,1,0],angle:180})),n.add(this._createFace(e,[-t,0,0],{axis:[0,1,0],angle:270})),n.add(this._createFace(e,[0,t,0],{axis:[1,0,0],angle:-90})),n.add(this._createFace(e,[0,-t,0],{axis:[1,0,0],angle:90})),n}},{key:"_createCornerFaces",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new Ut,a=t-e/2;return i.add(this._createFace(e,[a,a,t],{axis:[0,1,0],angle:0,matProps:r,name:n})),i.add(this._createFace(e,[t,a,a],{axis:[0,1,0],angle:90,matProps:r,name:n})),i.add(this._createFace(e,[a,t,a],{axis:[1,0,0],angle:-90,matProps:r,name:n})),i}},{key:"_createHorzEdgeFaces",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=new Ut,A=n-t/2;return a.add(this._createFace([e,t],[0,A,n],{axis:[0,1,0],angle:0,name:r,matProps:i})),a.add(this._createFace([e,t],[0,n,A],{axis:[1,0,0],angle:-90,name:r,matProps:i})),a}},{key:"_createVertEdgeFaces",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=new Ut,A=n-e/2;return a.add(this._createFace([e,t],[A,0,n],{axis:[0,1,0],angle:0,name:r,matProps:i})),a.add(this._createFace([e,t],[n,0,A],{axis:[0,1,0],angle:90,name:r,matProps:i})),a}},{key:"_createCubeOutline",value:function(e){return new PA(new qo(new Cr(e,e,e)),new MA({color:this._outlineColor,linewidth:1}))}},{key:"_createCubeOutline2",value:function(e){return new PA(new qo(new Cr(e.x,e.y,e.z)),new MA({color:this._outlineColor,linewidth:1}))}}]),n}(Ut),Ap=Math.PI/180,op=2*Math.PI;function sp(e,t){var n=t-e,r=n-op,i=n+op;return Math.abs(n)>Math.abs(r)?r:Math.abs(n)>Math.abs(i)?i:n}function lp(e,t){var n=t.font||"Helvetica",r=t.fontSize||30,i=t.width||512,a=t.height||512,A=t.color?t.bgColor.join(", "):"255, 255, 255, 1.0",o=t.color?t.color.join(", "):"0, 0, 0, 1.0",s=document.createElement("canvas");s.width=i,s.height=a;var l=s.getContext("2d");l.font="bold ".concat(r,"px ").concat(n),l.fillStyle="rgba(".concat(A,")"),l.fillRect(0,0,i,a);var c=l.measureText(e).width;l.fillStyle="rgba(".concat(o,")"),l.fillText(e,i/2-c/2,a/2+r/2-2);var u=new zA(s);return u.minFilter=1008,u.needsUpdate=!0,u.anisotropy=2,u}var cp,up={TOP:1,FRONT:2,RIGHT:3,BACK:4,LEFT:5,BOTTOM:6,TOP_FRONT_EDGE:7,TOP_RIGHT_EDGE:8,TOP_BACK_EDGE:9,TOP_LEFT_EDGE:10,FRONT_RIGHT_EDGE:11,BACK_RIGHT_EDGE:12,BACK_LEFT_EDGE:13,FRONT_LEFT_EDGE:14,BOTTOM_FRONT_EDGE:15,BOTTOM_RIGHT_EDGE:16,BOTTOM_BACK_EDGE:17,BOTTOM_LEFT_EDGE:18,TOP_FRONT_RIGHT_CORNER:19,TOP_BACK_RIGHT_CORNER:20,TOP_BACK_LEFT_CORNER:21,TOP_FRONT_LEFT_CORNER:22,BOTTOM_FRONT_RIGHT_CORNER:23,BOTTOM_BACK_RIGHT_CORNER:24,BOTTOM_BACK_LEFT_CORNER:25,BOTTOM_FRONT_LEFT_CORNER:26},hp=function(e){s(n,e);var t=f(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,n),(r=t.call(this)).containerRect=null,r.camera=null,r.renderManager=null,r.sceneManager=null,r.disposed=!1,r.composer=null,r.controls=null,r.onControlsChange=null,r._options=a,e.constructor===String&&(e=document.querySelector("#"+e)||document.querySelector("."+e)),r.container=e||document.body,!a.nv){if(pd.init(a),a.offline)return p(r);if(void 0!==a.offlinekey)pd.offlineValidation((function(e){if(!e)throw new Error("授权失败！请检查您的开发者凭证。")}));else{var A=pd.checkDevloper();A?pd.token=A:r.dispose()}}return Object.defineProperty(window,"__viewer",{writable:!0,value:d(r)}),r}return A(n,[{key:"renderer",get:function(){return this.renderManager.defaultRenderer}},{key:"render",get:function(){return this.renderManager.render.bind(this.renderManager)}},{key:"domElement",get:function(){return this.renderManager.domElement}},{key:"scene",get:function(){return this.sceneManager.scene}},{key:"root",get:function(){return this.sceneManager.root}},{key:"modelGroup",get:function(){return this.sceneManager.modelGroup}},{key:"setSkyBox",get:function(){return this.sceneManager.setSkyBox.bind(this.sceneManager)}},{key:"setBackground",get:function(){return this.sceneManager.setBackground.bind(this.sceneManager)}},{key:"clearBackground",get:function(){return this.sceneManager.clearBackground.bind(this.sceneManager)}},{key:"loadSceneData",get:function(){return this.sceneManager.loadSceneData.bind(this.sceneManager)}},{key:"saveSceneData",get:function(){return this.sceneManager.saveSceneData.bind(this.sceneManager)}},{key:"fitCamera",get:function(){return this.sceneManager.fitCamera.bind(this.sceneManager)}},{key:"getModelById",get:function(){return this.modelManager.getModelById.bind(this.modelManager)}},{key:"getModelByName",get:function(){return this.modelManager.getModelByName.bind(this.modelManager)}},{key:"add",get:function(){return this.modelManager.add.bind(this.modelManager)}},{key:"remove",get:function(){return this.modelManager.remove.bind(this.modelManager)}},{key:"loadModel",get:function(){return this.modelManager.loadModel.bind(this.modelManager)}},{key:"validate",value:function(){return new Promise((function(e,t){pd.checkDevloper().then((function(n){n&&6e4===n.resp_code?(pd.token=n.datas,e()):t("授权失败,请检查您的开发者凭证是否正确。")})).catch((function(e){t("授权失败,请检查您的开发者凭证是否正确。")}))}))}},{key:"initialize",value:function(e){var t=this;this.containerRect=this.container.getBoundingClientRect(),this.camera=new Ur(50,this.containerRect.width/this.containerRect.height,1,5e3),this.camera.position.set(0,0,1),et.init(this.container),et.setCamera(this.camera),Ad.init(),Vd.init(),this.renderManager=et,this.sceneManager=Ad,this.modelManager=Vd,et.scene=this.scene,et.camera=this.camera,et.defaultCamera=this.camera,Ad.camera=this.camera,mh.init(this.scene,this.camera,this.renderer),this.composer=mh,e.isMap?(this.renderer.domElement.style.pointerEvents="none",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top=0,this.renderer.domElement.style.left=0,et.setLoop(!1)):(et.render(!0),this._initControls(),window.addEventListener("resize",(function(){t.resize()}),!1),this.container.addEventListener("resize",(function(){t.resize()}),!1)),this._proxyEvent()}},{key:"_initControls",value:function(){var e=this;this.controls=new Yd(this),this.controls.screenSpacePanning=!0,this.controls.addEventListener(Ye.CHANGE,(function(){e.lightFollow&&e._directLight.position.copy(e.camera.position),e.onControlsChange&&e.onControlsChange()})),this.controls.addEventListener(Yd.VIEW_CHANGE,(function(t){e.controls.setViewMode(t.data)})),this.camera.defaultPos=this.camera.position.clone(),et.addAfterRenderTask(this.controls.update.bind(this.controls)),this.viewCubeControls=new ip(this.container,30,5,this.controls),cp=this.viewCubeControls.update.bind(this.viewCubeControls),this.hideViewCube()}},{key:"_proxyEvent",value:function(){var e=this;et.addEventListener(Ye.UPDATE,(function(){e.controls.update(),e.dispatchEvent(Ye.UPDATE)})),Vd.addEventListener(Ye.MODEL_UPDATE,(function(){e.dispatchEvent(Ye.MODEL_UPDATE)}))}},{key:"resize",value:function(){this.containerRect=this.container.getBoundingClientRect(),this.camera.aspect=this.containerRect.width/this.containerRect.height,this.camera.updateProjectionMatrix(),this.domElement.style.width=this.containerRect.width+"px",this.domElement.style.height=this.containerRect.height+"px",this.renderManager.resize()}},{key:"dispatchEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g(l(n.prototype),"dispatchEvent",this).call(this,{type:e,data:t})}},{key:"getComponentInfo",value:function(e,t){e.traverseAncestors((function(n){n.isBIM&&n.getComponentInfo(e,t)}))}},{key:"showViewCube",value:function(){this.viewCubeControls.domElement.style.display="block",et.addAfterRenderTask(cp)}},{key:"hideViewCube",value:function(){this.viewCubeControls.domElement.style.display="none",et.removeAfterRenderTask(cp)}},{key:"dispose",value:function(){this.sceneManager.dispose(),this.renderManager.dispose(),this.controls.dispose(),this.composer.dispose(),this.disposed=!0,this.container.innerHTML=""}}]),n}(De);function dp(e,t,n,r){if(e instanceof Fr){console.warn("DragControls: Constructor now expects ( objects, camera, domElement )");var i=e;e=t,t=i}var a=new sn,A=new Tc,o=new Ve,s=new Ve,l=new Ve,c=new dt,u=null,h=this;function d(){n.addEventListener("mousemove",f,!1),n.addEventListener("mousedown",g,!1),n.addEventListener("mouseup",m,!1),n.addEventListener("mouseleave",m,!1),n.addEventListener("touchmove",f,!1),n.addEventListener("touchstart",g,!1),n.addEventListener("touchend",m,!1)}function p(){n.removeEventListener("mousemove",f,!1),n.removeEventListener("mousedown",g,!1),n.removeEventListener("mouseup",m,!1),n.removeEventListener("mouseleave",m,!1),n.removeEventListener("touchmove",f,!1),n.removeEventListener("touchstart",g,!1),n.removeEventListener("touchend",m,!1)}function f(e){if(e.preventDefault(),function(e){e=$h.getTouchByEvent(e);var r=$h.getDomMouse(e,n);A.setFromCamera(r,t)}(e),u&&h.enabled)return A.ray.intersectPlane(a,s)&&u.position.copy(s.sub(o).applyMatrix4(c)),void h.dispatchEvent({type:"drag",object:u})}function g(e){!function(e,r){e.length>0&&(u=e[0].object,i=u,d=l.setFromMatrixPosition(i.matrixWorld),a.setFromNormalAndCoplanarPoint(t.getWorldDirection(a.normal),d),A.ray.intersectPlane(a,s)&&(c.getInverse(u.parent.matrixWorld),o.copy(s).sub(l.setFromMatrixPosition(u.matrixWorld))),n.style.cursor="move",h.dispatchEvent({type:"dragstart",object:u}));var i,d}(r.intersectModels(e))}function m(e){e.preventDefault(),h.dispatchEvent({type:"dragend",object:u}),u=null,n.style.cursor="auto"}d(),this.enabled=!0,this.activate=d,this.deactivate=p,this.dispose=function(){p()}}dp.prototype=Object.create(De.prototype),dp.prototype.constructor=dp;var pp=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this)).viewer=e,r._enabled=!1,r._enableDrag=!1,r._startPoint=new _e,r._selected=void 0,r.selectedColor="#ff0000",r.objects=[],r.dragControls=new dp(r.viewer.modelGroup,r.viewer.camera,r.viewer.domElement,r.viewer),r.dragControls.deactivate(),r.dragControls.enabled=!1,r._initEvents(),r}return A(n,[{key:"_initEvents",value:function(){var e=this;this.viewer.domElement.addEventListener(Ye.START,(function(t){t.constructor===MouseEvent&&0!==t.button||(t=$h.getTouchByEvent(t),e._startPoint.set(t.clientX,t.clientY))})),this.viewer.domElement.addEventListener(Ye.END,(function(t){if(t.constructor!==MouseEvent||0===t.button){t=$h.getTouchByEvent(t);var n=e._startPoint.distanceTo(new _e(t.clientX,t.clientY));e.enabled&&!e._enableDrag&&n<5&&e.viewer.intersectModels(t,e._rayCasterHandler,e)}})),this.dragControls.addEventListener("dragstart",(function(t){e.enableDrag&&(e.selected=t.object,e.viewer.controls.enabled=!1)})),this.dragControls.addEventListener("dragend",(function(t){e.enableDrag&&(e.viewer.controls.enabled=!0),e.selected&&e._updateMesh(e.selected,!0)})),this.viewer.addEventListener(Ye.MODEL_UPDATE,(function(){e._enabled&&e._initData()}))}},{key:"_rayCasterHandler",value:function(e){console.log(e[0]),e.length>0&&this.selected!=e[0].object?(this.selected=e[0].object,this.dispatchEvent(Ye.CHANGE,this.selected)):0===e.length&&this.selected&&(this.selected=null,this.dispatchEvent(Ye.CHANGE,this.selected))}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._initData()}},{key:"enableDrag",get:function(){return this._enableDrag},set:function(e){this._enableDrag=e,this.dragControls.enabled=e,this._enableDrag?this.dragControls.activate():this.dragControls.deactivate()}},{key:"selected",get:function(){return this._selected},set:function(e){var t=this;(this.selected&&(this.selected.material=this.selected.material0,this.selected.transparent&&(this.selected.material=this._cloneMate(this.selected.material),this.transparent(this.selected))),this._selected=e,this._selected&&(this._selected.isMesh||this._selected.intanceObject))&&(this._selected.material=this._cloneMate(this._selected.material),(Array.isArray(this._selected.material)?this._selected.material:[this._selected.material]).forEach((function(e){e.color.setStyle(t.selectedColor)})),this._selected.transparent&&this.transparent(this._selected));et.render()}},{key:"unSelected",value:function(e){e.isMesh&&(e.material=e.material0),et.render()}},{key:"toggleDisplay",value:function(){var e=this;this.objects.forEach((function(t){t.visible=!t.visible,e._updateMesh(t)})),et.render()}},{key:"hide",value:function(){this.selected&&(this.selected.visible=!1,this._updateMesh(this.selected),et.render())}},{key:"_updateMesh",value:function(e,t){}},{key:"showAll",value:function(){var e=this;this.objects.forEach((function(t){t.visible=!0,e._updateMesh(t)})),et.render()}},{key:"transparent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selected;if(e){e.transparent=!0;var t=Array.isArray(e.material)?e.material:[e.material];t.forEach((function(e){e.opacity0=void 0!==e.opacity0?e.opacity0:e.opacity,e.transparent0=void 0!==e.transparent0?e.transparent0:e.transparent,e.opacity=.3,e.transparent=!0})),et.render()}}},{key:"unTransparent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selected;e&&(Array.isArray(e.material)?e.material.forEach((function(e){e.opacity=e.opacity0,e.transparent=e.transparent0})):(e.material.opacity=void 0!==e.material.opacity0?e.material.opacity0:1,e.material.transparent=e.material.transparent0),e.transparent=!1,et.render())}},{key:"translucenceOthers",value:function(e){var t=this;this.objects.forEach((function(n){n!==e&&n.visible&&t.transparent(n)})),et.render()}},{key:"restore",value:function(){var e=this;this.objects.forEach((function(t){e.restoreObject(t)})),this.selected=null}},{key:"restoreObject",value:function(e){e&&(e.visible||(this._updateMesh(e,!0),e.visible=!0),this.restoreMaterial(e),this.restorePosition(e),e.transparent=e.transparent0,e==this.selected&&(this.selected=null)),et.render()}},{key:"restoreMaterial",value:function(e){e&&(e.material=e.material0,(Array.isArray(e.material)?e.material:[e.material]).forEach((function(e){e.opacity=e.opacity0,e.transparent=e.transparent0})),et.render())}},{key:"restorePosition",value:function(e){e&&e.position.copy(e.position0)}},{key:"dispose",value:function(){this.dragControls.enabled=!1,this.dragControls.deactivate()}},{key:"_initData",value:function(){var e=this;this.objects=[],this.viewer.modelGroup.traverse((function(t){t.isMesh&&(e.objects.push(t),t.material0||(t.position0=t.position.clone(),(Array.isArray(t.material)?t.material:[t.material]).forEach((function(e){e.opacity0=e.opacity,e.transparent0=e.transparent})),t.material0=t.material))}))}},{key:"_cloneMate",value:function(e){var t;return Array.isArray(e)?(t=[],e.forEach((function(e){var n=e.clone();n.opacity0=e.opacity0,n.transparent0=e.transparent0,t.push(n)}))):((t=e.clone()).opacity0=e.opacity0,t.transparent0=e.transparent0),t}}]),n}(Cd),fp=function(){function e(){i(this,e)}return A(e,[{key:"parserOldParams",value:function(e,t){var n=[];return e.a.forEach((function(e){var r=new gs;n.push(r),void 0!==e.a&&(r.name=e.a),void 0!==e.b&&e.b.length>0&&r.color.setRGB(e.b[0],e.b[1],e.b[2]),void 0!==e.c&&(r.albedo=(new zs).load(t[e.c])),void 0!==e.d&&e.d.length>0&&r.emissive.setRGB(e.d[0],e.d[1],e.d[2]),void 0!==e.e&&(r.aoScale=e.e),void 0!==e.g&&(r.smoothness=1-e.g),void 0!==e.h&&(r.metallic=e.h),void 0!==e.i&&(r.normalScale=e.i),void 0!==e.j&&(r.opacity=e.j),void 0!==e.q&&(r.normalMap=(new zs).load(t[e.q])),void 0!==e.r&&(r.aoMap=(new zs).load(t[e.r])),void 0!==e.y&&(r.metallicMap=(new zs).load(t[e.y])),void 0!==e.z&&(r.roughnessMap=(new zs).load(t[e.z])),void 0!==e.aa&&(r.emissiveMap=(new zs).load(t[e.aa]))})),n}},{key:"parse",value:function(){}}],[{key:"parserSingle",value:function(e,t,n,r){var i=new gs;if(i.name=t.name,i.envMap=t.envMap,i.needsUpdate=!0,void 0===e.b||n||(i.color=(new bn).fromArray(e.b)),n?(i.albedo=t.albedo,i.needsUpdate=!0):void 0!==e.c&&rd.load(e.c,(function(t){t.wrapS=t.wrapT=1e3,e.t&&t.repeat.set(e.t[0],e.t[1]),e.x&&t.offset.set(e.x[0],e.x[1]),i.albedo=t,i.needsUpdate=!0,void 0!==e.c?i.useDefault=e.useDefault:i.useDefault=!0})),e.d){var a=(new bn).fromArray(e.d);i.emissive=a}if(void 0!==e.e){var A=parseFloat(e.e);i.aoScale=A}if(void 0!==e.f&&parseFloat(e.f),void 0!==e.g){var o=parseFloat(e.g);i.smoothness=o}if(void 0!==e.h&&(parseFloat(e.h),i.metallic=parseFloat(e.h)),void 0!==e.i&&(i.normalScale=parseFloat(e.i)),void 0!==e.j){var s=parseFloat(e.j);i.opacity=s}if(void 0!==e.gg&&(i.transparency=parseFloat(e.gg)),(i.opacity<1||i.transparency>0)&&(i.transparent=!0),void 0!==e.hh&&(i.alphaTest=parseFloat(e.hh)),void 0!==e.ii&&(i.reflectIntensity=parseFloat(e.ii)),void 0!==e.q&&rd.load(e.q,(function(t){t.wrapS=t.wrapT=1e3,e.u?t.repeat.set(e.u[0],e.u[1]):t.repeat.set(1,1),void 0!==e.mm&&t.offset.set(e.mm[0],e.mm[1]),void 0!==e.nn&&(t.rotation=e.nn),i.normalMap&&i.normalMap.dispose(),i.normalMap=t,i.needsUpdate=!0})),void 0!==e.r&&rd.load(e.r,(function(t){t.wrapS=t.wrapT=1e3,e.v?t.repeat.set(e.v[0],e.v[1]):t.repeat.set(1,1),i.aoMap=t,i.needsUpdate=!0})),void 0!==e.y&&rd.load(e.y,(function(t){t.wrapS=t.wrapT=1e3,e.bb?t.repeat.set(e.bb[0],e.bb[1]):t.repeat.set(1,1),i.metallicMap&&i.metallicMap.dispose(),i.metallicMap=t,i.needsUpdate=!0})),void 0!==e.z&&rd.load(e.z,(function(t){t.wrapS=t.wrapT=1e3,e.cc?t.repeat.set(e.cc[0],e.cc[1]):t.repeat.set(1,1),i.roughnessMap&&i.roughnessMap.dispose(),i.roughnessMap=t,i.needsUpdate=!0})),void 0!==e.aa&&rd.load(e.aa,(function(t){t.wrapS=t.wrapT=1e3,e.dd?t.repeat.set(e.dd[0],e.dd[1]):t.repeat.set(1,1),i.emissiveMap&&i.emissiveMap.dispose(),i.emissiveMap=t,i.needsUpdate=!0})),void 0!==e.ll){var l=e.ll;new rd.load(l,(function(e){e.wrapS=e.wrapT=1e3,e=r.convertTexture(e),i.reflectMap&&i.reflectMap.dispose(),i.reflectMap=e,i.needsUpdate=!0}))}return void 0!==e.kk?i.renderOrder=Number(e.kk):i.renderOrder=i.opacity<1?Re:3e3,i}}]),e}(),gp=function(e){s(n,e);var t=f(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).viewer=null,a.selected=null,a.selectedMaterial=null,a.selectedColor="#fff709",a._materials=[],a._objects=[],a._enabled=!1,a._selections=[],a._cacheMaterials={},a._mode="",a.onChange=function(){},a.onError=function(){},a.viewer=e,a._startPoint=new _e,e.domElement.addEventListener(Ye.START,(function(e){e.constructor===MouseEvent&&0!==e.button||(e=$h.getTouchByEvent(e),a._startPoint.set(e.clientX,e.clientY))})),e.domElement.addEventListener(Ye.END,(function(e){if(e.constructor!==MouseEvent||0===e.button){e=$h.getTouchByEvent(e);var t=a._startPoint.distanceTo(new _e(e.clientX,e.clientY));a.enabled&&!a._enableDrag&&t<5&&a.viewer.intersectModels(e,(function(e){a._onChange(e.length>0?e[0]:null)}),d(a))}})),r&&r.isModel&&a.setTarget(r),a}return A(n,[{key:"mode",get:function(){return this._mode},set:function(e){this._mode=e,this.selectedMaterial=null,this.selected=null,mh.outline.pass.selectedObjects=this._selections=[]}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled!=e&&(e?mh.enableOutline=!0:(mh.enableOutline=!1,this.selected=null,this.selectedMaterial=null,this._objects=[],this._materials=[],this._cacheMaterials={}),this._enabled=e)}},{key:"_onChange",value:function(e){var t=e?e.object:null;if(t){var n,r=e.faceIndex;t.geometry.groups.forEach((function(e){r>=e.start&&r<e.start+e.count&&(n=t.material[e.materialIndex])})),this.setOutlineObjects(t,n)}else mh.outline.pass.selectedObjects=this._selections=[],this.selectedMaterial=null;this.dispatchEvent(Ye.CHANGE,this.selectedMaterial),this.onChange&&this.onChange(this.selectedMaterial)}},{key:"setTarget",value:function(e){var t=this;this.enabled=!1,e&&e.isModel&&(this.model=e,e.traverse((function(e){e.isMesh&&((Array.isArray(e.material)?e.material:[e.material]).forEach((function(e){t._materials.indexOf(e)<0&&t._materials.push(e)})),t._objects.push(e))})),this.enabled=!0,void 0===this.model.splitCache&&(this.model.splitCache=[]))}},{key:"onChange",value:function(e){}},{key:"exit",value:function(){mh.outline.pass.selectedObjects=this._selections=[],this.selected=this.selectedMaterial=null,this.enabled=!1}},{key:"getAllMaterials",value:function(){var e=this;return this._materials=[],this._objects.forEach((function(t){t.material&&(Array.isArray(t.material)?t.material:[t.material]).forEach((function(t){e._materials.indexOf(t)<0&&e._materials.push(t)}))})),this._materials}},{key:"setSelectedMaterial",value:function(e){var t=this;e.isAMRTBasicMaterial&&(mh.outline.pass.selectedObjects=this._selections=[],this.selectedMaterial=e,this._objects.forEach((function(e){var n=Array.isArray(e.material)?e.material:[e.material],r=!1;n.forEach((function(e){t.selectedMaterial==e&&(r=!0)})),r&&t._selections.push(e)})),this.selected=this._selections[0],et.render())}},{key:"setSelectedMesh",value:function(e){e.isMesh&&(mh.outline.pass.selectedObjects=this._selections=[e],this.selected=e,this.selectedMaterial=e.material[0],et.render())}},{key:"setOutlineObjects",value:function(e,t){"MESH"==this.mode.toLocaleUpperCase()?(this.setSelectedMesh(e),this.selectedMaterial=t):(this.setSelectedMaterial(t),this.selected=e)}},{key:"splitMaterial",value:function(){var e=this;if("MESH"===this.mode.toLocaleUpperCase()&&this.selectedMaterial&&this.selected){var t,n=0;if(this._objects.map((function(t){t.material.find((function(t){return t===e.selectedMaterial}))&&n++})),!(n<=1))return this.selected.material.forEach((function(n,r){n===e.selectedMaterial&&((t=e.selectedMaterial.clone()).name=e._generateMaterialName(e.selectedMaterial.name),e.model.splitCache.unshift({a:e.selected.id,b:r,c:e.selectedMaterial.name}),e.selected.material[r]=t,e.selected.overMaterial=[r].concat(y(e.selected.overMaterial||[])),e.selectedMaterial=t)})),this.getAllMaterials(),t}}},{key:"resetSplitMaterial",value:function(){this.model.splitCache.map((function(e){viewer.materialEditor._objects.find((function(t){return t.id===e.a})).material[e.b]=viewer.materialEditor._materials.find((function(t){return t.name===e.c}))})),this.model.splitCache=[]}},{key:"_generateMaterialName",value:function(e){this.getAllMaterials();for(var t=this,n=e,r=0;i(n+"-"+r);)r++;return n+"-"+r;function i(e){return t._materials.find((function(t){return t.name===e}))}}},{key:"hide",value:function(){this.selected&&(this.selected.visible=!1,this._updateMesh(this.selected),et.render())}},{key:"showAll",value:function(){var e=this;this._objects.forEach((function(t){t.visible||(t.visible=!0,e._updateMesh(t))})),et.render()}},{key:"toggleDisplay",value:function(){var e=this;this._objects.forEach((function(t){t.visible=!t.visible,e._updateMesh(t)})),et.render()}},{key:"setColor",value:function(e){this._applyParams("color",e,"color")}},{key:"getColor",value:function(){return this._getParams("color")}},{key:"setRepeat",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.albedo&&this.selectedMaterial.albedo.repeat.set(e,t),et.render()}},{key:"getRepeat",value:function(){if(this.selectedMaterial&&this.selectedMaterial.albedo)return this.selectedMaterial.albedo.repeat}},{key:"setRotation",value:function(e){this.selectedMaterial&&this.selectedMaterial.albedo&&(this.selectedMaterial.albedo.rotation=Math.PI/180*e),et.render()}},{key:"getRotation",value:function(){if(this.selectedMaterial&&this.selectedMaterial.albedo)return 180*this.selectedMaterial.albedo.rotation/Math.PI}},{key:"setOffset",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.albedo&&this.selectedMaterial.albedo.offset.set(e,t),et.render()}},{key:"getOffset",value:function(e){if(this.selectedMaterial&&this.selectedMaterial.albedo)return this.selectedMaterial.albedo.offset}},{key:"setAlbedoMap",value:function(e){this._applyParams("albedo",e,"map"),et.render()}},{key:"getAlbedoMap",value:function(){return this._getParams("albedo")}},{key:"clearAlbedoMap",value:function(){this.selectedMaterial&&(this.selectedMaterial.albedo=null,this.selectedMaterial.needsUpdate=!0,et.render())}},{key:"setAlbedoUV",value:function(e){this._applyParams("albedoUV",parseInt(e)),et.render()}},{key:"getAlbedoUV",value:function(){return Number(this._getParams("albedoUV"))}},{key:"setNormalMap",value:function(e){this._applyParams("normalMap",e,"map")}},{key:"getNormalMap",value:function(){return this._getParams("normalMap")}},{key:"setNormalScale",value:function(e){this._applyParams("normalScale",e)}},{key:"getNormalScale",value:function(){return this._getParams("normalScale")}},{key:"setNormalRepeat",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.normalMap&&this.selectedMaterial.normalMap.repeat.set(e,t),et.render()}},{key:"getNormalRepeat",value:function(){if(this.selectedMaterial&&this.selectedMaterial.normalMap)return this.selectedMaterial.normalMap.repeat}},{key:"setNormalRotation",value:function(e){this.selectedMaterial&&this.selectedMaterial.normalMap&&(this.selectedMaterial.normalMap.rotation=Math.PI/180*e),et.render()}},{key:"getNormalRotation",value:function(){if(this.selectedMaterial&&this.selectedMaterial.normalMap)return 180*this.selectedMaterial.normalMap.rotation/Math.PI}},{key:"setNormalOffset",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.normalMap&&this.selectedMaterial.normalMap.offset.set(e,t),et.render()}},{key:"getNormalOffset",value:function(e){if(this.selectedMaterial&&this.selectedMaterial.normalMap)return this.selectedMaterial.normalMap.offset}},{key:"setNormal2Map",value:function(e){this._applyParams("normalMap2",e,"map")}},{key:"getNormal2Map",value:function(){return this._getParams("normalMap2")}},{key:"setNormal2Scale",value:function(e){this._applyParams("normalScale2",e)}},{key:"getNormal2Scale",value:function(){return this._getParams("normalScale2")}},{key:"setNormal2Repeat",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.normalMap2&&this.selectedMaterial.normalMap2.repeat.set(e,t),et.render()}},{key:"getNormal2Repeat",value:function(){if(this.selectedMaterial&&this.selectedMaterial.normalMap2)return this.selectedMaterial.normalMap2.repeat}},{key:"setNormal2Rotation",value:function(e){this.selectedMaterial&&this.selectedMaterial.normalMap2&&(this.selectedMaterial.normalMap2.rotation=Math.PI/180*e),et.render()}},{key:"setSide",value:function(e){e<0||e>2||this._applyParams("side",e)}},{key:"getSide",value:function(){return this.selectedMaterial.side}},{key:"getNormal2Rotation",value:function(){if(this.selectedMaterial&&this.selectedMaterial.normalMap2)return 180*this.selectedMaterial.normalMap2.rotation/Math.PI}},{key:"setNormal2Offset",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.normalMap2&&this.selectedMaterial.normalMap2.offset.set(e,t),et.render()}},{key:"getNormal2Offset",value:function(e){if(this.selectedMaterial&&this.selectedMaterial.normalMap2)return this.selectedMaterial.normalMap2.offset}},{key:"setMetallicMap",value:function(e){this._applyParams("metallicMap",e,"map")}},{key:"setMetallicRepeat",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.metallicMap&&this.selectedMaterial.metallicMap.repeat.set(e,t),et.render()}},{key:"getMetallicRepeat",value:function(){if(this.selectedMaterial&&this.selectedMaterial.metallicMap)return this.selectedMaterial.metallicMap.repeat}},{key:"setMetallicRotation",value:function(e){this.selectedMaterial&&this.selectedMaterial.metallicMap&&(this.selectedMaterial.metallicMap.rotation=Math.PI/180*e),et.render()}},{key:"getMetallicRotation",value:function(){if(this.selectedMaterial&&this.selectedMaterial.metallicMap)return 180*this.selectedMaterial.metallicMap.rotation/Math.PI}},{key:"setMetallicOffset",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.metallicMap&&this.selectedMaterial.metallicMap.offset.set(e,t),et.render()}},{key:"getMetallicOffset",value:function(e){this.selectedMaterial&&this.selectedMaterial.metallicMap&&this.selectedMaterial.metallicMap.offset}},{key:"setMetallic",value:function(e){this._applyParams("metallic",e)}},{key:"getMetallic",value:function(){return this._getParams("metallic")}},{key:"setRoughnessMap",value:function(e){this._applyParams("roughnessMap",e,"map")}},{key:"setRoughnessRepeat",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.roughnessMap&&this.selectedMaterial.roughnessMap.repeat.set(e,t),et.render()}},{key:"getRoughnessRepeat",value:function(){if(this.selectedMaterial&&this.selectedMaterial.roughnessMap)return this.selectedMaterial.roughnessMap.repeat}},{key:"setRoughnessRotation",value:function(e){this.selectedMaterial&&this.selectedMaterial.roughnessMap&&(this.selectedMaterial.roughnessMap.rotation=Math.PI/180*e),et.render()}},{key:"getRoughnessRotation",value:function(){if(this.selectedMaterial&&this.selectedMaterial.roughnessMap)return 180*this.selectedMaterial.roughnessMap.rotation/Math.PI}},{key:"setRoughnessOffset",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.roughnessMap&&this.selectedMaterial.roughnessMap.offset.set(e,t),et.render()}},{key:"getRoughnessOffset",value:function(e){this.selectedMaterial&&this.selectedMaterial.roughnessMap&&this.selectedMaterial.roughnessMap.offset}},{key:"setSmoothness",value:function(e){this._applyParams("smoothness",e)}},{key:"getSmoothness",value:function(){return this._getParams("smoothness")}},{key:"setAOMap",value:function(e,t){this._applyParams("aoMap",e,"map")}},{key:"clearAOMap",value:function(){this.selectedMaterial?(this.selectedMaterial.aoMap=null,this.selectedMaterial.needsUpdate=!0,et.render()):this.onError("未选择材质对象")}},{key:"getAOMap",value:function(){return this._getParams("aoMap")}},{key:"setAORepeat",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.aoMap&&this.selectedMaterial.aoMap.repeat.set(e,t),et.render()}},{key:"getAORepeat",value:function(){if(this.selectedMaterial&&this.selectedMaterial.aoMap)return this.selectedMaterial.aoMap.repeat}},{key:"setAORotation",value:function(e){this.selectedMaterial&&this.selectedMaterial.aoMap&&(this.selectedMaterial.aoMap.rotation=Math.PI/180*e),et.render()}},{key:"getAORotation",value:function(){if(this.selectedMaterial&&this.selectedMaterial.aoMap)return 180*this.selectedMaterial.aoMap.rotation/Math.PI}},{key:"setAOOffset",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.aoMap&&this.selectedMaterial.aoMap.offset.set(e,t),et.render()}},{key:"getAOOffset",value:function(e){if(this.selectedMaterial&&this.selectedMaterial.aoMap)return this.selectedMaterial.aoMap.offset}},{key:"setAOScale",value:function(e){this._applyParams("aoScale",e)}},{key:"getAOScale",value:function(){return this._getParams("aoScale")}},{key:"setAOUV",value:function(e){this._applyParams("aoUV",parseInt(e))}},{key:"getAOUV",value:function(){return this._getParams("aoUV")}},{key:"setEmissiveMap",value:function(e){this._applyParams("emissiveMap",e,"map")}},{key:"setEmissiveRepeat",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.emissiveMap&&this.selectedMaterial.emissiveMap.repeat.set(e,t),et.render()}},{key:"getEmissiveRepeat",value:function(){if(this.selectedMaterial&&this.selectedMaterial.emissiveMap)return this.selectedMaterial.emissiveMap.repeat}},{key:"setEmissiveRotation",value:function(e){this.selectedMaterial&&this.selectedMaterial.emissiveMap&&(this.selectedMaterial.emissiveMap.rotation=Math.PI/180*e),et.render()}},{key:"getEmissiveRotation",value:function(){if(this.selectedMaterial&&this.selectedMaterial.emissiveMap)return 180*this.selectedMaterial.emissiveMap.rotation/Math.PI}},{key:"setEmissiveOffset",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.emissiveMap&&this.selectedMaterial.emissiveMap.offset.set(e,t),et.render()}},{key:"getEmissiveOffset",value:function(e){if(this.selectedMaterial&&this.selectedMaterial.emissiveMap)return this.selectedMaterial.emissiveMap.offset}},{key:"setEmissiveColor",value:function(e){this._applyParams("emissive",e,"color")}},{key:"getEmissiveColor",value:function(){return this._getParams("emissive")}},{key:"setEmissiveUV",value:function(e){this._applyParams("emissiveUV",e)}},{key:"getEmissiveUV",value:function(){return this._getParams("emissiveUV")}},{key:"setReflectMap",value:function(e){this._applyParams("reflectMap",e,"map")}},{key:"setReflectMapRotation",value:function(e){this._applyParams("reflectRotateY",Math.PI/180*e)}},{key:"getReflectMapRotation",value:function(){if(this.selectedMaterial)return 180*this.selectedMaterial.reflectRotateY/Math.PI}},{key:"setReflectRepeat",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.reflectMap&&this.selectedMaterial.reflectMap.repeat.set(e,t),et.render()}},{key:"getReflectRepeat",value:function(){if(this.selectedMaterial&&this.selectedMaterial.reflectMap)return this.selectedMaterial.reflectMap.repeat}},{key:"setReflectRotation",value:function(e){this.selectedMaterial&&this.selectedMaterial.reflectMap&&(this.selectedMaterial.reflectMap.rotation=Math.PI/180*e),et.render()}},{key:"getReflectRotation",value:function(){if(this.selectedMaterial&&this.selectedMaterial.reflectMap)return 180*this.selectedMaterial.reflectMap.rotation/Math.PI}},{key:"setReflectOffset",value:function(e,t){this.selectedMaterial&&this.selectedMaterial.reflectMap&&this.selectedMaterial.reflectMap.offset.set(e,t),et.render()}},{key:"getReflectOffset",value:function(e){if(this.selectedMaterial&&this.selectedMaterial.reflectMap)return this.selectedMaterial.reflectMap.offset}},{key:"setReflectIntensity",value:function(e){this._applyParams("reflectIntensity",e)}},{key:"getReflectIntensity",value:function(){return this._getParams("reflectIntensity")}},{key:"setEnvMap",value:function(e){this._applyParams("envMap",e,"map")}},{key:"getEnvMap",value:function(){return this._getParams("envMap")}},{key:"setEnvMapRotation",value:function(e){this._applyParams("envRotateY",Math.PI/180*e)}},{key:"getEnvMapRotation",value:function(){if(this.selectedMaterial)return 180*this.selectedMaterial.envRotateY/Math.PI}},{key:"setEnvMapIntensity",value:function(e){this._applyParams("envMapIntensity",e)}},{key:"getEnvMapIntensity",value:function(){return this._getParams("envMapIntensity")}},{key:"setReflectivity",value:function(e){this._applyParams("reflectivity",e)}},{key:"getReflectivity",value:function(){return this._getParams("reflectivity")}},{key:"setRefractionRatio",value:function(e){this._applyParams("refractionRatio",e)}},{key:"getRefractionRatio",value:function(){return this._getParams("refractionRatio")}},{key:"setTransparency",value:function(e){this._applyParams("transparency",e),this._updateTransparent()}},{key:"_updateTransparent",value:function(){this.selectedMaterial&&(this.selectedMaterial.opacity<1||this.selectedMaterial.transparency>0?this.selectedMaterial.transparent=!0:1==this.selectedMaterial.opacity&&0==this.selectedMaterial.transparency&&(this.selectedMaterial.transparent=!1))}},{key:"getTransparency",value:function(){return this._getParams("transparency")}},{key:"setOpacity",value:function(e){this._applyParams("opacity",e),this._updateTransparent()}},{key:"getOpacity",value:function(){return this._getParams("opacity")}},{key:"setTransparent",value:function(e){this._applyParams("transparent",Boolean(e))}},{key:"getTransparent",value:function(){return this._getParams("transparent")}},{key:"getAlphaTest",value:function(){return this._getParams("alphaTest")}},{key:"setAlphaTest",value:function(e){this._applyParams("alphaTest",e)}},{key:"getRetainMap",value:function(){if(this.selectedMaterial)return this.selectedMaterial.retainMap}},{key:"setRetainMap",value:function(e){if(this.selectedMaterial)return this.selectedMaterial.retainMap=e}},{key:"setRenderOrder",value:function(e){this.selectedMaterial&&(this._updateRenderOrderByMaterial(this.selectedMaterial,e),this.selectedMaterial.renderOrder=e,et.render())}},{key:"getRenderOrder",value:function(){if(this.selected)return this.selected.renderOrder}},{key:"_getMeshByMaterial",value:function(e){var t=[];return this._objects.forEach((function(n){var r=n.material;(Array.isArray(r)?r:[r]).forEach((function(r){r==e&&t.push(n)}))})),t}},{key:"_replaceMaterial",value:function(e,t){this._objects.forEach((function(n){var r=n.material;if(void 0===n.material0&&(n.material0=n.material),Array.isArray(r)){for(var i=[],a=0;a<r.length;a++)r[a]==e?(i.push(t),n.renderOrder=t.renderOrder):i.push(r[a]);n.material=i}else r==e&&(n.material=t,n.renderOrder=t.renderOrder)}))}},{key:"_updateRenderOrderByMaterial",value:function(e,t){e&&(this._getMeshByMaterial(this.selectedMaterial).forEach((function(e){e.renderOrder=t})),et.render())}},{key:"_applyParams",value:function(e,t,n){var r=this;if(this.selectedMaterial){if(this._cacheMaterials[this.selectedMaterial.name]||(this._cacheMaterials[this.selectedMaterial.name]=this.selectedMaterial.clone()),"map"===n){var i=this.selectedMaterial[e];if(void 0===this.selectedMaterial[e+"0"]&&(this.selectedMaterial[e+"0"]=i||null),t){var a=t;t=rd.load(t,(function(t){"reflectMap"!==e&&"envMap"!==e||((t=rd.convertTexture(t)).image.src=a,r.selectedMaterial[e]=t,r.selectedMaterial.needsUpdate=!0,et.render())})),"envMap"===e?t.custom=!0:t.wrapS=t.wrapT=1e3}else t=this.selectedMaterial[e+"0"];this.selectedMaterial[e]=t}else"color"===n?this.selectedMaterial[e].setStyle(t):this.selectedMaterial[e]=t;this.selectedMaterial.needsUpdate=!0,et.render()}else this.onError("未选择材质对象"),console.error("未选择材质对象")}},{key:"_getParams",value:function(e){if(this.selectedMaterial)return this.selectedMaterial[e]&&this.selectedMaterial[e].constructor===bn?"#"+this.selectedMaterial[e].getHexString():this.selectedMaterial[e]&&this.selectedMaterial[e].constructor===nt?this.selectedMaterial[e].image.currentSrc||this.selectedMaterial[e].image.src:this.selectedMaterial[e];this.onError("未选择材质对象"),console.error("未选择材质对象")}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.selectedMaterial){et.render(),this._cacheMaterials[this.selectedMaterial.name]||(this._cacheMaterials[this.selectedMaterial.name]=this.selectedMaterial.clone());var n,r=e.params.allParams;for(var i in r.transparent=e.transparent,this._materials.length>100?n=e.lod0:this._materials.length>10?n=e.lod1:this._materials.length<=10&&(n=e.lod2),n)r[i]=n[i];var a=fp.parserSingle(r,this.selectedMaterial,t,this.viewer);this._replaceMaterial(this.selectedMaterial,a),this._dispose(this.selectedMaterial),this.selectedMaterial=a,this.selectedMaterial.needsUpdate=!0,this.dispatchEvent(Ye.CHANGE,this.selectedMaterial),this.onChange&&this.onChange(this.selectedMaterial)}else this.onError("未选择材质对象"),console.error("未选择材质对象")}},{key:"restore",value:function(){var e=this;if(this.selectedMaterial){et.render();var t=this._cacheMaterials[this.selectedMaterial.name];if(t)t.envMap=this.selectedMaterial.envMap,this._cacheMaterials[this.selectedMaterial.name]=t.clone(),this._getMeshByMaterial(this.selectedMaterial).forEach((function(n){if(Array.isArray(n.material))for(var r=0;r<n.material.length;r++)n.material[r]==e.selectedMaterial&&(n.material[r]=t);else n.material==e.selectedMaterial&&(n.material=t)})),this.selectedMaterial=t}}},{key:"saveToJSON",value:function(){var e=this,t={},n=[],r=0;this.getAllMaterials(),this._materials.forEach((function(i){var a,A={a:i.name,b:i.color.toArray(),d:i.emissive.toArray(),e:i.aoScale,g:i.smoothness,h:i.metallic,i:i.normalScale,j:i.opacity,gg:i.transparency,hh:i.alphaTest,ii:i.reflectIntensity,jj:i.retainMap,kk:i.renderOrder,ee:i.sname,useDefault:i.useDefault,transparent:i.transparent,si:i.side,jr:i.reflectivity,lw:i.wireframe,os:i.skinning,pv:i.vertexTangents,qn:i.normalMapType,rm:i.morphTargets};(i.albedo&&(A.t=i.albedo.repeat.toArray(),A.x=i.albedo.offset.toArray(),A.ff=i.albedo.rotation,A.ad=i.albedoUV,i.albedo.image&&(A.c=r,t[r]=i.albedo.image.src,r++)),i.normalMap&&(A.u=i.normalMap.repeat.toArray(),A.mm=i.normalMap.offset.toArray(),A.nn=i.normalMap.rotation,i.normalMap.image&&(A.q=r,t[r]=i.normalMap.image.src,r++)),i.normalMap2&&(A.cb=i.normalMap2.repeat.toArray(),A.cg=i.normalMap2.offset.toArray(),A.cn=i.normalMap2.rotation,A.ca=i.normalMap2.normalScale2,i.normalMap2.image&&(A.cf=r,t[r]=i.normalMap2.image.src,r++)),i.aoMap&&(A.v=i.aoMap.repeat.toArray(),A.oo=i.aoMap.offset.toArray(),A.ss=i.aoMap.rotation,A.fd=i.aoUV,i.aoMap.image&&(A.r=r,t[r]=i.aoMap.image.src,r++)),i.metallicMap&&(A.bb=i.metallicMap.repeat.toArray(),A.pp=i.metallicMap.offset.toArray(),A.tt=i.metallicMap.rotation,i.metallicMap.image&&(A.y=r,t[r]=i.metallicMap.image.src,r++)),i.roughnessMap&&(A.cc=i.roughnessMap.repeat.toArray(),A.qq=i.roughnessMap.offset.toArray(),A.uu=i.roughnessMap.rotation,i.roughnessMap.image&&(A.z=r,t[r]=i.roughnessMap.image.src,r++)),i.emissiveMap&&(A.dd=i.emissiveMap.repeat.toArray(),A.rr=i.emissiveMap.offset.toArray(),A.vv=i.emissiveMap.rotation,A.gd=i.emissiveUV,i.emissiveMap.image&&(A.aa=r,t[r]=i.emissiveMap.image.src,r++)),i.reflectMap&&i.reflectMap.image&&(A.yy=i.reflectRotateY,A.ll=r,t[r]=i.reflectMap.image.src,r++),i.envMap&&i.envMap!=e.model.envMap)&&(A.xx=i.envRotateY,A.ww=r,a=i.envMap.image.src?i.envMap.image.src:i.envMap.image.map((function(e){return e.src})),t[r]=a,r++);n.push(A)}));var i={};this._objects.map((function(e){e.overMaterial&&e.overMaterial.map((function(t){var n=e.material[t].name;i[n]||(i[n]=[]),i[n].push({a:e.ID,b:t})}))}));var a={a:n,b:t,c:i,ed:!0};return JSON.stringify(a)}},{key:"_restSelections",value:function(){for(var e=0;e<this._selectionGroup.children.length;e++){var t=this._selectionGroup.children[e];t.parent&&t.parent.remove(t),t.material.dispose(),t.geometry.dispose(),e--}}},{key:"_updateMesh",value:function(e){}},{key:"_dispose",value:function(e){e&&(e.reflectMap&&e.reflectMap.dispose(),e.metallicMap&&e.metallicMap.dispose(),e.emissiveMap&&e.emissiveMap.dispose(),e.roughnessMap&&e.roughnessMap.dispose(),e.aoMap&&e.aoMap.dispose(),e.normalMap&&e.normalMap.dispose(),e.normalMap2&&e.normalMap2.dispose(),e.dispose())}}]),n}(Cd);function mp(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function vp(e){Ds.call(this,e),this.root=void 0}function yp(e){if(e.sc&&e.sc.length>0){void 0===e.cid&&(e.cid=[]);for(var t=0;t<e.sc.length;t++)e.sc[t].pid=e.id,e.cid.push(e.sc[t].id);for(var n=0;n<e.sc.length;n++)yp(e.sc[n])}}function wp(e,t){if(e.sc&&e.sc.length>0)for(var n=0;n<e.sc.length;n++)t(e.sc[n]),wp(e.sc[n],t)}Object.assign(mp.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},cross:function(e){return void 0!==w?this.crossVectors(e,w):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,A=t.y,o=t.z;return this.x=r*o-i*A,this.y=i*a-n*o,this.z=n*A-r*a,this},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}}),vp.prototype=Object.assign(Object.create(Ds.prototype),{constructor:vp,load:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new Hs(this.manager);a.setResponseType("json");var A=this;a.load(e,(function(e){A.data=e;var n=A.parse(i);t(n)}),n,r)},isInBox:function(e,t,n,r,i,a){return!(e<n||e>i||t<r||t>a)},parse:function(e){for(var t=[],n=this.data,r=0,i=0,a=0,A=0,o=0;o<n.length;o++)0===n[o].b&&n[o].d&&Array.isArray(n[o].d)&&(r+=n[o].d[0],i+=n[o].d[1],a+=n[o].d[2],A++);r/=A,i/=A,a/=A;for(var s=0;s<n.length;s++){var l=(new mp).fromArray(n[s].d);l.y-=i;var c=new _e(n[s].x,n[s].z),u=(new _e).setScalar(n[s].e);e||this.root.localToWorld(l);var h=new Kt(l,n[s].c);h.id=s,h.acfi=n[s].a,h.acfl=n[s].b,h.ec=c,h.e=(new Pc).setFromCenterAndSize(c,u),h.sc=[],void 0===t[h.acfl]&&(t[h.acfl]=[]),t[h.acfl].push(h)}for(var d=[],p=0,f=t[0].length;p<f;p++)d.push(t[0][p]);var g=d.length;if(t.length>1)for(var m=1;m<t.length;m++)for(var v=0,y=t[m].length;v<y;v++){for(var w=m-1,B=0,x=d;B<=w;){if(0==B){for(var b=0;b<g;b++)if(d[b].e.containsPoint(t[m][v].ec)){x=d[b];break}}else for(var C=0,M=x.sc.length;C<M;C++)if(x.sc[C].e.containsPoint(t[m][v].ec)){x=x.sc[C];break}B++}x.sc.push(t[m][v])}for(var E=0;E<g;E++)yp(d[E]);for(var I=[],T=0;T<g;T++)I[d[T].id]=d[T],wp(d[T],(function(e){I[e.id]=e}));for(var S=0,F=I.length;S<F;S++)delete I[S].sc,delete I[S].e,delete I[S].ec;return{levels:I,center:{x:r,y:i,z:a}}}});var Bp={wheeltime:0,WHEELMAX:300,initLevelDetect:function(e,t){Bp.detect=t,e.addEventListener("wheel",(function(e){e.preventDefault(),Bp.wheeltime=Date.now(),setTimeout((function(){Date.now()-Bp.wheeltime>=Bp.WHEELMAX&&t()}),Bp.WHEELMAX)}),!1),e.addEventListener("mouseup",(function(e){e.preventDefault(),Bp.detect(),t()}),!1),e.addEventListener("touchend",(function(e){e.preventDefault(),t()}),!1)}},xp=function(e){this.camera=e,this.focusLevels=function(e){for(var t=0,n=0,r=0,i=0,a=0,A=0,o=0,s=0,l=1e-6,c=0;c<e.length;c++)l+=e[c].center.y,0===c?(t=e[c].center.x,n=e[c].center.x,r=e[c].center.z,i=e[c].center.z,a=e[c].radius,A=e[c].radius,o=e[c].radius,s=e[c].radius):(e[c].center.x<t?(t=e[c].center.x,a=e[c].radius):e[c].center.x>n&&(n=e[c].center.x,A=e[c].radius),e[c].center.z<i?(i=e[c].center.z,s=e[c].radius):e[c].center.z>r&&(r=e[c].center.z,o=e[c].radius));var u=new Ve(t-a,l/=e.length,i-s),h=new Ve(n+A,l,r+o),d=new Ve((u.x+h.x)/2,l,(u.z+h.z)/2),p=Math.abs(u.x-h.x),f=Math.abs(u.z-h.z),g=Math.tan(Math.PI/180*.5*this.camera.fov),m=f/2/g,v=p/this.camera.aspect/2/g,y=(new Ve).copy(d);return y.y+=m>v?m:v,this.camera.position.copy(y),this.camera.lookAt(d),this.camera.updateProjectionMatrix(),d},this.focusSimple=function(){return this.camera.position.copy(new Ve(0,1e3,0)),this.camera.lookAt(new Ve),this.camera.updateProjectionMatrix(),new Ve}},bp=Bd("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCWZ1bmN0aW9uIFZlY3RvcjMoeCwgeSwgeikgewoJICB0aGlzLnggPSB4IHx8IDA7CgkgIHRoaXMueSA9IHkgfHwgMDsKCSAgdGhpcy56ID0geiB8fCAwOwoJfQoKCU9iamVjdC5hc3NpZ24oVmVjdG9yMy5wcm90b3R5cGUsIHsKCSAgaXNWZWN0b3IzOiB0cnVlLAoJICBzZXQ6IGZ1bmN0aW9uIHNldCh4LCB5LCB6KSB7CgkgICAgdGhpcy54ID0geDsKCSAgICB0aGlzLnkgPSB5OwoJICAgIHRoaXMueiA9IHo7CgkgICAgcmV0dXJuIHRoaXM7CgkgIH0sCgkgIGNvcHk6IGZ1bmN0aW9uIGNvcHkodikgewoJICAgIHRoaXMueCA9IHYueDsKCSAgICB0aGlzLnkgPSB2Lnk7CgkgICAgdGhpcy56ID0gdi56OwoJICAgIHJldHVybiB0aGlzOwoJICB9LAoJICBkb3Q6IGZ1bmN0aW9uIGRvdCh2KSB7CgkgICAgcmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueSArIHRoaXMueiAqIHYuejsKCSAgfSwKCSAgbGVuZ3RoU3E6IGZ1bmN0aW9uIGxlbmd0aFNxKCkgewoJICAgIHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLno7CgkgIH0sCgkgIGxlbmd0aDogZnVuY3Rpb24gbGVuZ3RoKCkgewoJICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56KTsKCSAgfSwKCSAgbWFuaGF0dGFuTGVuZ3RoOiBmdW5jdGlvbiBtYW5oYXR0YW5MZW5ndGgoKSB7CgkgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMueCkgKyBNYXRoLmFicyh0aGlzLnkpICsgTWF0aC5hYnModGhpcy56KTsKCSAgfSwKCSAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUoKSB7CgkgICAgcmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCkgfHwgMSk7CgkgIH0sCgkgIGNyb3NzOiBmdW5jdGlvbiBjcm9zcyh2KSB7CgkgICAgaWYgKHcgIT09IHVuZGVmaW5lZCkgewoJICAgICAgcmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKHYsIHcpOwoJICAgIH0KCgkgICAgcmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKHRoaXMsIHYpOwoJICB9LAoJICBjcm9zc1ZlY3RvcnM6IGZ1bmN0aW9uIGNyb3NzVmVjdG9ycyhhLCBiKSB7CgkgICAgdmFyIGF4ID0gYS54LAoJICAgICAgICBheSA9IGEueSwKCSAgICAgICAgYXogPSBhLno7CgkgICAgdmFyIGJ4ID0gYi54LAoJICAgICAgICBieSA9IGIueSwKCSAgICAgICAgYnogPSBiLno7CgkgICAgdGhpcy54ID0gYXkgKiBieiAtIGF6ICogYnk7CgkgICAgdGhpcy55ID0gYXogKiBieCAtIGF4ICogYno7CgkgICAgdGhpcy56ID0gYXggKiBieSAtIGF5ICogYng7CgkgICAgcmV0dXJuIHRoaXM7CgkgIH0sCgkgIGRpc3RhbmNlVG86IGZ1bmN0aW9uIGRpc3RhbmNlVG8odikgewoJICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZCh2KSk7CgkgIH0sCgkgIGRpc3RhbmNlVG9TcXVhcmVkOiBmdW5jdGlvbiBkaXN0YW5jZVRvU3F1YXJlZCh2KSB7CgkgICAgdmFyIGR4ID0gdGhpcy54IC0gdi54LAoJICAgICAgICBkeSA9IHRoaXMueSAtIHYueSwKCSAgICAgICAgZHogPSB0aGlzLnogLSB2Lno7CgkgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5ICsgZHogKiBkejsKCSAgfSwKCSAgbWFuaGF0dGFuRGlzdGFuY2VUbzogZnVuY3Rpb24gbWFuaGF0dGFuRGlzdGFuY2VUbyh2KSB7CgkgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMueCAtIHYueCkgKyBNYXRoLmFicyh0aGlzLnkgLSB2LnkpICsgTWF0aC5hYnModGhpcy56IC0gdi56KTsKCSAgfSwKCSAgZnJvbUFycmF5OiBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXkpIHsKCSAgICB0aGlzLnggPSBhcnJheVswXTsKCSAgICB0aGlzLnkgPSBhcnJheVsxXTsKCSAgICB0aGlzLnogPSBhcnJheVsyXTsKCSAgICByZXR1cm4gdGhpczsKCSAgfSwKCSAgYXBwbHlNYXRyaXg0OiBmdW5jdGlvbiBhcHBseU1hdHJpeDQobSkgewoJICAgIHZhciB4ID0gdGhpcy54LAoJICAgICAgICB5ID0gdGhpcy55LAoJICAgICAgICB6ID0gdGhpcy56OwoJICAgIHZhciBlID0gbS5lbGVtZW50czsKCSAgICB2YXIgdyA9IDEgLyAoZVszXSAqIHggKyBlWzddICogeSArIGVbMTFdICogeiArIGVbMTVdKTsKCSAgICB0aGlzLnggPSAoZVswXSAqIHggKyBlWzRdICogeSArIGVbOF0gKiB6ICsgZVsxMl0pICogdzsKCSAgICB0aGlzLnkgPSAoZVsxXSAqIHggKyBlWzVdICogeSArIGVbOV0gKiB6ICsgZVsxM10pICogdzsKCSAgICB0aGlzLnogPSAoZVsyXSAqIHggKyBlWzZdICogeSArIGVbMTBdICogeiArIGVbMTRdKSAqIHc7CgkgICAgcmV0dXJuIHRoaXM7CgkgIH0KCX0pOwoKCWZ1bmN0aW9uIFBsYW5lKCkgewoJICB0aGlzLm5vcm1hbCA9IG5ldyBWZWN0b3IzKDEsIDAsIDApOwoJICB0aGlzLmNvbnN0YW50ID0gMDsKCX0KCglPYmplY3QuYXNzaWduKFBsYW5lLnByb3RvdHlwZSwgewoJICBzZXQ6IGZ1bmN0aW9uIHNldChub3JtYWwsIGNvbnN0YW50KSB7CgkgICAgdGhpcy5ub3JtYWwuZnJvbUFycmF5KG5vcm1hbCk7CgkgICAgdGhpcy5jb25zdGFudCA9IGNvbnN0YW50OwoJICAgIHJldHVybiB0aGlzOwoJICB9LAoJICBkaXN0YW5jZVRvUG9pbnQ6IGZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludChwb2ludCkgewoJICAgIHJldHVybiB0aGlzLm5vcm1hbC5kb3QocG9pbnQpICsgdGhpcy5jb25zdGFudDsKCSAgfSwKCSAgZGlzdGFuY2VUb1NwaGVyZTogZnVuY3Rpb24gZGlzdGFuY2VUb1NwaGVyZShzcGhlcmUpIHsKCSAgICByZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQoc3BoZXJlLmNlbnRlcikgLSBzcGhlcmUucmFkaXVzOwoJICB9LAoJICBpbnRlcnNlY3RzU3BoZXJlOiBmdW5jdGlvbiBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSkgewoJICAgIHJldHVybiBzcGhlcmUuaW50ZXJzZWN0c1BsYW5lKHRoaXMpOwoJICB9Cgl9KTsKCglmdW5jdGlvbiBGcnVzdHVtKCkgewoJICB0aGlzLnBsYW5lcyA9IFtuZXcgUGxhbmUoKSwgbmV3IFBsYW5lKCksIG5ldyBQbGFuZSgpLCBuZXcgUGxhbmUoKSwgbmV3IFBsYW5lKCksIG5ldyBQbGFuZSgpXTsKCX0KCglPYmplY3QuYXNzaWduKEZydXN0dW0ucHJvdG90eXBlLCB7CgkgIGludGVyc2VjdHNTcGhlcmU6IGZ1bmN0aW9uIGludGVyc2VjdHNTcGhlcmUoc3BoZXJlKSB7CgkgICAgdmFyIHBsYW5lcyA9IHRoaXMucGxhbmVzOwoJICAgIHZhciBjZW50ZXIgPSBzcGhlcmUuY2VudGVyOwoJICAgIHZhciBuZWdSYWRpdXMgPSAtc3BoZXJlLnJhZGl1czsKCgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHsKCSAgICAgIHZhciBkaXN0YW5jZSA9IHBsYW5lc1tpXS5kaXN0YW5jZVRvUG9pbnQoY2VudGVyKTsKCgkgICAgICBpZiAoZGlzdGFuY2UgPCBuZWdSYWRpdXMpIHsKCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgfQoJICAgIH0KCgkgICAgcmV0dXJuIHRydWU7CgkgIH0KCX0pOwoKCWZ1bmN0aW9uIHNvcnRCeURpcyhhLCBiKSB7CgkgIHJldHVybiBiLmQgLSBhLmQ7Cgl9CgoJdmFyIHJycnIgPSBbXTsKCXZhciBsZXZlbHM7Cgl2YXIgRF9MRVZFTFMgPSBbNTAwLCAyMDAsIDEwMCwgLUluZmluaXR5XTsKCXZhciBVX0xFVkVMUyA9IFtJbmZpbml0eSwgNTAwLCAyMDAsIDEwMF07IC8v5paw5aKe77yI5pyA5aSn57qn5Yir5Yik5pat6Zeu6aKY77yJLS3lvIDlp4sKCgl2YXIgZF9sYXN0ID0gRF9MRVZFTFMubGVuZ3RoIC0gMTsKCXZhciBtYXhfbGV2ZWwgPSAwOyAvL+aWsOWinu+8iOacgOWkp+e6p+WIq+WIpOaWremXrumimO+8iS0t57uT5p2fCgoJdmFyIHYxID0gbmV3IFZlY3RvcjMoKTsKCglmdW5jdGlvbiBmaW5kU3ViQ2h1bmsoZiwgdCwgY3AsIGMpIHsKCSAgLy/kuI3lpITnkIbop4bph47lpJbnmoTlv6sKCSAgaWYgKGYuaW50ZXJzZWN0c1NwaGVyZSh0KSkgewoJICAgIHYxLmNvcHkodC5jZW50ZXIpOwoJICAgIHYxLnkgKz0gYy55OwoJICAgIHZhciBkaXMgPSBjcC5kaXN0YW5jZVRvKHYxKTsgLy/mlrDlop7vvIjmnIDlpKfnuqfliKvliKTmlq3pl67popjvvIktLeW8gOWniwoKCSAgICB2YXIgZF9sID0gdC5hY2ZsOwoJICAgIGlmIChkX2wgPT0gbWF4X2xldmVsKSBkX2wgPSBkX2xhc3Q7IC8v5paw5aKe77yI5pyA5aSn57qn5Yir5Yik5pat6Zeu6aKY77yJLS3nu5PmnZ8KCgkgICAgaWYgKGRpcyA+IFVfTEVWRUxTW3QuYWNmbF0pIHsKCSAgICAgIC8v5peg5pWI5Z2XCgkgICAgICBpZiAodC5hY2ZsID4gMCkgewoJICAgICAgICB2MS5jb3B5KGxldmVsc1t0LnBpZF0uY2VudGVyKTsKCSAgICAgICAgdjEueSArPSBjLnk7CgoJICAgICAgICBpZiAoY3AuZGlzdGFuY2VUbyh2MSkgPD0gRF9MRVZFTFNbdC5hY2ZsIC0gMV0pIHsKCSAgICAgICAgICB2YXIgcmUgPSB7fTsKCSAgICAgICAgICByZS5pID0gdC5hY2ZpOwoJICAgICAgICAgIHJlLmwgPSB0LmFjZmw7CgkgICAgICAgICAgcmUucCA9IHQucGlkOwoJICAgICAgICAgIHJlLmMgPSB0LmNpZDsKCSAgICAgICAgICByZS5kID0gZGlzOwoJICAgICAgICAgIHJlLnYgPSB0LmlkOwoJICAgICAgICAgIHJycnIucHVzaChyZSk7CgkgICAgICAgIH0KCSAgICAgIH0gLy/kv67mlLnvvIjmnIDlpKfnuqfliKvliKTmlq3pl67popjvvIktLeW8gOWniwoKCSAgICB9IGVsc2UgaWYgKGRpcyA8PSBEX0xFVkVMU1tkX2xdKSB7CgkgICAgICAvL+S/ruaUue+8iOacgOWkp+e6p+WIq+WIpOaWremXrumimO+8iS0t57uT5p2fCgkgICAgICAvL+afpeaJvuWtkOWdlwoJICAgICAgaWYgKHQuY2lkKSB7CgkgICAgICAgIGZvciAodmFyIHRpID0gMCwgdGMgPSB0LmNpZC5sZW5ndGg7IHRpIDwgdGM7IHRpKyspIHsKCSAgICAgICAgICBmaW5kU3ViQ2h1bmsoZiwgbGV2ZWxzW3QuY2lkW3RpXV0sIGNwLCBjKTsKCSAgICAgICAgfQoJICAgICAgfQoJICAgIH0gZWxzZSB7CgkgICAgICAvL+acieaViOWdlwoJICAgICAgdmFyIHJlID0ge307CgkgICAgICByZS5pID0gdC5hY2ZpOwoJICAgICAgcmUubCA9IHQuYWNmbDsKCSAgICAgIHJlLnAgPSB0LnBpZDsKCSAgICAgIHJlLmMgPSB0LmNpZDsKCSAgICAgIHJlLmQgPSBkaXM7CgkgICAgICByZS52ID0gdC5pZDsKCSAgICAgIHJycnIucHVzaChyZSk7CgkgICAgfQoJICB9Cgl9CgoJZnVuY3Rpb24gTENEZXRlY3QoKSB7CgkgIC8v57qn5Yir5Y+C5pWw77yM5a6e6ZmF6aG555uu5Lit5Y+v5Lul6Ieq55Sx6YWN572u77yM55uu5YmN5pSv5oyB5Yiw56ys5LiJ57qn5YirCgkgIHRoaXMuY3BvcyA9IG5ldyBWZWN0b3IzKCk7CgkgIHRoaXMuZnJ1c3R1bSA9IG5ldyBGcnVzdHVtKCk7CgkgIHRoaXMuY2VudGVyID0gbmV3IFZlY3RvcjMoKTsKCgkgIHRoaXMuc2V0TGV2ZWxzID0gZnVuY3Rpb24gKHRsZXZlbHMpIHsKCSAgICBsZXZlbHMgPSB0bGV2ZWxzOwoJICAgIHRoaXMuY291bnQgPSBsZXZlbHMubGVuZ3RoOwoJICAgIHRoaXMuYmFzZUxldmVscyA9IFtdOwoKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKykgewoJICAgICAgaWYgKGxldmVsc1tpXS5hY2ZsID09IDApIHsKCSAgICAgICAgdGhpcy5iYXNlTGV2ZWxzLnB1c2goaSk7CgkgICAgICB9IC8v5paw5aKe77yI5pyA5aSn57qn5Yir5Yik5pat6Zeu6aKY77yJLS3lvIDlp4sKCgoJICAgICAgaWYgKGxldmVsc1tpXS5hY2ZsID4gbWF4X2xldmVsKSBtYXhfbGV2ZWwgPSBsZXZlbHNbaV0uYWNmbDsgLy/mlrDlop7vvIjmnIDlpKfnuqfliKvliKTmlq3pl67popjvvIktLee7k+adnwoJICAgIH0KCgkgICAgdGhpcy5iYXNlTGV2ZWxzQ291bnQgPSB0aGlzLmJhc2VMZXZlbHMubGVuZ3RoOwoJICB9OwoKCSAgdGhpcy5zZXRDYW1lcmFQb3MgPSBmdW5jdGlvbiAoY3BvcykgewoJICAgIHRoaXMuY3Bvcy5mcm9tQXJyYXkoY3Bvcyk7CgkgIH07CgoJICB0aGlzLnNldEZydXN0dW0gPSBmdW5jdGlvbiAoZnJ1c3R1bVN0YXRlKSB7CgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHsKCSAgICAgIHZhciBiYXNlID0gaSAqIDQ7CgkgICAgICB0aGlzLmZydXN0dW0ucGxhbmVzW2ldLnNldChbZnJ1c3R1bVN0YXRlW2Jhc2VdLCBmcnVzdHVtU3RhdGVbYmFzZSArIDFdLCBmcnVzdHVtU3RhdGVbYmFzZSArIDJdXSwgZnJ1c3R1bVN0YXRlW2Jhc2UgKyAzXSk7CgkgICAgfQoJICB9OwoKCSAgdGhpcy5zZXRDb21wbGV0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewoJICAgIHRoaXMuY29tcGxldGUgPSBjYWxsYmFjazsKCSAgfTsKCgkgIHRoaXMuc2V0Q2VudGVyID0gZnVuY3Rpb24gKGNlbnRlcikgewoJICAgIHRoaXMuY2VudGVyLnNldChjZW50ZXIueCwgY2VudGVyLnksIGNlbnRlci56KTsKCSAgfTsKCgkgIHRoaXMuZGV0ZWN0ID0gZnVuY3Rpb24gKCkgewoJICAgIHJycnIgPSBbXTsKCgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhc2VMZXZlbHNDb3VudDsgaSsrKSB7CgkgICAgICBmaW5kU3ViQ2h1bmsodGhpcy5mcnVzdHVtLCBsZXZlbHNbdGhpcy5iYXNlTGV2ZWxzW2ldXSwgdGhpcy5jcG9zLCB0aGlzLmNlbnRlcik7CgkgICAgfQoKCSAgICBycnJyLnNvcnQoc29ydEJ5RGlzKTsKCgkgICAgaWYgKHRoaXMuY29tcGxldGUpIHsKCSAgICAgIHRoaXMuY29tcGxldGUocnJycik7CgkgICAgfQoKCSAgICBycnJyID0gbnVsbDsKCSAgfTsKCX0KCgl2YXIgZGV0ZWN0ID0gbmV3IExDRGV0ZWN0KCk7CglkZXRlY3Quc2V0Q29tcGxldGUoZnVuY3Rpb24gKHIpIHsKCSAgc2VsZi5wb3N0TWVzc2FnZShyKTsKCX0pOwoKCXNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2dCkgewoJICBzd2l0Y2ggKGV2dC5kYXRhLnR5cGUpIHsKCSAgICBjYXNlICJpbml0IjoKCSAgICAgIGRldGVjdC5zZXRMZXZlbHMoZXZ0LmRhdGEuZGF0YSk7CgkgICAgICBkZXRlY3Quc2V0Q2VudGVyKGV2dC5kYXRhLmNlbnRlcik7CgkgICAgICBicmVhazsKCgkgICAgY2FzZSAiZGV0ZWN0IjoKCSAgICAgIGRldGVjdC5zZXRDYW1lcmFQb3MoZXZ0LmRhdGEucG9zKTsKCSAgICAgIGRldGVjdC5zZXRGcnVzdHVtKGV2dC5kYXRhLnN0YXRlKTsKCSAgICAgIGRldGVjdC5kZXRlY3QoKTsKCSAgICAgIGV2dC5kYXRhLnBvcyA9IG51bGw7CgkgICAgICBldnQuZGF0YS5zdGF0ZSA9IG51bGw7CgkgICAgICBicmVhazsKCSAgfQoKCSAgZGVsZXRlIGV2dC5kYXRhOwoJfTsKCn0oKSk7Cgo=",null,!1),Cp=Bd("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBsb2FkaW5nJDEgPSB7fTsKCglmdW5jdGlvbiBGaWxlTG9hZGVyKCkge30KCglGaWxlTG9hZGVyLnByb3RvdHlwZSA9IE9iamVjdC5hc3NpZ24oRmlsZUxvYWRlci5wcm90b3R5cGUsIHsKCSAgY29uc3RydWN0b3I6IEZpbGVMb2FkZXIsCgkgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQodXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IpIHsKCSAgICBpZiAobG9hZGluZyQxW3VybF0gIT09IHVuZGVmaW5lZCkgewoJICAgICAgbG9hZGluZyQxW3VybF0ucHVzaCh7CgkgICAgICAgIG9uTG9hZDogb25Mb2FkLAoJICAgICAgICBvblByb2dyZXNzOiBvblByb2dyZXNzLAoJICAgICAgICBvbkVycm9yOiBvbkVycm9yCgkgICAgICB9KTsKCSAgICAgIHJldHVybjsKCSAgICB9CgoJICAgIGxvYWRpbmckMVt1cmxdID0gW107CgkgICAgbG9hZGluZyQxW3VybF0ucHVzaCh7CgkgICAgICBvbkxvYWQ6IG9uTG9hZCwKCSAgICAgIG9uUHJvZ3Jlc3M6IG9uUHJvZ3Jlc3MsCgkgICAgICBvbkVycm9yOiBvbkVycm9yCgkgICAgfSk7CgkgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCSAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7CgkgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7CgkgICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlOwoJICAgICAgdmFyIGNhbGxiYWNrcyA9IGxvYWRpbmckMVt1cmxdOwoJICAgICAgZGVsZXRlIGxvYWRpbmckMVt1cmxdOwoKCSAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwIHx8IHRoaXMuc3RhdHVzID09PSAwKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7CgkgICAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldOwoJICAgICAgICAgIGlmIChjYWxsYmFjay5vbkxvYWQpIGNhbGxiYWNrLm9uTG9hZChyZXNwb25zZSk7CgkgICAgICAgIH0KCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7CgkgICAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldOwoJICAgICAgICAgIGlmIChjYWxsYmFjay5vbkVycm9yKSBjYWxsYmFjay5vbkVycm9yKGV2ZW50KTsKCSAgICAgICAgfQoJICAgICAgfQoKCSAgICAgIHJlcXVlc3QuZW5kID0gdHJ1ZTsKCSAgICB9LCBmYWxzZSk7CgkgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGZ1bmN0aW9uIChldmVudCkgewoJICAgICAgdmFyIGNhbGxiYWNrcyA9IGxvYWRpbmckMVt1cmxdOwoKCSAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7CgkgICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXTsKCSAgICAgICAgaWYgKGNhbGxiYWNrLm9uUHJvZ3Jlc3MpIGNhbGxiYWNrLm9uUHJvZ3Jlc3MoZXZlbnQpOwoJICAgICAgfQoJICAgIH0sIGZhbHNlKTsKCSAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGV2ZW50KSB7CgkgICAgICB2YXIgY2FsbGJhY2tzID0gbG9hZGluZyQxW3VybF07CgkgICAgICBkZWxldGUgbG9hZGluZyQxW3VybF07CgoJICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHsKCSAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldOwoJICAgICAgICBpZiAoY2FsbGJhY2sub25FcnJvcikgY2FsbGJhY2sub25FcnJvcihldmVudCk7CgkgICAgICB9CgoJICAgICAgcmVxdWVzdC5lbmQgPSB0cnVlOwoJICAgIH0sIGZhbHNlKTsKCSAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZnVuY3Rpb24gKGV2ZW50KSB7CgkgICAgICB2YXIgY2FsbGJhY2tzID0gbG9hZGluZyQxW3VybF07CgkgICAgICBkZWxldGUgbG9hZGluZyQxW3VybF07CgoJICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHsKCSAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldOwoJICAgICAgICBpZiAoY2FsbGJhY2sub25FcnJvcikgY2FsbGJhY2sub25FcnJvcihldmVudCk7CgkgICAgICB9CgoJICAgICAgcmVxdWVzdC5lbmQgPSB0cnVlOwoJICAgIH0sIGZhbHNlKTsKCSAgICBpZiAodGhpcy5yZXNwb25zZVR5cGUgIT09IHVuZGVmaW5lZCkgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSB0aGlzLnJlc3BvbnNlVHlwZTsKCSAgICByZXF1ZXN0LnNlbmQobnVsbCk7CgkgICAgcmV0dXJuIHJlcXVlc3Q7CgkgIH0sCgkgIHNldFJlc3BvbnNlVHlwZTogZnVuY3Rpb24gc2V0UmVzcG9uc2VUeXBlKHZhbHVlKSB7CgkgICAgdGhpcy5yZXNwb25zZVR5cGUgPSB2YWx1ZTsKCSAgICByZXR1cm4gdGhpczsKCSAgfQoJfSk7CgoJZnVuY3Rpb24gTW9kZWxMb2FkZXIoKSB7fQoKCU1vZGVsTG9hZGVyLnByb3RvdHlwZSA9IE9iamVjdC5hc3NpZ24oTW9kZWxMb2FkZXIucHJvdG90eXBlLCB7CgkgIGNvbnN0cnVjdG9yOiBNb2RlbExvYWRlciwKCSAgbG9hZDogZnVuY3Rpb24gbG9hZCh1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvcikgewoJICAgIHZhciBsb2FkZXIgPSBuZXcgRmlsZUxvYWRlcigpOwoJICAgIGxvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2pzb24nKTsKCSAgICB2YXIgc2NvcGUgPSB0aGlzOwoJICAgIHZhciByZXEgPSBsb2FkZXIubG9hZCh1cmwsIGZ1bmN0aW9uIChqc29uKSB7CgkgICAgICByZXEuZW5kID0gdHJ1ZTsKCSAgICAgIHZhciBkYXRhID0gc2NvcGUucGFyc2UoanNvbik7CgkgICAgICBvbkxvYWQoZGF0YSk7CgkgICAgICBkYXRhLnAgPSBudWxsOyAvLyBkYXRhLm4gPSBudWxsOwoKCSAgICAgIGRhdGEudSA9IG51bGw7CgkgICAgICBkYXRhLmkgPSBudWxsOwoJICAgICAgZGF0YSA9IG51bGw7CgkgICAgICBqc29uID0gbnVsbDsKCSAgICB9LCBvblByb2dyZXNzLCBvbkVycm9yKTsKCSAgICByZXR1cm4gcmVxOwoJICB9LAoJICBwYXJzZTogZnVuY3Rpb24gcGFyc2UoanNvbikgewoJICAgIHZhciBnZW8gPSB0aGlzLnBhcnNlR2VvbWV0cnkoanNvbik7CgkgICAgZ2VvLmEgPSBqc29uLmE7CgkgICAgZ2VvLmIgPSBqc29uLmI7CgkgICAgZ2VvLmMgPSBqc29uLmM7CgkgICAgcmV0dXJuIGdlbzsKCSAgfSwKCSAgcGFyc2VHZW9tZXRyeTogZnVuY3Rpb24gcGFyc2VHZW9tZXRyeShnZW9EYXRhKSB7CgkgICAgdmFyIGdlbyA9IHt9OwoJICAgIGdlby5wID0gbmV3IEZsb2F0MzJBcnJheShnZW9EYXRhLmQpOyAvLyBnZW8ubiA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvRGF0YS5lKTsKCgkgICAgZ2VvLnUgPSBuZXcgRmxvYXQzMkFycmF5KGdlb0RhdGEuZik7CgoJICAgIGlmICh0aGlzLmFycmF5TWF4KGdlb0RhdGEuZykgPiA2NTUzNSkgewoJICAgICAgZ2VvLmkgPSBuZXcgVWludDMyQXJyYXkoZ2VvRGF0YS5nKTsKCSAgICB9IGVsc2UgewoJICAgICAgZ2VvLmkgPSBuZXcgVWludDE2QXJyYXkoZ2VvRGF0YS5nKTsKCSAgICB9CgoJICAgIHJldHVybiBnZW87CgkgIH0sCgkgIGFycmF5TWF4OiBmdW5jdGlvbiBhcnJheU1heChhcnJheSkgewoJICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiAtSW5maW5pdHk7CgkgICAgdmFyIG1heCA9IGFycmF5WzBdOwoKCSAgICBmb3IgKHZhciBpID0gMSwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7ICsraSkgewoJICAgICAgaWYgKGFycmF5W2ldID4gbWF4KSBtYXggPSBhcnJheVtpXTsKCSAgICB9CgoJICAgIHJldHVybiBtYXg7CgkgIH0KCX0pOwoKCXZhciBwcmVsb2FkaW5nID0gW107Cgl2YXIgbG9hZGluZyA9IFtdOwoKCXNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2dCkgewoJICBzd2l0Y2ggKGV2dC5kYXRhLnR5cGUpIHsKCSAgICBjYXNlICJsb2FkIjoKCSAgICAgIHZhciBjb3VudCA9IHByZWxvYWRpbmcubGVuZ3RoOwoKCSAgICAgIGlmIChjb3VudCA+IDApIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CgkgICAgICAgICAgdmFyIHIgPSBwcmVsb2FkaW5nLnBvcCgpOwoKCSAgICAgICAgICBpZiAoci5lbmQpIDsgZWxzZSB7CgkgICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKCSAgICAgICAgICAgICAgYTogci5pbmRleAoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICByLmFib3J0KCk7CgkgICAgICAgICAgICByLmluZGV4ID0gbnVsbDsKCSAgICAgICAgICAgIHIgPSBudWxsOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgfQoKCSAgICAgIHZhciBsZXZlbCA9IGV2dC5kYXRhLmxldmVsOwoJICAgICAgdmFyIGluZGV4ID0gZXZ0LmRhdGEuaW5kZXg7CgkgICAgICB2YXIgbHIgPSBuZXcgTW9kZWxMb2FkZXIoKS5sb2FkKGV2dC5kYXRhLm11cmwsIGZ1bmN0aW9uIChnZW9EYXRhKSB7CgkgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewoJICAgICAgICAgIGE6IGdlb0RhdGEuYSwKCSAgICAgICAgICBiOiBsZXZlbCwKCSAgICAgICAgICBjOiBnZW9EYXRhLmMsCgkgICAgICAgICAgZDogaW5kZXgsCgkgICAgICAgICAgcDogZ2VvRGF0YS5wLAoKCSAgICAgICAgICAvKm46Z2VvRGF0YS5uLCovCgkgICAgICAgICAgdTogZ2VvRGF0YS51LAoJICAgICAgICAgIGk6IGdlb0RhdGEuaQoJICAgICAgICB9LCBbZ2VvRGF0YS5wLmJ1ZmZlciwKCSAgICAgICAgLypnZW9EYXRhLm4uYnVmZmVyLCovCgkgICAgICAgIGdlb0RhdGEudS5idWZmZXIsIGdlb0RhdGEuaS5idWZmZXJdKTsKCSAgICAgICAgbG9hZGluZ1tpbmRleF0gPSB1bmRlZmluZWQ7CgkgICAgICB9LCBmdW5jdGlvbiAobSkge30sIGZ1bmN0aW9uIChtKSB7CgkgICAgICAgIGxvYWRpbmdbaW5kZXhdID0gdW5kZWZpbmVkOwoJICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKCSAgICAgICAgICB4OiBpbmRleAoJICAgICAgICB9KTsKCSAgICAgIH0pOwoJICAgICAgbHIuZW5kID0gZmFsc2U7CgkgICAgICBsci5pbmRleCA9IGluZGV4OwoJICAgICAgbG9hZGluZ1tpbmRleF0gPSBscjsKCSAgICAgIGJyZWFrOwoKCSAgICBjYXNlICJjYW5jZWwiOgoJICAgICAgdmFyIGNpbmRleCA9IGV2dC5kYXRhLmRhdGE7CgoJICAgICAgZm9yICh2YXIgX2kgPSAwLCBjID0gY2luZGV4Lmxlbmd0aDsgX2kgPCBjOyBfaSsrKSB7CgkgICAgICAgIHZhciBzZCA9IGNpbmRleFtfaV07CgoJICAgICAgICBpZiAobG9hZGluZ1tzZF0gJiYgIWxvYWRpbmdbc2RdLmVuZCkgewoJICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewoJICAgICAgICAgICAgeDogbG9hZGluZ1tzZF0uaW5kZXgKCSAgICAgICAgICB9KTsKCSAgICAgICAgICBsb2FkaW5nW3NkXS5hYm9ydCgpOwoJICAgICAgICAgIGxvYWRpbmdbc2RdID0gdW5kZWZpbmVkOwoJICAgICAgICB9CgkgICAgICB9CgoJICAgICAgYnJlYWs7CgkgIH0KCX07Cgp9KCkpOwoK",null,!1),Mp="load",Ep="init",Ip="detect",Tp="cancel";function Sp(e){var t=this;this.scene=e,this.loadNum=3,this.loadMaxPT=2,this.currentNum=0,this.pLoadMaxPT=3,this.detectNum=1,this.loadWorkers=[],this.detectWorkers=[],this.todol=[],this.todod=[];for(var n=this,r=function(e){var r=new Cp;r.isLoader=!0,r.num=0,r.onmessage=function(e){n.currentNum--,r.num--,n.loadEnd&&e.data&&(void 0!==e.data.d?n.loadEnd(e.data):void 0!==e.data.x&&(n.scene.loading[e.data.x]=void 0))},r.sendMessage=function(e){n.currentNum++,r.num++,r.postMessage(e)},t.loadWorkers.push(r)},i=0;i<this.loadNum;i++)r();for(var a=function(e){var r=new bp;r.isDetect=!0,r.running=!1,r.onmessage=function(e){r.running=!1,n.detectEnd&&n.detectEnd(e.data)},r.sendMessage=function(e){e.type==Ip&&(r.running=!0),r.postMessage(e)},t.detectWorkers.push(r)},A=0;A<this.detectNum;A++)a();this.setTask=function(e){switch(e.type){case Ep:case Ip:this.todod=[e];break;case Mp:this.todol=e.data;break;case Tp:for(var t=0;t<this.loadNum;t++)this.loadWorkers[t].postMessage(e)}},this.setLoadEnd=function(e){this.loadEnd=e},this.setDetectEnd=function(e){this.detectEnd=e},this.update=function(){if(this.todol.length>0)for(var e=0;e<this.loadNum;e++)if(this.loadWorkers[e].num<this.loadMaxPT){var t=this.todol.pop();if(!t)break;this.scene.loading[t.index]={},this.loadWorkers[e].sendMessage(t),t.murl=null,t=null}if(this.todod.length>0)for(var n=0;n<this.detectNum;n++)if(!this.detectWorkers[n].running){var r=this.todod.pop();if(!r)break;this.detectWorkers[n].sendMessage(r),r.pos=null,r.state=null,r=null}}}var Fp={};function Up(e){this.pathUtil=e}function Lp(e,t,n,r){this.scene=e,this.manager=t,this.pathUtil=n,this.root=r}function Rp(){this.GlobalParams={cbase:"http://172.16.10.37:8002/Data/ACFData/",tbase:"http://172.16.10.37:8002/Data/ACFData/",mbase:"http://172.16.10.37:8002/Data/ACFData/"}}Fp.mflag=!1,Fp.lflag=!1,Fp.pflag=!1,Fp.renderBefore=[],Fp.renderAfter=[],Fp.renderExtra=[],Fp.renderBeforeCount=0,Fp.renderAfterCount=0,Fp.renderExtraCount=0,Fp.resize=function(e){Fp.renderer.domElement.getBoundingClientRect(),Fp.lflag=!0},Fp.init=function(e,t,n){Fp.renderer=e,Fp.scene=t,Fp.camera=n,e.domElement.addEventListener("wheel",(function(e){e.preventDefault(),Fp.lflag=!0}),!1),e.domElement.addEventListener("mousedown",(function(e){e.preventDefault(),Fp.mflag=!0}),!1),e.domElement.addEventListener("touchstart",(function(e){e.preventDefault(),Fp.mflag=!0}),!1),e.domElement.addEventListener("mouseup",(function(e){e.preventDefault(),Fp.mflag=!1}),!1),e.domElement.addEventListener("touchend",(function(e){e.preventDefault(),Fp.mflag=!1}),!1),window.addEventListener("resize",Fp.resize,!1),Fp.resize()},Fp.addBefore=function(e){Fp.renderBefore.push(e),Fp.renderBeforeCount=Fp.renderBefore.length},Fp.addAfter=function(e){Fp.renderAfter.push(e),Fp.renderAfterCount=Fp.renderAfter.length},Fp.addExtra=function(e){Fp.renderExtra.push(e),Fp.renderExtraCount=Fp.renderExtra.length},Fp.render=function(){for(var e=0;e<Fp.renderExtraCount;e++)Fp.renderExtra[e]()},Up.prototype=Object.assign(Up.prototype,{constructor:Up,load:function(e){var t=this.parse(e);return(new zs).load(this.parseTextureUrl(e),(function(e){t&&t.material?(t.material.color.setRGB(1,1,1),t.material.map=e,t.material.transparent=!1,t.material.opacity=1,t.material.needsUpdate=!0,Fp.lflag=!0):e&&(e.dispose(),e=null)})),t},parse:function(e){var t=this.parseGeometry(e),n=new Fn;n.color.setHex(738436),n.transparent=!0,n.opacity=.2,n.side=2;var r=new gr(t,n);return r.mid=e.a,r.level=e.b,r.index=e.d,r.ticket=0,e.c.length>0&&r.applyMatrix4((new dt).fromArray(e.c)),r},parseTextureUrl:function(e){return this.pathUtil.generatePicturePath(e.b,e.a)},parseGeometry:function(e){var t=new Jn;return t.name=e.a,t.setAttribute("position",new kn(e.p,3)),t.setAttribute("uv",new kn(e.u,2)),t.setIndex(new kn(e.i,1)),t.clearGroups(),t.addGroup(0,e.i.length,0),t}}),Lp.prototype=Object.assign(Lp.prototype,{constructor:Lp,load:function(e){for(var t=0;t<this.scene.loading.length;t++)this.scene.loading[t]&&(this.scene.loading[t].keep=!1);for(var n=0;n<this.scene.loaded.length;n++)this.scene.loaded[n]&&(this.scene.loaded[n].keep=!1);for(var r=0,i=e.length;r<i;r++)this.scene.loaded[e[r].v]?this.scene.loaded[e[r].v].keep=!0:this.scene.loading[e[r].v]?this.scene.loading[e[r].v].keep=!0:e[r].load=!0;var a={};a.type=Tp,a.data=[];for(var A=0;A<this.scene.loading.length;A++)this.scene.loading[A]&&(this.scene.loading[A].keep||a.data.push(A));a.data.length>0&&this.manager.setTask(a);var o={};o.type=Mp,o.data=[];var s=this.pathUtil;this.scene.toload=[];for(var l=0;l<e.length;l++)if(e[l].load){var c={};c.type=Mp,c.level=e[l].l,c.index=e[l].v,c.murl=s.generateModelPath(c.level,e[l].i),o.data.push(c),this.scene.toload[e[l].v]=1}this.manager.setTask(o);for(var u=0;u<this.scene.loaded.length;u++)if(this.scene.loaded[u]&&!this.scene.loaded[u].keep){for(var h=!1,d=this.scene.levels[u];d.pid;){if(this.scene.toload[d.pid]){h=!0;break}d=this.scene.levels[d.pid]}if(h)continue;if((d=this.scene.levels[u]).cid){for(var p=[],f=0;f<d.cid.length;f++)p.push(d.cid[f]);for(;p.length>0;){for(var g=[],m=0,v=p.length;m<v;m++){if(this.scene.toload[p[m]]){h=!0;break}if(this.scene.levels[p[m]].cid)for(var y=0,w=this.scene.levels[p[m]].cid.length;y<w;y++)g.push(this.scene.levels[p[m]].cid[y])}if(h){g=[],p=[];break}p=[];for(var B=0,x=g.length;B<x;B++)p.push(g[B])}}h||(this.root.remove(this.scene.loaded[u]),this.scene.loaded[u].material.map&&(this.scene.loaded[u].material.map.dispose(),this.scene.loaded[u].material.map=null),this.scene.loaded[u].material.dispose(),this.scene.loaded[u].geometry.dispose(),this.scene.loaded[u].geometry.attributes.position.array=null,this.scene.loaded[u].geometry.attributes.uv.array=null,this.scene.loaded[u].geometry.index.array=null,this.scene.loaded[u].geometry=null,this.scene.loaded[u].material=null,this.scene.loaded[u]=void 0)}}}),Rp.prototype={config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isLocal=t,(e.mb||e.cb||e.tb)&&(e.mb?this.GlobalParams.mbase=e.mb:e.cb?this.GlobalParams.mbase=e.cb:e.tb&&(this.GlobalParams.mbase=e.tb),e.cb?this.GlobalParams.cbase=e.cb:e.mb?this.GlobalParams.cbase=e.mb:e.tb&&(this.GlobalParams.cbase=e.tb),e.tb?this.GlobalParams.tbase=e.tb:e.mb?this.GlobalParams.tbase=e.mb:e.cb&&(this.GlobalParams.tbase=e.cb)),this},generateModelPath:function(e,t){return this.GlobalParams.mbase+e+"/"+t+(this.isLocal?".json":".json.gz")},generatePicturePath:function(e,t){return this.GlobalParams.tbase+e+"/maps/"+t+".jpg"},generateConfigPath:function(e){return this.GlobalParams.cbase+e}},new Tc;var Pp=new dt,Dp=new Hr,Qp=function(){function e(t){i(this,e),this.baseUrl=t}return A(e,[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.viewer=e,this.scene=e.scene,this.camera=e.camera,this.renderer=e.renderer,this.sceneGroup=n.root,this.render=e.render,this.initCamera=n.initCamera,this.center={x:0,y:0,z:0},this.pathUtil=(new Rp).config(this.baseUrl,n.isLocal||!1),this.sources={loaded:[],loading:[],nlp:[],levels:[]},this.currCount=0,this.currLoaded=0;var r=new Sp(this.sources);this.workerManager=r,n&&(Fp.pflag=void 0!==n.preloading&&n.preloading,r.loadNum=void 0!==n.concurrency?n.concurrency:r.loadNum,r.loadMaxPT=void 0!==n.capacity?n.capacity:r.loadMaxPT),r.setLoadEnd((function(e){if(t.currLoaded++,t.currLoaded>=t.currCount&&t.loadEnd&&t.loadEnd(),t.initLoad&&(t.initLoad(),t.initLoad=null),t.sources.loaded[e.d]);else{var n=new Up(t.pathUtil).load(e),r=t.sources,i=t.center.y;n.position.y=-i,n.keep=!0,t.sceneGroup.add(n),r.loading[n.index]=void 0,r.loaded[n.index]=n;for(var a=!1,A=r.levels[n.index];A.pid;){if(r.loaded[A.pid]&&!r.loaded[A.pid].keep){for(var o=[],s=0;s<r.levels[A.pid].cid.length;s++)r.levels[A.pid].cid[s]!=n.index&&o.push(r.levels[A.pid].cid[s]);for(;o.length>0;){for(var l=[],c=0,u=o.length;c<u;c++){if(!r.loaded[o[c]]&&r.toload[o[c]]){a=!0;break}if(r.levels[o[c]].cid)for(var h=0,d=r.levels[o[c]].cid.length;h<d;h++)r.levels[o[c]].cid[h]!=n.index&&(l.push(r.levels[o[c]].cid[h]),void 0===r.levels[o[c]].cid[h]&&(console.log(r.levels[o[c]]),console.log(h,c,o[c])))}if(a){l=[],o=[];break}o=[];for(var p=0,f=l.length;p<f;p++)o.push(l[p])}a||(t.sceneGroup.remove(r.loaded[A.pid]),r.loaded[A.pid].material.map&&(r.loaded[A.pid].material.map.dispose(),r.loaded[A.pid].material.map=null),r.loaded[A.pid].material.dispose(),r.loaded[A.pid].geometry.dispose(),r.loaded[A.pid].geometry.attributes.position.array=null,r.loaded[A.pid].geometry.attributes.uv.array=null,r.loaded[A.pid].geometry.index.array=null,r.loaded[A.pid].geometry=null,r.loaded[A.pid].material=null,r.loaded[A.pid]=void 0)}A=r.levels[A.pid]}if((A=r.levels[n.index]).cid){for(var g=[],m=0;m<A.cid.length;m++)g.push(A.cid[m]);for(;g.length>0;){for(var v=[],y=0,w=g.length;y<w;y++)if(r.loaded[g[y]]&&!r.loaded[g[y]].keep)t.sceneGroup.remove(r.loaded[g[y]]),r.loaded[g[y]].material.map&&(r.loaded[g[y]].material.map.dispose(),r.loaded[g[y]].material.map=null),r.loaded[g[y]].material.dispose(),r.loaded[g[y]].geometry.dispose(),r.loaded[g[y]].geometry.attributes.position.array=null,r.loaded[g[y]].geometry.attributes.uv.array=null,r.loaded[g[y]].geometry.index.array=null,r.loaded[g[y]].geometry=null,r.loaded[g[y]].material=null,r.loaded[g[y]]=void 0;else if(r.levels[g[y]].cid)for(var B=0,x=r.levels[g[y]].cid.length;B<x;B++)v.push(r.levels[g[y]].cid[B]);g=[];for(var b=0,C=v.length;b<C;b++)g.push(v[b])}}}})),r.setDetectEnd((function(e){console.log(e),t.currLoaded=0,t.currCount=e.length,new Lp(t.sources,r,t.pathUtil,t.sceneGroup).load(e)})),Fp.init(this.renderer,this.scene,this.camera),Fp.addExtra((function(){t.workerManager.update()})),Fp.pflag&&Fp.addExtra((function(){r.preloading=!Fp.mflag&&!Fp.lflag&&0==r.currentNum}))}},{key:"load",value:function(e,t){var n=this;this.initLoad=t,this.levelLoader=new vp,this.levelLoader.root=this.sceneGroup,this.levelLoader.load(this.pathUtil.generateConfigPath(e),(function(e){var t=e.levels,r=e.center;n.center=r,n.sources.levels=t,n.sources.center={x:0,y:0,z:0};var i={};i.type=Ep,i.data=n.sources.levels,i.center=n.sources.center,n.workerManager.setTask(i);var a=new xp(n.camera).focusLevels(n.sources.levels);n.initCamera&&(n.viewer.controls.target.copy(a),n.viewer.controls.update(),n.viewer.camera.position.x=a.x,n.viewer.camera.position.z=a.z),Fp.lflag=!0,Fp.render(!1),n.viewer.render(),Bp.initLevelDetect(n.viewer.map?n.viewer.map.canvas:n.renderer.domElement,(function(){n.detect()})),n.workerManager.update(),n.viewer.controls.update(),setTimeout((function(){n.detect()}),100)}))}},{key:"updateLevels",value:function(){var e=this.levelLoader.parse().levels,t=this.sceneGroup.getWorldScale().x;e.map((function(e){e.radius=e.radius*t})),this.sources.levels=e;var n={};n.type=Ep,n.data=this.sources.levels,n.center=this.sources.center,this.workerManager.setTask(n)}},{key:"detect",value:function(){var e={};e.type=Ip,e.pos=this.camera.position.toArray(),Pp.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),e.state=Dp.setFromMatrix(Pp).toArray(),this.workerManager.setTask(e)}},{key:"renderBefore",value:function(){for(var e=0;e<Fp.renderBeforeCount;e++)Fp.renderBefore[e]()}},{key:"renderAfter",value:function(){for(var e=0;e<Fp.renderAfterCount;e++)Fp.renderAfter[e]();Fp.lflag&&(Fp.lflag=!1);for(var t=0;t<Fp.renderExtraCount;t++)Fp.renderExtra[t]()}}]),e}(),Op=function(){function e(t){if(i(this,e),void 0===t&&console.error("参数缺少viewer"),this.viewer=t,void 0!==t.largeSceneLoader)return t.largeSceneLoader;this.initialize()}return A(e,[{key:"initialize",value:function(){var e=this;this.largeSceneGroup=this.viewer.modelGroup,this.loaders=[],this.viewer.addEventListener("update",(function(){e.loaders.map((function(e){e&&e.renderBefore()})),e.loaders.map((function(e){e&&e.renderAfter()}))}))}},{key:"load",value:function(e,t,n){var r=new Ut;r.path=e,r.isLargeScene=!0,void 0===this.viewer.isMapViewer&&this.largeSceneGroup.add(r);var i=new Qp({cb:e});return i.init(this.viewer,{initCamera:!0,root:r,isLocal:n}),this.loaders.push(i),r.loader=i,i.load(n?"level.json":"level.json.gz",(function(){t&&t(r)})),r}}]),e}(),Hp=function(e,t,n){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),Ut.call(this),this.visible=!1;var r=new _p(n);this.add(r);var i=new Np;this.add(i);var a=this;N("camera",e),N("object",void 0),N("enabled",!0),N("axis",null),N("mode","translate"),N("translationSnap",null),N("rotationSnap",null),N("space","world"),N("size",1),N("dragging",!1),N("showX",!0),N("showY",!0),N("showZ",!0);var A={type:"change"},o={type:"mouseDown"},s={type:"mouseUp",mode:a.mode},l={type:"objectChange"},c=new Tc,u=new Ve,h=new Ve,d=new Ne,p={X:new Ve(1,0,0),Y:new Ve(0,1,0),Z:new Ve(0,0,1)},f=new Ve,g=new Ve,m=new Ve,v=new Ve,y=new Ve,w=new Ve,B=0,x=new Ve,b=new Ne,C=new Ve,M=new Ve,E=new Ne,I=new Ne,T=new Ve,S=new Ve,F=new Ne,U=new Ve,L=new Ve,R=new Ne,P=new Ne,D=new Ve,Q=new Ve,O=new Ve,H=new Ne,_=new Ve;function N(e,t){var n=t;Object.defineProperty(a,e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,i[e]=t,r[e]=t,a.dispatchEvent({type:e+"-changed",value:t}),a.dispatchEvent(A))}}),a[e]=t,i[e]=t,r[e]=t}function k(e){if(document.pointerLockElement)return{x:0,y:0,button:e.button};var n=e.changedTouches?e.changedTouches[0]:e,r=t.getBoundingClientRect();return{x:(n.clientX-r.left)/r.width*2-1,y:-(n.clientY-r.top)/r.height*2+1,button:e.button}}function G(e){a.enabled&&a.pointerHover(k(e))}function V(e){a.enabled&&(document.addEventListener("mousemove",z,!1),a.pointerHover(k(e)),a.pointerDown(k(e)))}function z(e){a.enabled&&a.pointerMove(k(e))}function j(e){a.enabled&&(document.removeEventListener("mousemove",z,!1),a.pointerUp(k(e)))}N("worldPosition",L),N("worldPositionStart",S),N("worldQuaternion",R),N("worldQuaternionStart",F),N("cameraPosition",x),N("cameraQuaternion",b),N("pointStart",f),N("pointEnd",g),N("rotationAxis",v),N("rotationAngle",B),N("eye",Q),t.addEventListener("mousedown",V,!1),t.addEventListener("touchstart",V,!1),t.addEventListener("mousemove",G,!1),t.addEventListener("touchmove",G,!1),t.addEventListener("touchmove",z,!1),document.addEventListener("mouseup",j,!1),t.addEventListener("touchend",j,!1),t.addEventListener("touchcancel",j,!1),t.addEventListener("touchleave",j,!1),this.dispose=function(){t.removeEventListener("mousedown",V),t.removeEventListener("touchstart",V),t.removeEventListener("mousemove",G),document.removeEventListener("mousemove",z),t.removeEventListener("touchmove",G),t.removeEventListener("touchmove",z),document.removeEventListener("mouseup",j),t.removeEventListener("touchend",j),t.removeEventListener("touchcancel",j),t.removeEventListener("touchleave",j),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),this.object.parent.matrixWorld.decompose(M,E,T),this.object.matrixWorld.decompose(L,R,D),I.copy(E).inverse(),P.copy(R).inverse()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(x,b,C),Q.copy(x).sub(L).normalize(),Ut.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)){c.setFromCamera(e,this.camera);var t=c.intersectObjects(r.picker[this.mode].children,!0)[0]||!1;this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(!(void 0===this.object||!0===this.dragging||void 0!==e.button&&0!==e.button||0!==e.button&&void 0!==e.button||null===this.axis)){c.setFromCamera(e,this.camera);var t=c.intersectObjects([i],!0)[0]||!1;if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var r=this.rotationSnap;"X"===this.axis&&r&&(this.object.rotation.x=Math.round(this.object.rotation.x/r)*r),"Y"===this.axis&&r&&(this.object.rotation.y=Math.round(this.object.rotation.y/r)*r),"Z"===this.axis&&r&&(this.object.rotation.z=Math.round(this.object.rotation.z/r)*r)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),O.copy(this.object.position),H.copy(this.object.quaternion),_.copy(this.object.scale),this.object.matrixWorld.decompose(S,F,U),f.copy(t.point).sub(S)}this.dragging=!0,o.mode=this.mode,this.dispatchEvent(o)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,r=this.object,a=this.space;if("scale"===n?a="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(a="world"),void 0!==r&&null!==t&&!1!==this.dragging&&(void 0===e.button||0===e.button)){c.setFromCamera(e,this.camera);var o=c.intersectObjects([i],!0)[0]||!1;if(!1!==o){if(g.copy(o.point).sub(S),"translate"===n)m.copy(g).sub(f),"local"===a&&"XYZ"!==t&&m.applyQuaternion(P),-1===t.indexOf("X")&&(m.x=0),-1===t.indexOf("Y")&&(m.y=0),-1===t.indexOf("Z")&&(m.z=0),"local"===a&&"XYZ"!==t?m.applyQuaternion(H).divide(T):m.applyQuaternion(I).divide(T),r.position.copy(m).add(O),this.translationSnap&&("local"===a&&(r.position.applyQuaternion(d.copy(H).inverse()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(H)),"world"===a&&(r.parent&&r.position.add(u.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(u.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var s=g.length()/f.length();g.dot(f)<0&&(s*=-1),h.set(s,s,s)}else u.copy(f),h.copy(g),u.applyQuaternion(P),h.applyQuaternion(P),h.divide(u),-1===t.search("X")&&(h.x=1),-1===t.search("Y")&&(h.y=1),-1===t.search("Z")&&(h.z=1);r.scale.copy(_).multiply(h)}else if("rotate"===n){m.copy(g).sub(f);var x=20/L.distanceTo(u.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(v.copy(Q),B=g.angleTo(f),y.copy(f).normalize(),w.copy(g).normalize(),B*=w.cross(y).dot(Q)<0?1:-1):"XYZE"===t?(v.copy(m).cross(Q).normalize(),B=m.dot(u.copy(v).cross(this.eye))*x):"X"!==t&&"Y"!==t&&"Z"!==t||(v.copy(p[t]),u.copy(p[t]),"local"===a&&u.applyQuaternion(R),B=m.dot(u.cross(Q).normalize())*x),this.rotationSnap&&(B=Math.round(B/this.rotationSnap)*this.rotationSnap),this.rotationAngle=B,"local"===a&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(H),r.quaternion.multiply(d.setFromAxisAngle(v,B)).normalize()):(v.applyQuaternion(I),r.quaternion.copy(d.setFromAxisAngle(v,B)),r.quaternion.multiply(H).normalize())}this.dispatchEvent(A),this.dispatchEvent(l)}}},this.pointerUp=function(e){void 0!==e.button&&0!==e.button||(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,void 0===e.button&&(this.axis=null))},this.getMode=function(){return a.mode},this.setMode=function(e){a.mode=e},this.setTranslationSnap=function(e){a.translationSnap=e},this.setRotationSnap=function(e){a.rotationSnap=e},this.setSize=function(e){a.size=e},this.setSpace=function(e){a.space=e},this.update=function(){}};Hp.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Hp,isTransformControls:!0});var _p=function(e){Ut.call(this),this.type="TransformControlsGizmo";var t=new Fn({depthTest:!1,depthWrite:!1,transparent:!0,side:2,fog:!1}),n=new MA({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1}),r=t.clone();r.opacity=.15;var i=t.clone();i.opacity=.33;var a=t.clone();a.color.set(16711680);var A=t.clone();A.color.set(65280);var o=t.clone();o.color.set(255);var s=t.clone();s.opacity=.25;var l=s.clone();l.color.set(16776960);var c=s.clone();c.color.set(65535);var u=s.clone();u.color.set(16711935),t.clone().color.set(16776960);var h=n.clone();h.color.set(16711680);var d=n.clone();d.color.set(65280);var p=n.clone();p.color.set(255);var f=n.clone();f.color.set(65535);var g=n.clone();g.color.set(16711935);var m=n.clone();m.color.set(16776960);var v=n.clone();v.color.set(7895160);var y=m.clone();y.opacity=.25;var w=new es(0,.05,.2,12,1,!1),B=new Mr(.125,.125,.125),x=new Jn;x.setAttribute("position",new _n([0,0,0,1,0,0],3));var b=function(e,t){for(var n=new Jn,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new _n(r,3)),n},C={X:[[new gr(w,a),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new gr(w,a),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new UA(x,h)]],Y:[[new gr(w,A),[0,1,0],null,null,"fwd"],[new gr(w,A),[0,1,0],[Math.PI,0,0],null,"bwd"],[new UA(x,d),null,[0,0,Math.PI/2]]],Z:[[new gr(w,o),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new gr(w,o),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new UA(x,p),null,[0,-Math.PI/2,0]]],XYZ:[[new gr(new eo(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new gr(new jr(.295,.295),l.clone()),[.15,.15,0]],[new UA(x,m),[.18,.3,0],null,[.125,1,1]],[new UA(x,m),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new gr(new jr(.295,.295),c.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new UA(x,f),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new UA(x,f),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new gr(new jr(.295,.295),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new UA(x,g),[.18,0,.3],null,[.125,1,1]],[new UA(x,g),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]};e&&(delete C.XYZ,delete C.XY,delete C.YZ,delete C.XZ);var M={X:[[new gr(new es(.2,0,1,4,1,!1),r),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new gr(new es(.2,0,1,4,1,!1),r),[0,.6,0]]],Z:[[new gr(new es(.2,0,1,4,1,!1),r),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new gr(new eo(.2,0),r)]],XY:[[new gr(new jr(.4,.4),r),[.2,.2,0]]],YZ:[[new gr(new jr(.4,.4),r),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new gr(new jr(.4,.4),r),[.2,0,.2],[-Math.PI/2,0,0]]]};e&&(delete M.XYZ,delete M.XY,delete M.YZ,delete M.XZ);var E={START:[[new gr(new eo(.01,2),i),null,null,null,"helper"]],END:[[new gr(new eo(.01,2),i),null,null,null,"helper"]],DELTA:[[new UA(function(){var e=new Jn;return e.setAttribute("position",new _n([0,0,0,1,1,1],3)),e}(),i),null,null,null,"helper"]],X:[[new UA(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new UA(x,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new UA(x,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},I={X:[[new UA(b(1,.5),h)],[new gr(new eo(.04,0),a),[0,0,.99],null,[1,3,1]]],Y:[[new UA(b(1,.5),d),null,[0,0,-Math.PI/2]],[new gr(new eo(.04,0),A),[0,0,.99],null,[3,1,1]]],Z:[[new UA(b(1,.5),p),null,[0,Math.PI/2,0]],[new gr(new eo(.04,0),o),[.99,0,0],null,[1,3,1]]],E:[[new UA(b(1.25,1),y),null,[0,Math.PI/2,0]],[new gr(new es(.03,0,.15,4,1,!1),y),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new gr(new es(.03,0,.15,4,1,!1),y),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new gr(new es(.03,0,.15,4,1,!1),y),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new gr(new es(.03,0,.15,4,1,!1),y),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new UA(b(1,1),v),null,[0,Math.PI/2,0]]]},T={AXIS:[[new UA(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},S={X:[[new gr(new co(1,.1,4,24),r),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new gr(new co(1,.1,4,24),r),[0,0,0],[Math.PI/2,0,0]]],Z:[[new gr(new co(1,.1,4,24),r),[0,0,0],[0,0,-Math.PI/2]]],E:[[new gr(new co(1.25,.1,2,24),r)]],XYZE:[[new gr(new zo(.7,10,8),r)]]},F={X:[[new gr(B,a),[.8,0,0],[0,0,-Math.PI/2]],[new UA(x,h),null,null,[.8,1,1]]],Y:[[new gr(B,A),[0,.8,0]],[new UA(x,d),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new gr(B,o),[0,0,.8],[Math.PI/2,0,0]],[new UA(x,p),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new gr(B,l),[.85,.85,0],null,[2,2,.2]],[new UA(x,m),[.855,.98,0],null,[.125,1,1]],[new UA(x,m),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new gr(B,c),[0,.85,.85],null,[.2,2,2]],[new UA(x,f),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new UA(x,f),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new gr(B,u),[.85,0,.85],null,[2,.2,2]],[new UA(x,g),[.855,0,.98],null,[.125,1,1]],[new UA(x,g),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new gr(new Mr(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new gr(new Mr(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new gr(new Mr(.125,.125,.125),s.clone()),[0,0,1.1]]]},U={X:[[new gr(new es(.2,0,.8,4,1,!1),r),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new gr(new es(.2,0,.8,4,1,!1),r),[0,.5,0]]],Z:[[new gr(new es(.2,0,.8,4,1,!1),r),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new gr(B,r),[.85,.85,0],null,[3,3,.2]]],YZ:[[new gr(B,r),[0,.85,.85],null,[.2,3,3]]],XZ:[[new gr(B,r),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new gr(new Mr(.2,.2,.2),r),[1.1,0,0]]],XYZY:[[new gr(new Mr(.2,.2,.2),r),[0,1.1,0]]],XYZZ:[[new gr(new Mr(.2,.2,.2),r),[0,0,1.1]]]},L={X:[[new UA(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new UA(x,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new UA(x,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},R=function(e){var t=new Ut;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),a=e[n][r][1],A=e[n][r][2],o=e[n][r][3],s=e[n][r][4];i.name=n,i.tag=s,a&&i.position.set(a[0],a[1],a[2]),A&&i.rotation.set(A[0],A[1],A[2]),o&&i.scale.set(o[0],o[1],o[2]),i.updateMatrix();var l=i.geometry.clone();l.applyMatrix(i.matrix),i.geometry=l,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t},P=new Ve(0,0,0),D=new gt,Q=new Ve(0,1,0),O=new Ve(0,0,0),H=new dt,_=new Ne,N=new Ne,k=new Ne,G=new Ve(1,0,0),V=new Ve(0,1,0),z=new Ve(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=R(C)),this.add(this.gizmo.rotate=R(I)),this.add(this.gizmo.scale=R(F)),this.add(this.picker.translate=R(M)),this.add(this.picker.rotate=R(S)),this.add(this.picker.scale=R(U)),this.add(this.helper.translate=R(E)),this.add(this.helper.rotate=R(T)),this.add(this.helper.scale=R(L)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:k;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var r=0;r<n.length;r++){var i=n[r];i.visible=!0,i.rotation.set(0,0,0),i.position.copy(this.worldPosition);var a=this.worldPosition.distanceTo(this.cameraPosition);if(i.scale.set(1,1,1).multiplyScalar(a*this.size/7),"helper"!==i.tag){if(i.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){var A=.99;"X"!==i.name&&"XYZX"!==i.name||Math.abs(Q.copy(G).applyQuaternion(t).dot(this.eye))>A&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"Y"!==i.name&&"XYZY"!==i.name||Math.abs(Q.copy(V).applyQuaternion(t).dot(this.eye))>A&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"Z"!==i.name&&"XYZZ"!==i.name||Math.abs(Q.copy(z).applyQuaternion(t).dot(this.eye))>A&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"XY"===i.name&&Math.abs(Q.copy(z).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"YZ"===i.name&&Math.abs(Q.copy(G).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"XZ"===i.name&&Math.abs(Q.copy(V).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),-1!==i.name.search("X")&&(Q.copy(G).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.x*=-1:"bwd"===i.tag&&(i.visible=!1)),-1!==i.name.search("Y")&&(Q.copy(V).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.y*=-1:"bwd"===i.tag&&(i.visible=!1)),-1!==i.name.search("Z")&&(Q.copy(z).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.z*=-1:"bwd"===i.tag&&(i.visible=!1))}else"rotate"===this.mode&&(N.copy(t),Q.copy(this.eye).applyQuaternion(_.copy(t).inverse()),-1!==i.name.search("E")&&i.quaternion.setFromRotationMatrix(H.lookAt(this.eye,O,V)),"X"===i.name&&(_.setFromAxisAngle(G,Math.atan2(-Q.y,Q.z)),_.multiplyQuaternions(N,_),i.quaternion.copy(_)),"Y"===i.name&&(_.setFromAxisAngle(V,Math.atan2(Q.x,Q.z)),_.multiplyQuaternions(N,_),i.quaternion.copy(_)),"Z"===i.name&&(_.setFromAxisAngle(z,Math.atan2(Q.y,Q.x)),_.multiplyQuaternions(N,_),i.quaternion.copy(_)));i.visible=i.visible&&(-1===i.name.indexOf("X")||this.showX),i.visible=i.visible&&(-1===i.name.indexOf("Y")||this.showY),i.visible=i.visible&&(-1===i.name.indexOf("Z")||this.showZ),i.visible=i.visible&&(-1===i.name.indexOf("E")||this.showX&&this.showY&&this.showZ),i.material._opacity=i.material._opacity||i.material.opacity,i.material._color=i.material._color||i.material.color.clone(),i.material.color.copy(i.material._color),i.material.opacity=i.material._opacity,this.enabled?this.axis&&(i.name===this.axis||this.axis.split("").some((function(e){return i.name===e}))?(i.material.opacity=1,i.material.color.lerp(new bn(1,1,1),.5)):(i.material.opacity*=.25,i.material.color.lerp(new bn(1,1,1),.5))):(i.material.opacity*=.5,i.material.color.lerp(new bn(1,1,1),.5))}else i.visible=!1,"AXIS"===i.name?(i.position.copy(this.worldPositionStart),i.visible=!!this.axis,"X"===this.axis&&(_.setFromEuler(D.set(0,0,0)),i.quaternion.copy(t).multiply(_),Math.abs(Q.copy(G).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"Y"===this.axis&&(_.setFromEuler(D.set(0,0,Math.PI/2)),i.quaternion.copy(t).multiply(_),Math.abs(Q.copy(V).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"Z"===this.axis&&(_.setFromEuler(D.set(0,Math.PI/2,0)),i.quaternion.copy(t).multiply(_),Math.abs(Q.copy(z).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"XYZE"===this.axis&&(_.setFromEuler(D.set(0,Math.PI/2,0)),Q.copy(this.rotationAxis),i.quaternion.setFromRotationMatrix(H.lookAt(O,Q,V)),i.quaternion.multiply(_),i.visible=this.dragging),"E"===this.axis&&(i.visible=!1)):"START"===i.name?(i.position.copy(this.worldPositionStart),i.visible=this.dragging):"END"===i.name?(i.position.copy(this.worldPosition),i.visible=this.dragging):"DELTA"===i.name?(i.position.copy(this.worldPositionStart),i.quaternion.copy(this.worldQuaternionStart),P.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),P.applyQuaternion(this.worldQuaternionStart.clone().inverse()),i.scale.copy(P),i.visible=this.dragging):(i.quaternion.copy(t),this.dragging?i.position.copy(this.worldPositionStart):i.position.copy(this.worldPosition),this.axis&&(i.visible=-1!==this.axis.search(i.name)))}Ut.prototype.updateMatrixWorld.call(this)}};_p.prototype=Object.assign(Object.create(Ut.prototype),{constructor:_p,isTransformControlsGizmo:!0});var Np=function(){gr.call(this,new jr(1e5,1e5,2,2),new Fn({visible:!1,wireframe:!0,side:2,transparent:!0,opacity:.1})),this.type="TransformControlsPlane";var e=new Ve(1,0,0),t=new Ve(0,1,0),n=new Ve(0,0,1),r=new Ve,i=new Ve,a=new Ve,A=new dt,o=new Ne;this.updateMatrixWorld=function(){var s=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(s="local"),e.set(1,0,0).applyQuaternion("local"===s?this.worldQuaternion:o),t.set(0,1,0).applyQuaternion("local"===s?this.worldQuaternion:o),n.set(0,0,1).applyQuaternion("local"===s?this.worldQuaternion:o),a.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":a.copy(this.eye).cross(e),i.copy(e).cross(a);break;case"Y":a.copy(this.eye).cross(t),i.copy(t).cross(a);break;case"Z":a.copy(this.eye).cross(n),i.copy(n).cross(a);break;case"XY":i.copy(n);break;case"YZ":i.copy(e);break;case"XZ":a.copy(n),i.copy(t);break;case"XYZ":case"E":i.set(0,0,0)}break;case"rotate":default:i.set(0,0,0)}0===i.length()?this.quaternion.copy(this.cameraQuaternion):(A.lookAt(r.set(0,0,0),i,a),this.quaternion.setFromRotationMatrix(A)),Ut.prototype.updateMatrixWorld.call(this)}};Np.prototype=Object.assign(Object.create(gr.prototype),{constructor:Np,isTransformControlsPlane:!0});var kp=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),e.transform?p(r,e.transform):((r=t.call(this))._view=e,r._controls=new Hp(e.camera,e.container,!1),r._view.root.add(r._controls),r._controls.addEventListener("dragging-changed",(function(e){r._view.controls.enabled=!e.value})),r._controls.addEventListener("objectChange",(function(e){r.dispatchEvent({type:Ye.CHANGE,data:r.target})})),r.target=null,e.transform=d(r),r)}return A(n,[{key:"setTarget",value:function(e){this.target=e,e?this._controls.attach(this.target):this._controls.detach(),et.render()}},{key:"remove",value:function(){this._controls.detach(),this.target=null,et.render()}},{key:"getTarget",value:function(){return this.target}},{key:"getMode",value:function(e){return this._controls.mode}},{key:"setMode",value:function(e){this._controls.setMode(e),et.render()}},{key:"size",get:function(){return this._controls.size},set:function(e){this._controls.setSize(e),et.render()}},{key:"enabled",get:function(){return this._controls.enabled},set:function(e){this._controls.enabled=e,et.render()}},{key:"showX",get:function(){return this._controls.showX},set:function(e){this._controls.showX=e,et.render()}},{key:"showY",get:function(){return this._controls.showY},set:function(e){this._controls.showY=e,et.render()}},{key:"showZ",get:function(){return this._controls.showZ},set:function(e){this._controls.showZ=e,et.render()}},{key:"dispose",value:function(){this._controls.dispose(),et.render()}}]),n}(De),Gp=function e(){i(this,e)};Gp.TRANSLATE="translate",Gp.ROTATE="rotate",Gp.SCALE="scale";var Vp=function e(){i(this,e)};Vp.CENTER="center",Vp.LEFT="left",Vp.RIGHT="right",Vp.TOP="top",Vp.BOTTOM="bottom",Vp.TOP_LEFT="top-left",Vp.TOP_RIGHT="top-right",Vp.BOTTOM_LEFT="bottom-left",Vp.BOTTOM_RIGHT="bottom-right";var zp=function(){function e(t){var n=this;i(this,e),this.position=t.position.clone(),this.objectId=t.objectId,this.worldPos=t.worldPos,this.cameraView=t.cameraView,this.cameraView&&this.cameraView.position&&this.cameraView.target&&(this.cameraView.position=Array.isArray(this.cameraView.position)?(new Ve).fromArray(this.cameraView.position):(new Ve).copy(this.cameraView.position),this.cameraView.target=Array.isArray(this.cameraView.target)?(new Ve).fromArray(this.cameraView.target):(new Ve).copy(this.cameraView.target)),this.element=t.element,this.onUpdate=t.onUpdate,this.userData=t.userData||{},this.screenCoord=void 0,this.onclick=t.onclick,this.anchor=t.anchor||Vp.BOTTOM,this.offset=t.offset||new _e,this.hided=!1,this.focus=function(){},this.complete=t.complete,this.flicker=t.flicker,this.flicker&&this.showFlicker(),this.element.onclick=function(e){n.focus(),n.onclick&&n.onclick(e)}}return A(e,[{key:"showFlicker",value:function(){var e=this;this.interval||(this.interval=setInterval((function(){e.element.parentElement&&!e.hided&&(e.element.style.display="none"==e.element.style.display?"block":"none")}),500))}},{key:"stopFlicker",value:function(){this.interval&&(clearInterval(this.interval),this.interval=null,this.element.style.display=this.hided?"none":"block")}},{key:"updateScreenCoords",value:function(e){if(e){this.screenCoord=e;var t=this._convertAnchor();this.element.style.left=e.x+t.x+this.offset.x+"px",this.element.style.top=e.y+t.y+this.offset.y+"px"}}},{key:"hide",value:function(){this.element.style.display="none",this.hided=!0}},{key:"show",value:function(){this.element.style.display="block",this.hided=!1}},{key:"remove",value:function(){this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.stopFlicker()}},{key:"toJSON",value:function(){return{position:this.worldPos?this.worldPos.toArray():this.position.toArray(),objectId:this.objectId,cameraView:{position:this.cameraView&&this.cameraView.position?this.cameraView.position.toArray():null,target:this.cameraView&&this.cameraView.target?this.cameraView.target.toArray():null},element:(new XMLSerializer).serializeToString(this.element),userData:this.userData}}},{key:"_convertAnchor",value:function(){var e=this.element.getBoundingClientRect(),t=new _e;switch(this.anchor){case"center":t.set(-e.width/2,-e.height/2);break;case"top":t.set(-e.width/2,0);break;case"bottom":t.set(-e.width/2,-e.height);break;case"left":t.set(0,-e.height/2);break;case"right":t.set(-e.width,-e.height/2);break;case"top-left":t.set(0,0);break;case"top-right":t.set(-e.width,0);break;case"bottom-left":t.set(0,-e.height);break;case"bottom-right":t.set(-e.width,-e.height)}return t}}]),e}(),jp=function(){function e(){i(this,e),this.spots=[],this._visible=!0,this.name=""}return A(e,[{key:"visible",get:function(){return this._visible},set:function(e){this._setVisible(e)}},{key:"hide",value:function(){this._setVisible(0),et.render()}},{key:"show",value:function(){this._setVisible(1),et.render()}},{key:"add",value:function(e){this.spots.push(e),e.parent=this}},{key:"remove",value:function(e){this.spots.remove(e),e.remove(),e.parent=null}},{key:"removeAll",value:function(){this.spots.forEach((function(e){e.remove()})),this.spots=[]}},{key:"_setVisible",value:function(e){this._visible=e,this.spots.forEach((function(t){e?t.show():t.hide()}))}},{key:"toJSON",value:function(){var e=[];return this.spots.forEach((function(t){e.push(t.toJSON())})),e}}]),e}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;
/*!
   * html2canvas 1.3.2 <https://html2canvas.hertzen.com>
   * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>
   * Released under MIT License
   */
var Wp=function(e){var t={exports:{}};return e(t,t.exports),t.exports}((function(e,t){e.exports=function(){
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function A(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){e.done?n(e.value):i(e.value).then(A,o)}s((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,a,A={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return s([e,t])}}function s(a){if(n)throw new TypeError("Generator is already executing.");for(;A;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return A.label++,{value:a[1],done:!1};case 5:A.label++,r=a[1],a=[0];continue;case 7:a=A.ops.pop(),A.trys.pop();continue;default:if(!((i=(i=A.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){A=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){A.label=a[1];break}if(6===a[0]&&A.label<i[1]){A.label=i[1],i=a;break}if(i&&A.label<i[2]){A.label=i[2],A.ops.push(a);break}i[2]&&A.ops.pop(),A.trys.pop();continue}a=t.call(e,A)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var A=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=n[0];return r?new e(r.x+t.windowBounds.left,r.y+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return A.fromClientRect(e,t.getBoundingClientRect())},s=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new A(0,0,r,i)},l=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var A=e[i];A<=65535?r.push(A):(A-=65536,r.push(55296+(A>>10),A%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<u.length;d++)h[u.charCodeAt(d)]=d;var p=function(e){var t,n,r,i,a,A=.75*e.length,o=e.length,s=0;"="===e[e.length-1]&&(A--,"="===e[e.length-2]&&A--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=h[e.charCodeAt(t)],r=h[e.charCodeAt(t+1)],i=h[e.charCodeAt(t+2)],a=h[e.charCodeAt(t+3)],c[s++]=n<<2|r>>4,c[s++]=(15&r)<<4|i>>2,c[s++]=(3&i)<<6|63&a;return l},f=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},g=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},m=5,v=11,y=2,w=v-m,B=65536>>m,x=1<<m,b=x-1,C=1024>>m,M=B+C+32,E=65536>>v,I=(1<<w)-1,T=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},S=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},F=function(e){var t=p(e),n=Array.isArray(t)?g(t):new Uint32Array(t),r=Array.isArray(t)?f(t):new Uint16Array(t),i=24,a=T(r,i/2,n[4]/2),A=2===n[5]?T(r,(i+n[4])/2):S(n,Math.ceil((i+n[4])/4));return new U(n[0],n[1],n[2],n[3],a,A)},U=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>m])<<y)+(e&b),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>m)])<<y)+(e&b),this.data[t];if(e<this.highStart)return t=M-E+(e>>v),t=this.index[t],t+=e>>m&I,t=((t=this.index[t])<<y)+(e&b),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),L=50,R=1,P=2,D=3,Q=4,O=5,H=7,_=8,N=9,k=10,G=11,V=12,z=13,j=14,W=15,X=16,Y=17,K=18,Z=19,J=20,q=21,$=22,ee=23,te=24,ne=25,re=26,ie=27,ae=28,Ae=29,oe=30,se=31,le=32,ce=33,ue=34,he=35,de=36,pe=37,fe=38,ge=39,me=40,ve=41,ye=42,we=43,Be=[9001,65288],xe="!",be="×",Ce="÷",Me=F("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Ee=[oe,de],Ie=[R,P,D,O],Te=[k,_],Se=[ie,re],Fe=Ie.concat(Te),Ue=[fe,ge,me,ue,he],Le=[W,z],Re=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,a){var A=Me.get(e);if(A>L?(i.push(!0),A-=L):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(X);if(A===Q||A===G){if(0===a)return r.push(a),n.push(oe);var o=n[a-1];return-1===Fe.indexOf(o)?(r.push(r[a-1]),n.push(o)):(r.push(a),n.push(oe))}return r.push(a),A===se?n.push("strict"===t?q:pe):A===ye||A===Ae?n.push(oe):A===we?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(pe):n.push(oe):void n.push(A)})),[r,n,i]},Pe=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var a=n;a<=r.length;){if((s=r[++a])===t)return!0;if(s!==k)break}if(i===k)for(a=n;a>0;){var A=r[--a];if(Array.isArray(e)?-1!==e.indexOf(A):e===A)for(var o=n;o<=r.length;){var s;if((s=r[++o])===t)return!0;if(s!==k)break}if(A!==k)break}return!1},De=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==k)return r;n--}return 0},Qe=function(e,t,n,r,i){if(0===n[r])return be;var a=r-1;if(Array.isArray(i)&&!0===i[a])return be;var A=a-1,o=a+1,s=t[a],l=A>=0?t[A]:0,c=t[o];if(s===P&&c===D)return be;if(-1!==Ie.indexOf(s))return xe;if(-1!==Ie.indexOf(c))return be;if(-1!==Te.indexOf(c))return be;if(De(a,t)===_)return Ce;if(Me.get(e[a])===G)return be;if((s===le||s===ce)&&Me.get(e[o])===G)return be;if(s===H||c===H)return be;if(s===N)return be;if(-1===[k,z,W].indexOf(s)&&c===N)return be;if(-1!==[Y,K,Z,te,ae].indexOf(c))return be;if(De(a,t)===$)return be;if(Pe(ee,$,a,t))return be;if(Pe([Y,K],q,a,t))return be;if(Pe(V,V,a,t))return be;if(s===k)return Ce;if(s===ee||c===ee)return be;if(c===X||s===X)return Ce;if(-1!==[z,W,q].indexOf(c)||s===j)return be;if(l===de&&-1!==Le.indexOf(s))return be;if(s===ae&&c===de)return be;if(c===J)return be;if(-1!==Ee.indexOf(c)&&s===ne||-1!==Ee.indexOf(s)&&c===ne)return be;if(s===ie&&-1!==[pe,le,ce].indexOf(c)||-1!==[pe,le,ce].indexOf(s)&&c===re)return be;if(-1!==Ee.indexOf(s)&&-1!==Se.indexOf(c)||-1!==Se.indexOf(s)&&-1!==Ee.indexOf(c))return be;if(-1!==[ie,re].indexOf(s)&&(c===ne||-1!==[$,W].indexOf(c)&&t[o+1]===ne)||-1!==[$,W].indexOf(s)&&c===ne||s===ne&&-1!==[ne,ae,te].indexOf(c))return be;if(-1!==[ne,ae,te,Y,K].indexOf(c))for(var u=a;u>=0;){if((h=t[u])===ne)return be;if(-1===[ae,te].indexOf(h))break;u--}if(-1!==[ie,re].indexOf(c))for(u=-1!==[Y,K].indexOf(s)?A:a;u>=0;){var h;if((h=t[u])===ne)return be;if(-1===[ae,te].indexOf(h))break;u--}if(fe===s&&-1!==[fe,ge,ue,he].indexOf(c)||-1!==[ge,ue].indexOf(s)&&-1!==[ge,me].indexOf(c)||-1!==[me,he].indexOf(s)&&c===me)return be;if(-1!==Ue.indexOf(s)&&-1!==[J,re].indexOf(c)||-1!==Ue.indexOf(c)&&s===ie)return be;if(-1!==Ee.indexOf(s)&&-1!==Ee.indexOf(c))return be;if(s===te&&-1!==Ee.indexOf(c))return be;if(-1!==Ee.concat(ne).indexOf(s)&&c===$&&-1===Be.indexOf(e[o])||-1!==Ee.concat(ne).indexOf(c)&&s===K)return be;if(s===ve&&c===ve){for(var d=n[a],p=1;d>0&&t[--d]===ve;)p++;if(p%2!=0)return be}return s===le&&c===ce?be:Ce},Oe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Re(e,t.lineBreak),r=n[0],i=n[1],a=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[ne,oe,ye].indexOf(e)?pe:e}))),[r,i,"keep-all"===t.wordBreak?a.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===xe,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),_e=function(e,t){var n=l(e),r=Oe(n,t),i=r[0],a=r[1],A=r[2],o=n.length,s=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=be;c<o&&(e=Qe(n,a,i,++c,A))===be;);if(e!==be||c===o){var t=new He(n,e,s,c);return s=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ne=1,ke=2,Ge=4,Ve=8,ze=10,je=47,We=92,Xe=9,Ye=32,Ke=34,Ze=61,Je=35,qe=36,$e=37,et=39,tt=40,nt=41,rt=95,it=45,at=33,At=60,ot=62,st=64,lt=91,ct=93,ut=61,ht=123,dt=63,pt=125,ft=124,gt=126,mt=128,vt=65533,yt=42,wt=43,Bt=44,xt=58,bt=59,Ct=46,Mt=0,Et=8,It=11,Tt=14,St=31,Ft=127,Ut=-1,Lt=48,Rt=97,Pt=101,Dt=102,Qt=117,Ot=122,Ht=65,_t=69,Nt=70,kt=85,Gt=90,Vt=function(e){return e>=Lt&&e<=57},zt=function(e){return e>=55296&&e<=57343},jt=function(e){return Vt(e)||e>=Ht&&e<=Nt||e>=Rt&&e<=Dt},Wt=function(e){return e>=Rt&&e<=Ot},Xt=function(e){return e>=Ht&&e<=Gt},Yt=function(e){return Wt(e)||Xt(e)},Kt=function(e){return e>=mt},Zt=function(e){return e===ze||e===Xe||e===Ye},Jt=function(e){return Yt(e)||Kt(e)||e===rt},qt=function(e){return Jt(e)||Vt(e)||e===it},$t=function(e){return e>=Mt&&e<=Et||e===It||e>=Tt&&e<=St||e===Ft},en=function(e,t){return e===We&&t!==ze},tn=function(e,t,n){return e===it?Jt(t)||en(t,n):!!Jt(e)||!(e!==We||!en(e,t))},nn=function(e,t,n){return e===wt||e===it?!!Vt(t)||t===Ct&&Vt(n):Vt(e===Ct?t:e)},rn=function(e){var t=0,n=1;e[t]!==wt&&e[t]!==it||(e[t]===it&&(n=-1),t++);for(var r=[];Vt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===Ct&&t++;for(var a=[];Vt(e[t]);)a.push(e[t++]);var A=a.length,o=A?parseInt(c.apply(void 0,a),10):0;e[t]!==_t&&e[t]!==Pt||t++;var s=1;e[t]!==wt&&e[t]!==it||(e[t]===it&&(s=-1),t++);for(var l=[];Vt(e[t]);)l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(i+o*Math.pow(10,-A))*Math.pow(10,s*u)},an={type:2},An={type:3},on={type:4},sn={type:13},ln={type:8},cn={type:21},un={type:9},hn={type:10},dn={type:11},pn={type:12},fn={type:14},gn={type:23},mn={type:1},vn={type:25},yn={type:24},wn={type:26},Bn={type:27},xn={type:28},bn={type:29},Cn={type:31},Mn={type:32},En=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Mn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ke:return this.consumeStringToken(Ke);case Je:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(qt(t)||en(n,r)){var i=tn(t,n,r)?ke:Ne;return{type:5,value:this.consumeName(),flags:i}}break;case qe:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),sn;break;case et:return this.consumeStringToken(et);case tt:return an;case nt:return An;case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fn;break;case wt:if(nn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bt:return on;case it:var a=e,A=this.peekCodePoint(0),o=this.peekCodePoint(1);if(nn(a,A,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tn(a,A,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===it&&o===ot)return this.consumeCodePoint(),this.consumeCodePoint(),yn;break;case Ct:if(nn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case je:if(this.peekCodePoint(0)===yt)for(this.consumeCodePoint();;){var s=this.consumeCodePoint();if(s===yt&&(s=this.consumeCodePoint())===je)return this.consumeToken();if(s===Ut)return this.consumeToken()}break;case xt:return wn;case bt:return Bn;case At:if(this.peekCodePoint(0)===at&&this.peekCodePoint(1)===it&&this.peekCodePoint(2)===it)return this.consumeCodePoint(),this.consumeCodePoint(),vn;break;case st:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(tn(l,u,h))return{type:7,value:this.consumeName()};break;case lt:return xn;case We:if(en(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ct:return bn;case ut:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),ln;break;case ht:return dn;case pt:return pn;case Qt:case kt:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d!==wt||!jt(p)&&p!==dt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case ft:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),un;if(this.peekCodePoint(0)===ft)return this.consumeCodePoint(),cn;break;case gt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),hn;break;case Ut:return Mn}return Zt(e)?(this.consumeWhiteSpace(),Cn):Vt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Jt(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();jt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===dt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===dt?Lt:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===dt?Nt:e}))),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===it&&jt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];jt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===tt?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===tt?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===et||t===Ke){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===nt)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),gn)}for(;;){var r=this.consumeCodePoint();if(r===Ut||r===nt)return{type:22,value:c.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===nt?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),gn);if(r===Ke||r===et||r===tt||$t(r))return this.consumeBadUrlRemnants(),gn;if(r===We){if(!en(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),gn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===nt||e===Ut)return;en(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=6e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Ut||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===ze)return this._value.splice(0,n),mn;if(r===We){var i=this._value[n+1];i!==Ut&&void 0!==i&&(i===ze?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):en(r,i)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ge,n=this.peekCodePoint(0);for(n!==wt&&n!==it||e.push(this.consumeCodePoint());Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Ct&&Vt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ve;Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===_t||n===Pt)&&((r===wt||r===it)&&Vt(i)||Vt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ve;Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[rn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);return tn(r,i,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===$e?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(jt(e)){for(var t=c(e);jt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||zt(n)||n>1114111?vt:n}return e===Ut?vt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(qt(t))e+=c(t);else{if(!en(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),In=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new En;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Qn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Mn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Tn=function(e){return 15===e.type},Sn=function(e){return 17===e.type},Fn=function(e){return 20===e.type},Un=function(e){return 0===e.type},Ln=function(e,t){return Fn(e)&&e.value===t},Rn=function(e){return 31!==e.type},Pn=function(e){return 31!==e.type&&4!==e.type},Dn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Qn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},On=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||On(e)},_n=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Nn={type:17,number:0,flags:Ge},kn={type:16,number:50,flags:Ge},Gn={type:16,number:100,flags:Ge},Vn=function(e,t,n){var r=e[0],i=e[1];return[zn(r,t),zn(void 0!==i?i:r,n)]},zn=function(e,t){if(16===e.type)return e.number/100*t;if(Tn(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},jn="deg",Wn="grad",Xn="rad",Yn="turn",Kn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case jn:return Math.PI*t.number/180;case Wn:return Math.PI/200*t.number;case Xn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===jn||e.unit===Wn||e.unit===Xn||e.unit===Yn)},Jn=function(e){switch(e.filter(Fn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Nn,Nn];case"to top":case"bottom":return qn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Nn,Gn];case"to right":case"left":return qn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gn,Gn];case"to bottom":case"top":return qn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gn,Nn];case"to left":case"right":return qn(270)}return 0},qn=function(e){return Math.PI*e/180},$n={name:"color",parse:function(e,t){if(18===t.type){var n=sr[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return nr(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);var A=t.value.substring(3,4);return nr(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(A+A,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),nr(parseInt(r,16),parseInt(i,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),A=t.value.substring(6,8),nr(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(A,16)/255)}if(20===t.type){var o=cr[t.value.toUpperCase()];if(void 0!==o)return o}return cr.TRANSPARENT}},er=function(e){return 0==(255&e)},tr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},nr=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},rr=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ir=function(e,t){var n=t.filter(Pn);if(3===n.length){var r=n.map(rr),i=r[0],a=r[1],A=r[2];return nr(i,a,A,1)}if(4===n.length){var o=n.map(rr),s=(i=o[0],a=o[1],A=o[2],o[3]);return nr(i,a,A,s)}return 0};function ar(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var Ar,or=function(e,t){var n=t.filter(Pn),r=n[0],i=n[1],a=n[2],A=n[3],o=(17===r.type?qn(r.number):Kn.parse(e,r))/(2*Math.PI),s=Hn(i)?i.number/100:0,l=Hn(a)?a.number/100:0,c=void 0!==A&&Hn(A)?zn(A,1):1;if(0===s)return nr(255*l,255*l,255*l,1);var u=l<=.5?l*(s+1):l+s-l*s,h=2*l-u,d=ar(h,u,o+1/3),p=ar(h,u,o),f=ar(h,u,o-1/3);return nr(255*d,255*p,255*f,c)},sr={hsl:or,hsla:or,rgb:ir,rgba:ir},lr=function(e,t){return $n.parse(e,In.create(t).parseComponentValue())},cr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};!function(e){e[e.BORDER_BOX=0]="BORDER_BOX",e[e.PADDING_BOX=1]="PADDING_BOX",e[e.CONTENT_BOX=2]="CONTENT_BOX"}(Ar||(Ar={}));var ur,hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Fn(e))switch(e.value){case"padding-box":return Ar.PADDING_BOX;case"content-box":return Ar.CONTENT_BOX}return Ar.BORDER_BOX}))}},dr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr=function(e,t){var n=$n.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},fr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Nn),null===r.stop&&(r.stop=Gn);for(var i=[],a=0,A=0;A<e.length;A++){var o=e[A].stop;if(null!==o){var s=zn(o,t);s>a?i.push(s):i.push(a),a=s}else i.push(null)}var l=null;for(A=0;A<i.length;A++){var c=i[A];if(null===c)null===l&&(l=A);else if(null!==l){for(var u=A-l,h=(c-i[l-1])/(u+1),d=1;d<=u;d++)i[l+d-1]=h*d;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},gr=function(e,t,n){var r=t/2,i=n/2,a=zn(e[0],t)-r,A=i-zn(e[1],n);return(Math.atan2(A,a)+2*Math.PI)%(2*Math.PI)},mr=function(e,t,n){var r="number"==typeof e?e:gr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,A=n/2,o=i/2,s=Math.sin(r-Math.PI/2)*o,l=Math.cos(r-Math.PI/2)*o;return[i,a-l,a+l,A-s,A+s]},vr=function(e,t){return Math.sqrt(e*e+t*t)},yr=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var a=t[0],A=t[1],o=vr(n-a,r-A);return(i?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},wr=function(e,t,n,r,i){var a=0,A=0;switch(e.size){case Dr.CLOSEST_SIDE:e.shape===Pr.CIRCLE?a=A=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===Pr.ELLIPSE&&(a=Math.min(Math.abs(t),Math.abs(t-r)),A=Math.min(Math.abs(n),Math.abs(n-i)));break;case Dr.CLOSEST_CORNER:if(e.shape===Pr.CIRCLE)a=A=Math.min(vr(t,n),vr(t,n-i),vr(t-r,n),vr(t-r,n-i));else if(e.shape===Pr.ELLIPSE){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),s=yr(r,i,t,n,!0),l=s[0],c=s[1];A=o*(a=vr(l-t,(c-n)/o))}break;case Dr.FARTHEST_SIDE:e.shape===Pr.CIRCLE?a=A=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===Pr.ELLIPSE&&(a=Math.max(Math.abs(t),Math.abs(t-r)),A=Math.max(Math.abs(n),Math.abs(n-i)));break;case Dr.FARTHEST_CORNER:if(e.shape===Pr.CIRCLE)a=A=Math.max(vr(t,n),vr(t,n-i),vr(t-r,n),vr(t-r,n-i));else if(e.shape===Pr.ELLIPSE){o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var u=yr(r,i,t,n,!1);l=u[0],c=u[1],A=o*(a=vr(l-t,(c-n)/o))}}return Array.isArray(e.size)&&(a=zn(e.size[0],r),A=2===e.size.length?zn(e.size[1],i):a),[a,A]},Br=function(e,t){var n=qn(180),r=[];return Dn(t).forEach((function(t,i){if(0===i){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=Jn(t));if(Zn(a))return void(n=Kn.parse(e,a))}var A=pr(e,t);r.push(A)})),{angle:n,stops:r,type:ur.LINEAR_GRADIENT}},xr=function(e,t){var n=qn(180),r=[];return Dn(t).forEach((function(t,i){if(0===i){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=Jn(t));if(Zn(a))return void(n=(Kn.parse(e,a)+qn(270))%qn(360))}var A=pr(e,t);r.push(A)})),{angle:n,stops:r,type:ur.LINEAR_GRADIENT}},br=function(e,t){var n=qn(180),r=[],i=ur.LINEAR_GRADIENT,a=Pr.CIRCLE,A=Dr.FARTHEST_CORNER,o=[];return Dn(t).forEach((function(t,n){var a=t[0];if(0===n){if(Fn(a)&&"linear"===a.value)return void(i=ur.LINEAR_GRADIENT);if(Fn(a)&&"radial"===a.value)return void(i=ur.RADIAL_GRADIENT)}if(18===a.type)if("from"===a.name){var A=$n.parse(e,a.values[0]);r.push({stop:Nn,color:A})}else if("to"===a.name)A=$n.parse(e,a.values[0]),r.push({stop:Gn,color:A});else if("color-stop"===a.name){var o=a.values.filter(Pn);if(2===o.length){A=$n.parse(e,o[1]);var s=o[0];Sn(s)&&r.push({stop:{type:16,number:100*s.number,flags:s.flags},color:A})}}})),i===ur.LINEAR_GRADIENT?{angle:(n+qn(180))%qn(360),stops:r,type:i}:{size:A,shape:a,stops:r,position:o,type:i}},Cr="closest-side",Mr="farthest-side",Er="closest-corner",Ir="farthest-corner",Tr="circle",Sr="ellipse",Fr="cover",Ur="contain",Lr=function(e,t){var n=Pr.CIRCLE,r=Dr.FARTHEST_CORNER,i=[],a=[];return Dn(t).forEach((function(t,A){var o=!0;if(0===A){var s=!1;o=t.reduce((function(e,t){if(s)if(Fn(t))switch(t.value){case"center":return a.push(kn),e;case"top":case"left":return a.push(Nn),e;case"right":case"bottom":return a.push(Gn),e}else(Hn(t)||On(t))&&a.push(t);else if(Fn(t))switch(t.value){case Tr:return n=Pr.CIRCLE,!1;case Sr:return n=Pr.ELLIPSE,!1;case"at":return s=!0,!1;case Cr:return r=Dr.CLOSEST_SIDE,!1;case Fr:case Mr:return r=Dr.FARTHEST_SIDE,!1;case Ur:case Er:return r=Dr.CLOSEST_CORNER,!1;case Ir:return r=Dr.FARTHEST_CORNER,!1}else if(On(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)}if(o){var l=pr(e,t);i.push(l)}})),{size:r,shape:n,stops:i,position:a,type:ur.RADIAL_GRADIENT}},Rr=function(e,t){var n=Pr.CIRCLE,r=Dr.FARTHEST_CORNER,i=[],a=[];return Dn(t).forEach((function(t,A){var o=!0;if(0===A?o=t.reduce((function(e,t){if(Fn(t))switch(t.value){case"center":return a.push(kn),!1;case"top":case"left":return a.push(Nn),!1;case"right":case"bottom":return a.push(Gn),!1}else if(Hn(t)||On(t))return a.push(t),!1;return e}),o):1===A&&(o=t.reduce((function(e,t){if(Fn(t))switch(t.value){case Tr:return n=Pr.CIRCLE,!1;case Sr:return n=Pr.ELLIPSE,!1;case Ur:case Cr:return r=Dr.CLOSEST_SIDE,!1;case Mr:return r=Dr.FARTHEST_SIDE,!1;case Er:return r=Dr.CLOSEST_CORNER,!1;case Fr:case Ir:return r=Dr.FARTHEST_CORNER,!1}else if(On(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)),o){var s=pr(e,t);i.push(s)}})),{size:r,shape:n,stops:i,position:a,type:ur.RADIAL_GRADIENT}};!function(e){e[e.URL=0]="URL",e[e.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",e[e.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(ur||(ur={}));var Pr,Dr,Qr=function(e){return e.type===ur.LINEAR_GRADIENT},Or=function(e){return e.type===ur.RADIAL_GRADIENT};(function(e){e[e.CIRCLE=0]="CIRCLE",e[e.ELLIPSE=1]="ELLIPSE"})(Pr||(Pr={})),function(e){e[e.CLOSEST_SIDE=0]="CLOSEST_SIDE",e[e.FARTHEST_SIDE=1]="FARTHEST_SIDE",e[e.CLOSEST_CORNER=2]="CLOSEST_CORNER",e[e.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(Dr||(Dr={}));var Hr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:ur.URL};return e.cache.addImage(t.value),n}if(18===t.type){var r=kr[t.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function _r(e){return!(20===e.type&&"none"===e.value||18===e.type&&!kr[e.name])}var Nr,kr={"linear-gradient":Br,"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":Lr,"-moz-radial-gradient":Rr,"-ms-radial-gradient":Rr,"-o-radial-gradient":Rr,"-webkit-radial-gradient":Rr,"-webkit-gradient":br},Gr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Pn(e)&&_r(e)})).map((function(t){return Hr.parse(e,t)}))}},Vr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Fn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},zr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(Hn)})).map(_n)}};!function(e){e[e.REPEAT=0]="REPEAT",e[e.NO_REPEAT=1]="NO_REPEAT",e[e.REPEAT_X=2]="REPEAT_X",e[e.REPEAT_Y=3]="REPEAT_Y"}(Nr||(Nr={}));var jr,Wr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(Fn).map((function(e){return e.value})).join(" ")})).map(Xr)}},Xr=function(e){switch(e){case"no-repeat":return Nr.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Nr.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Nr.REPEAT_Y;case"repeat":default:return Nr.REPEAT}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(jr||(jr={}));var Yr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(Zr)}))}},Zr=function(e){return Fn(e)||Hn(e)},Jr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},qr=Jr("top"),$r=Jr("right"),ei=Jr("bottom"),ti=Jr("left"),ni=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return _n(t.filter(Hn))}}},ri=ni("top-left"),ii=ni("top-right"),ai=ni("bottom-right"),Ai=ni("bottom-left");!function(e){e[e.NONE=0]="NONE",e[e.SOLID=1]="SOLID",e[e.DASHED=2]="DASHED",e[e.DOTTED=3]="DOTTED",e[e.DOUBLE=4]="DOUBLE"}(Yr||(Yr={}));var oi,si=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return Yr.NONE;case"dashed":return Yr.DASHED;case"dotted":return Yr.DOTTED;case"double":return Yr.DOUBLE}return Yr.SOLID}}},li=si("top"),ci=si("right"),ui=si("bottom"),hi=si("left"),di=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:0}}},pi=di("top"),fi=di("right"),gi=di("bottom"),mi=di("left"),vi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},wi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).reduce((function(e,t){return e|Bi(t.value)}),0)}},Bi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.INLINE_START=3]="INLINE_START",e[e.INLINE_END=4]="INLINE_END"}(oi||(oi={}));var xi,bi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return oi.LEFT;case"right":return oi.RIGHT;case"inline-start":return oi.INLINE_START;case"inline-end":return oi.INLINE_END}return oi.NONE}},Ci={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(xi||(xi={}));var Mi,Ei={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return xi.STRICT;case"normal":default:return xi.NORMAL}}},Ii={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ti=function(e,t){return Fn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?zn(e,t):t},Si={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Hr.parse(e,t)}};!function(e){e[e.INSIDE=0]="INSIDE",e[e.OUTSIDE=1]="OUTSIDE"}(Mi||(Mi={}));var Fi,Ui={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return Mi.INSIDE;case"outside":default:return Mi.OUTSIDE}}};!function(e){e[e.NONE=-1]="NONE",e[e.DISC=0]="DISC",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.DECIMAL=3]="DECIMAL",e[e.CJK_DECIMAL=4]="CJK_DECIMAL",e[e.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",e[e.LOWER_ROMAN=6]="LOWER_ROMAN",e[e.UPPER_ROMAN=7]="UPPER_ROMAN",e[e.LOWER_GREEK=8]="LOWER_GREEK",e[e.LOWER_ALPHA=9]="LOWER_ALPHA",e[e.UPPER_ALPHA=10]="UPPER_ALPHA",e[e.ARABIC_INDIC=11]="ARABIC_INDIC",e[e.ARMENIAN=12]="ARMENIAN",e[e.BENGALI=13]="BENGALI",e[e.CAMBODIAN=14]="CAMBODIAN",e[e.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",e[e.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",e[e.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",e[e.DEVANAGARI=18]="DEVANAGARI",e[e.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",e[e.GEORGIAN=20]="GEORGIAN",e[e.GUJARATI=21]="GUJARATI",e[e.GURMUKHI=22]="GURMUKHI",e[e.HEBREW=22]="HEBREW",e[e.HIRAGANA=23]="HIRAGANA",e[e.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",e[e.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",e[e.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",e[e.KANNADA=27]="KANNADA",e[e.KATAKANA=28]="KATAKANA",e[e.KATAKANA_IROHA=29]="KATAKANA_IROHA",e[e.KHMER=30]="KHMER",e[e.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",e[e.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",e[e.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",e[e.LAO=34]="LAO",e[e.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",e[e.MALAYALAM=36]="MALAYALAM",e[e.MONGOLIAN=37]="MONGOLIAN",e[e.MYANMAR=38]="MYANMAR",e[e.ORIYA=39]="ORIYA",e[e.PERSIAN=40]="PERSIAN",e[e.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",e[e.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",e[e.TAMIL=43]="TAMIL",e[e.TELUGU=44]="TELUGU",e[e.THAI=45]="THAI",e[e.TIBETAN=46]="TIBETAN",e[e.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",e[e.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",e[e.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",e[e.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",e[e.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Fi||(Fi={}));var Li,Ri={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return Fi.DISC;case"circle":return Fi.CIRCLE;case"square":return Fi.SQUARE;case"decimal":return Fi.DECIMAL;case"cjk-decimal":return Fi.CJK_DECIMAL;case"decimal-leading-zero":return Fi.DECIMAL_LEADING_ZERO;case"lower-roman":return Fi.LOWER_ROMAN;case"upper-roman":return Fi.UPPER_ROMAN;case"lower-greek":return Fi.LOWER_GREEK;case"lower-alpha":return Fi.LOWER_ALPHA;case"upper-alpha":return Fi.UPPER_ALPHA;case"arabic-indic":return Fi.ARABIC_INDIC;case"armenian":return Fi.ARMENIAN;case"bengali":return Fi.BENGALI;case"cambodian":return Fi.CAMBODIAN;case"cjk-earthly-branch":return Fi.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Fi.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Fi.CJK_IDEOGRAPHIC;case"devanagari":return Fi.DEVANAGARI;case"ethiopic-numeric":return Fi.ETHIOPIC_NUMERIC;case"georgian":return Fi.GEORGIAN;case"gujarati":return Fi.GUJARATI;case"gurmukhi":return Fi.GURMUKHI;case"hebrew":return Fi.HEBREW;case"hiragana":return Fi.HIRAGANA;case"hiragana-iroha":return Fi.HIRAGANA_IROHA;case"japanese-formal":return Fi.JAPANESE_FORMAL;case"japanese-informal":return Fi.JAPANESE_INFORMAL;case"kannada":return Fi.KANNADA;case"katakana":return Fi.KATAKANA;case"katakana-iroha":return Fi.KATAKANA_IROHA;case"khmer":return Fi.KHMER;case"korean-hangul-formal":return Fi.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Fi.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Fi.KOREAN_HANJA_INFORMAL;case"lao":return Fi.LAO;case"lower-armenian":return Fi.LOWER_ARMENIAN;case"malayalam":return Fi.MALAYALAM;case"mongolian":return Fi.MONGOLIAN;case"myanmar":return Fi.MYANMAR;case"oriya":return Fi.ORIYA;case"persian":return Fi.PERSIAN;case"simp-chinese-formal":return Fi.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Fi.SIMP_CHINESE_INFORMAL;case"tamil":return Fi.TAMIL;case"telugu":return Fi.TELUGU;case"thai":return Fi.THAI;case"tibetan":return Fi.TIBETAN;case"trad-chinese-formal":return Fi.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Fi.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Fi.UPPER_ARMENIAN;case"disclosure-open":return Fi.DISCLOSURE_OPEN;case"disclosure-closed":return Fi.DISCLOSURE_CLOSED;case"none":default:return Fi.NONE}}},Pi=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Di=Pi("top"),Qi=Pi("right"),Oi=Pi("bottom"),Hi=Pi("left");!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.SCROLL=2]="SCROLL",e[e.CLIP=3]="CLIP",e[e.AUTO=4]="AUTO"}(Li||(Li={}));var _i,Ni={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(e){switch(e.value){case"hidden":return Li.HIDDEN;case"scroll":return Li.SCROLL;case"clip":return Li.CLIP;case"auto":return Li.AUTO;case"visible":default:return Li.VISIBLE}}))}},ki={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Gi=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Vi=Gi("top"),zi=Gi("right"),ji=Gi("bottom"),Wi=Gi("left");!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(_i||(_i={}));var Xi,Yi={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return _i.RIGHT;case"center":case"justify":return _i.CENTER;case"left":default:return _i.LEFT}}};!function(e){e[e.STATIC=0]="STATIC",e[e.RELATIVE=1]="RELATIVE",e[e.ABSOLUTE=2]="ABSOLUTE",e[e.FIXED=3]="FIXED",e[e.STICKY=4]="STICKY"}(Xi||(Xi={}));var Ki,Zi={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return Xi.RELATIVE;case"absolute":return Xi.ABSOLUTE;case"fixed":return Xi.FIXED;case"sticky":return Xi.STICKY}return Xi.STATIC}},Ji={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ln(t[0],"none")?[]:Dn(t).map((function(t){for(var n={color:cr.TRANSPARENT,offsetX:Nn,offsetY:Nn,blur:Nn},r=0,i=0;i<t.length;i++){var a=t[i];On(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=$n.parse(e,a)}return n}))}};!function(e){e[e.NONE=0]="NONE",e[e.LOWERCASE=1]="LOWERCASE",e[e.UPPERCASE=2]="UPPERCASE",e[e.CAPITALIZE=3]="CAPITALIZE"}(Ki||(Ki={}));var qi,$i={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return Ki.UPPERCASE;case"lowercase":return Ki.LOWERCASE;case"capitalize":return Ki.CAPITALIZE}return Ki.NONE}},ea={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=ta[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},ta={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var A=t[12],o=t[13];return t[14],t[15],16===t.length?[n,r,i,a,A,o]:null}},na={type:16,number:50,flags:Ge},ra=[na,na],ia={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?ra:[n[0],n[1]]}};!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.COLLAPSE=2]="COLLAPSE"}(qi||(qi={}));var aa,Aa={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return qi.HIDDEN;case"collapse":return qi.COLLAPSE;case"visible":default:return qi.VISIBLE}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(aa||(aa={}));var oa,sa={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return aa.BREAK_ALL;case"keep-all":return aa.KEEP_ALL;case"normal":default:return aa.NORMAL}}},la={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Sn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},ca={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},ua={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Sn(t)?t.number:1}},ha={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},da={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},pa={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},fa={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ga={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Sn(t))return t.number;if(Fn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},ma={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Fn).map((function(e){return e.value}))}};!function(e){e.NORMAL="normal",e.ITALIC="italic",e.OBLIQUE="oblique"}(oa||(oa={}));var va,ya={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return oa.OBLIQUE;case"italic":return oa.ITALIC;case"normal":default:return oa.NORMAL}}},wa=function(e,t){return 0!=(e&t)},Ba={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},xa={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Rn),a=0;a<i.length;a++){var A=i[a],o=i[a+1];if(20===A.type){var s=o&&Sn(o)?o.number:1;r.push({counter:A.value,increment:s})}}return r}},ba={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Rn),i=0;i<r.length;i++){var a=r[i],A=r[i+1];if(Fn(a)&&"none"!==a.value){var o=A&&Sn(A)?A.number:0;n.push({counter:a.value,reset:o})}}return n}},Ca={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).map((function(t){return ca.parse(e,t)}))}},Ma={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Un);if(i.length%2!=0)return null;for(var a=0;a<i.length;a+=2){var A=i[a].value,o=i[a+1].value;r.push({open:A,close:o})}return r}},Ea=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},Ia={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ln(t[0],"none")?[]:Dn(t).map((function(t){for(var n={color:255,offsetX:Nn,offsetY:Nn,blur:Nn,spread:Nn,inset:!1},r=0,i=0;i<t.length;i++){var a=t[i];Ln(a,"inset")?n.inset=!0:On(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=$n.parse(e,a)}return n}))}};!function(e){e[e.FILL=0]="FILL",e[e.STROKE=1]="STROKE",e[e.MARKERS=2]="MARKERS"}(va||(va={}));for(var Ta={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[va.FILL,va.STROKE,va.MARKERS],r=[];return t.filter(Fn).forEach((function(e){switch(e.value){case"stroke":r.push(va.STROKE);break;case"fill":r.push(va.FILL);break;case"markers":r.push(va.MARKERS)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},Sa={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Fa={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:0}},Ua=function(){function e(e,t){var n,r;this.animationDuration=Pa(e,Ca,t.animationDuration),this.backgroundClip=Pa(e,hr,t.backgroundClip),this.backgroundColor=Pa(e,dr,t.backgroundColor),this.backgroundImage=Pa(e,Gr,t.backgroundImage),this.backgroundOrigin=Pa(e,Vr,t.backgroundOrigin),this.backgroundPosition=Pa(e,zr,t.backgroundPosition),this.backgroundRepeat=Pa(e,Wr,t.backgroundRepeat),this.backgroundSize=Pa(e,Kr,t.backgroundSize),this.borderTopColor=Pa(e,qr,t.borderTopColor),this.borderRightColor=Pa(e,$r,t.borderRightColor),this.borderBottomColor=Pa(e,ei,t.borderBottomColor),this.borderLeftColor=Pa(e,ti,t.borderLeftColor),this.borderTopLeftRadius=Pa(e,ri,t.borderTopLeftRadius),this.borderTopRightRadius=Pa(e,ii,t.borderTopRightRadius),this.borderBottomRightRadius=Pa(e,ai,t.borderBottomRightRadius),this.borderBottomLeftRadius=Pa(e,Ai,t.borderBottomLeftRadius),this.borderTopStyle=Pa(e,li,t.borderTopStyle),this.borderRightStyle=Pa(e,ci,t.borderRightStyle),this.borderBottomStyle=Pa(e,ui,t.borderBottomStyle),this.borderLeftStyle=Pa(e,hi,t.borderLeftStyle),this.borderTopWidth=Pa(e,pi,t.borderTopWidth),this.borderRightWidth=Pa(e,fi,t.borderRightWidth),this.borderBottomWidth=Pa(e,gi,t.borderBottomWidth),this.borderLeftWidth=Pa(e,mi,t.borderLeftWidth),this.boxShadow=Pa(e,Ia,t.boxShadow),this.color=Pa(e,vi,t.color),this.direction=Pa(e,yi,t.direction),this.display=Pa(e,wi,t.display),this.float=Pa(e,bi,t.cssFloat),this.fontFamily=Pa(e,pa,t.fontFamily),this.fontSize=Pa(e,fa,t.fontSize),this.fontStyle=Pa(e,ya,t.fontStyle),this.fontVariant=Pa(e,ma,t.fontVariant),this.fontWeight=Pa(e,ga,t.fontWeight),this.letterSpacing=Pa(e,Ci,t.letterSpacing),this.lineBreak=Pa(e,Ei,t.lineBreak),this.lineHeight=Pa(e,Ii,t.lineHeight),this.listStyleImage=Pa(e,Si,t.listStyleImage),this.listStylePosition=Pa(e,Ui,t.listStylePosition),this.listStyleType=Pa(e,Ri,t.listStyleType),this.marginTop=Pa(e,Di,t.marginTop),this.marginRight=Pa(e,Qi,t.marginRight),this.marginBottom=Pa(e,Oi,t.marginBottom),this.marginLeft=Pa(e,Hi,t.marginLeft),this.opacity=Pa(e,ua,t.opacity);var i=Pa(e,Ni,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Pa(e,ki,t.overflowWrap),this.paddingTop=Pa(e,Vi,t.paddingTop),this.paddingRight=Pa(e,zi,t.paddingRight),this.paddingBottom=Pa(e,ji,t.paddingBottom),this.paddingLeft=Pa(e,Wi,t.paddingLeft),this.paintOrder=Pa(e,Ta,t.paintOrder),this.position=Pa(e,Zi,t.position),this.textAlign=Pa(e,Yi,t.textAlign),this.textDecorationColor=Pa(e,ha,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=Pa(e,da,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=Pa(e,Ji,t.textShadow),this.textTransform=Pa(e,$i,t.textTransform),this.transform=Pa(e,ea,t.transform),this.transformOrigin=Pa(e,ia,t.transformOrigin),this.visibility=Pa(e,Aa,t.visibility),this.webkitTextStrokeColor=Pa(e,Sa,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Pa(e,Fa,t.webkitTextStrokeWidth),this.wordBreak=Pa(e,sa,t.wordBreak),this.zIndex=Pa(e,la,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===qi.VISIBLE},e.prototype.isTransparent=function(){return er(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return this.position!==Xi.STATIC},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==oi.NONE},e.prototype.isInlineLevel=function(){return wa(this.display,4)||wa(this.display,33554432)||wa(this.display,268435456)||wa(this.display,536870912)||wa(this.display,67108864)||wa(this.display,134217728)},e}(),La=function(){function e(e,t){this.content=Pa(e,Ba,t.content),this.quotes=Pa(e,Ma,t.quotes)}return e}(),Ra=function(){function e(e,t){this.counterIncrement=Pa(e,xa,t.counterIncrement),this.counterReset=Pa(e,ba,t.counterReset)}return e}(),Pa=function(e,t,n){var r=new En,i=null!=n?n.toString():t.initialValue;r.write(i);var a=new In(r.read());switch(t.type){case 2:var A=a.parseComponentValue();return t.parse(e,Fn(A)?A.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Kn.parse(e,a.parseComponentValue());case"color":return $n.parse(e,a.parseComponentValue());case"image":return Hr.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return On(o)?o:Nn;case"length-percentage":var s=a.parseComponentValue();return Hn(s)?s:Nn;case"time":return ca.parse(e,a.parseComponentValue())}}},Da="data-html2canvas-debug",Qa=function(e){switch(e.getAttribute(Da)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Oa=function(e,t){var n=Qa(e);return 1===n||t===n},Ha=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Oa(t,3),this.styles=new Ua(e,window.getComputedStyle(t,null)),Mo(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),Oa(t,4)&&(this.flags|=16)}return e}(),_a="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ka="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Ga=0;Ga<Na.length;Ga++)ka[Na.charCodeAt(Ga)]=Ga;for(var Va=function(e){var t,n,r,i,a,A=.75*e.length,o=e.length,s=0;"="===e[e.length-1]&&(A--,"="===e[e.length-2]&&A--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=ka[e.charCodeAt(t)],r=ka[e.charCodeAt(t+1)],i=ka[e.charCodeAt(t+2)],a=ka[e.charCodeAt(t+3)],c[s++]=n<<2|r>>4,c[s++]=(15&r)<<4|i>>2,c[s++]=(3&i)<<6|63&a;return l},za=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},ja=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Wa=5,Xa=11,Ya=2,Ka=65536>>Wa,Za=(1<<Wa)-1,Ja=Ka+(1024>>Wa)+32,qa=65536>>Xa,$a=(1<<Xa-Wa)-1,eA=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},tA=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},nA=function(e,t){var n=Va(e),r=Array.isArray(n)?ja(n):new Uint32Array(n),i=Array.isArray(n)?za(n):new Uint16Array(n),a=24,A=eA(i,a/2,r[4]/2),o=2===r[5]?eA(i,(a+r[4])/2):tA(r,Math.ceil((a+r[4])/4));return new rA(r[0],r[1],r[2],r[3],A,o)},rA=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Wa])<<Ya)+(e&Za),this.data[t];if(e<=65535)return t=((t=this.index[Ka+(e-55296>>Wa)])<<Ya)+(e&Za),this.data[t];if(e<this.highStart)return t=Ja-qa+(e>>Xa),t=this.index[t],t+=e>>Wa&$a,t=((t=this.index[t])<<Ya)+(e&Za),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),iA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),AA=0;AA<iA.length;AA++)aA[iA.charCodeAt(AA)]=AA;var oA,sA=1,lA=2,cA=3,uA=4,hA=5,dA=7,pA=8,fA=9,gA=10,mA=11,vA=12,yA=13,wA=14,BA=15,xA=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},bA=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var A=e[i];A<=65535?r.push(A):(A-=65536,r.push(55296+(A>>10),A%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},CA=nA(_a),MA="×",EA="÷",IA=function(e){return CA.get(e)},TA=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],A=t[n];if(a===lA&&A===cA)return MA;if(a===lA||a===cA||a===uA)return EA;if(A===lA||A===cA||A===uA)return EA;if(a===pA&&-1!==[pA,fA,mA,vA].indexOf(A))return MA;if(!(a!==mA&&a!==fA||A!==fA&&A!==gA))return MA;if((a===vA||a===gA)&&A===gA)return MA;if(A===yA||A===hA)return MA;if(A===dA)return MA;if(a===sA)return MA;if(a===yA&&A===wA){for(;i===hA;)i=t[--r];if(i===wA)return MA}if(a===BA&&A===BA){for(var o=0;i===BA;)o++,i=t[--r];if(o%2==0)return MA}return EA},SA=function(e){var t=xA(e),n=t.length,r=0,i=0,a=t.map(IA);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=MA;r<n&&(e=TA(t,a,++r))===MA;);if(e!==MA||r===n){var A=bA.apply(null,t.slice(i,r));return i=r,{value:A,done:!1}}return{done:!0,value:null}}}},FA=function(e){for(var t,n=SA(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},UA=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},LA=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=l(r.data).map((function(e){return c(e)})),a=0,A={},o=i.every((function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var i=n.getBoundingClientRect();a+=e.length;var o=i.x>A.x||i.y>A.y;return A=i,0===t||o}));return e.body.removeChild(t),o},RA=function(){return void 0!==(new Image).crossOrigin},PA=function(){return"string"==typeof(new XMLHttpRequest).responseType},DA=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},QA=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},OA=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var A=HA(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),_A(A).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=e.createElement("div");return A.style.backgroundImage="url("+a+")",A.style.height=n+"px",QA(i)?_A(HA(n,n,0,0,A)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),QA(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},HA=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",A=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return A.setAttributeNS(null,"width",e.toString()),A.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(o),o.appendChild(i),A},_A=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},NA={get SUPPORT_RANGE_BOUNDS(){var e=UA(document);return Object.defineProperty(NA,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=NA.SUPPORT_RANGE_BOUNDS&&LA(document);return Object.defineProperty(NA,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=DA(document);return Object.defineProperty(NA,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?OA(document):Promise.resolve(!1);return Object.defineProperty(NA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=RA();return Object.defineProperty(NA,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=PA();return Object.defineProperty(NA,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(NA,"SUPPORT_CORS_XHR",{value:e}),e}},kA=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),GA=function(e,t,n,r){var i=WA(t,n),a=[],o=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(NA.SUPPORT_RANGE_BOUNDS)NA.SUPPORT_WORD_BREAKING?a.push(new kA(t,jA(e,r,o,t.length))):a.push(new kA(t,A.fromDOMRectList(e,zA(r,o,t.length).getClientRects())));else{var i=r.splitText(t.length);a.push(new kA(t,VA(e,r))),r=i}else NA.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));o+=t.length})),a},VA=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=o(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return A.EMPTY},zA=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},jA=function(e,t,n,r){return A.fromClientRect(e,zA(t,n,r).getBoundingClientRect())},WA=function(e,t){return 0!==t.letterSpacing?FA(e):YA(e,t)},XA=[32,160,4961,65792,65793,4153,4241],YA=function(e,t){for(var n,r=_e(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],a=function(){if(n.value){var e=n.value.slice(),t=l(e),r="";t.forEach((function(e){-1===XA.indexOf(e)?r+=c(e):(r.length&&i.push(r),i.push(c(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)a();return i},KA=function(){function e(e,t,n){this.text=ZA(t.data,n.textTransform),this.textBounds=GA(e,this.text,n,t)}return e}(),ZA=function(e,t){switch(t){case Ki.LOWERCASE:return e.toLowerCase();case Ki.CAPITALIZE:return e.replace(JA,qA);case Ki.UPPERCASE:return e.toUpperCase();default:return e}},JA=/(^|\s|:|-|\(|\))([a-z])/g,qA=function(e,t,n){return e.length>0?t+n.toUpperCase():e},$A=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(Ha),eo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(Ha),to=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,a=o(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(Ha),no=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Ha),ro=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"==typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(Ha),io=[{type:15,flags:0,unit:"px",number:3}],ao=[{type:16,flags:0,number:50}],Ao=function(e){return e.width>e.height?new A(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new A(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},oo=function(e){var t=e.type===co?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},so="checkbox",lo="radio",co="password",uo=707406591,ho=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=oo(n),r.type!==so&&r.type!==lo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=Yr.SOLID,r.styles.backgroundClip=[Ar.BORDER_BOX],r.styles.backgroundOrigin=[0],r.bounds=Ao(r.bounds)),r.type){case so:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=io;break;case lo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=ao}return r}return t(n,e),n}(Ha),po=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(Ha),fo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Ha),go=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=wo(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?lr(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):cr.TRANSPARENT,a=n.contentWindow.document.body?lr(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):cr.TRANSPARENT;r.backgroundColor=er(i)?er(a)?r.styles.backgroundColor:a:i}}catch(e){}return r}return t(n,e),n}(Ha),mo=["OL","UL","MENU"],vo=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,bo(i)&&i.data.trim().length>0)n.textNodes.push(new KA(e,i,n.styles));else if(Co(i))if(No(i)&&i.assignedNodes)i.assignedNodes().forEach((function(t){return vo(e,t,n,r)}));else{var A=yo(e,i);A.styles.isVisible()&&(Bo(i,A,r)?A.flags|=4:xo(A.styles)&&(A.flags|=2),-1!==mo.indexOf(i.tagName)&&(A.flags|=8),n.elements.push(A),i.slot,i.shadowRoot?vo(e,i.shadowRoot,A,r):Ho(i)||Uo(i)||_o(i)||vo(e,i,A,r))}},yo=function(e,t){return Po(t)?new $A(e,t):Ro(t)?new eo(e,t):Uo(t)?new to(e,t):Io(t)?new no(e,t):To(t)?new ro(e,t):So(t)?new ho(e,t):_o(t)?new po(e,t):Ho(t)?new fo(e,t):Do(t)?new go(e,t):new Ha(e,t)},wo=function(e,t){var n=yo(e,t);return n.flags|=4,vo(e,t,n,n),n},Bo=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Lo(e)&&n.styles.isTransparent()},xo=function(e){return e.isPositioned()||e.isFloating()},bo=function(e){return e.nodeType===Node.TEXT_NODE},Co=function(e){return e.nodeType===Node.ELEMENT_NODE},Mo=function(e){return Co(e)&&void 0!==e.style&&!Eo(e)},Eo=function(e){return"object"==typeof e.className},Io=function(e){return"LI"===e.tagName},To=function(e){return"OL"===e.tagName},So=function(e){return"INPUT"===e.tagName},Fo=function(e){return"HTML"===e.tagName},Uo=function(e){return"svg"===e.tagName},Lo=function(e){return"BODY"===e.tagName},Ro=function(e){return"CANVAS"===e.tagName},Po=function(e){return"IMG"===e.tagName},Do=function(e){return"IFRAME"===e.tagName},Qo=function(e){return"STYLE"===e.tagName},Oo=function(e){return"SCRIPT"===e.tagName},Ho=function(e){return"TEXTAREA"===e.tagName},_o=function(e){return"SELECT"===e.tagName},No=function(e){return"SLOT"===e.tagName},ko=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var a=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),a},e}(),Go={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Vo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},zo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},jo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Wo=function(e,t,n,r,i,a){return e<t||e>n?as(e,i,a.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+a},Xo=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Yo=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(Xo(Math.abs(e),a,r,(function(e){return c(Math.floor(e%a)+t)}))+i)},Ko=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Xo(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Zo=1,Jo=2,qo=4,$o=8,es=function(e,t,n,r,i,a){if(e<-9999||e>9999)return as(e,Fi.CJK_DECIMAL,i.length>0);var A=Math.abs(e),o=i;if(0===A)return t[0]+o;for(var s=0;A>0&&s<=4;s++){var l=A%10;0===l&&wa(a,Zo)&&""!==o?o=t[l]+o:l>1||1===l&&0===s||1===l&&1===s&&wa(a,Jo)||1===l&&1===s&&wa(a,qo)&&e>100||1===l&&s>1&&wa(a,$o)?o=t[l]+(s>0?n[s-1]:"")+o:1===l&&s>0&&(o=n[s-1]+o),A=Math.floor(A/10)}return(e<0?r:"")+o},ts="十百千萬",ns="拾佰仟萬",rs="マイナス",is="마이너스",as=function(e,t,n){var r=n?". ":"",i=n?"、":"",a=n?", ":"",A=n?" ":"";switch(t){case Fi.DISC:return"•"+A;case Fi.CIRCLE:return"◦"+A;case Fi.SQUARE:return"◾"+A;case Fi.DECIMAL_LEADING_ZERO:var o=Yo(e,48,57,!0,r);return o.length<4?"0"+o:o;case Fi.CJK_DECIMAL:return Ko(e,"〇一二三四五六七八九",i);case Fi.LOWER_ROMAN:return Wo(e,1,3999,Go,Fi.DECIMAL,r).toLowerCase();case Fi.UPPER_ROMAN:return Wo(e,1,3999,Go,Fi.DECIMAL,r);case Fi.LOWER_GREEK:return Yo(e,945,969,!1,r);case Fi.LOWER_ALPHA:return Yo(e,97,122,!1,r);case Fi.UPPER_ALPHA:return Yo(e,65,90,!1,r);case Fi.ARABIC_INDIC:return Yo(e,1632,1641,!0,r);case Fi.ARMENIAN:case Fi.UPPER_ARMENIAN:return Wo(e,1,9999,Vo,Fi.DECIMAL,r);case Fi.LOWER_ARMENIAN:return Wo(e,1,9999,Vo,Fi.DECIMAL,r).toLowerCase();case Fi.BENGALI:return Yo(e,2534,2543,!0,r);case Fi.CAMBODIAN:case Fi.KHMER:return Yo(e,6112,6121,!0,r);case Fi.CJK_EARTHLY_BRANCH:return Ko(e,"子丑寅卯辰巳午未申酉戌亥",i);case Fi.CJK_HEAVENLY_STEM:return Ko(e,"甲乙丙丁戊己庚辛壬癸",i);case Fi.CJK_IDEOGRAPHIC:case Fi.TRAD_CHINESE_INFORMAL:return es(e,"零一二三四五六七八九",ts,"負",i,Jo|qo|$o);case Fi.TRAD_CHINESE_FORMAL:return es(e,"零壹貳參肆伍陸柒捌玖",ns,"負",i,Zo|Jo|qo|$o);case Fi.SIMP_CHINESE_INFORMAL:return es(e,"零一二三四五六七八九",ts,"负",i,Jo|qo|$o);case Fi.SIMP_CHINESE_FORMAL:return es(e,"零壹贰叁肆伍陆柒捌玖",ns,"负",i,Zo|Jo|qo|$o);case Fi.JAPANESE_INFORMAL:return es(e,"〇一二三四五六七八九","十百千万",rs,i,0);case Fi.JAPANESE_FORMAL:return es(e,"零壱弐参四伍六七八九","拾百千万",rs,i,Zo|Jo|qo);case Fi.KOREAN_HANGUL_FORMAL:return es(e,"영일이삼사오육칠팔구","십백천만",is,a,Zo|Jo|qo);case Fi.KOREAN_HANJA_INFORMAL:return es(e,"零一二三四五六七八九","十百千萬",is,a,0);case Fi.KOREAN_HANJA_FORMAL:return es(e,"零壹貳參四五六七八九","拾百千",is,a,Zo|Jo|qo);case Fi.DEVANAGARI:return Yo(e,2406,2415,!0,r);case Fi.GEORGIAN:return Wo(e,1,19999,jo,Fi.DECIMAL,r);case Fi.GUJARATI:return Yo(e,2790,2799,!0,r);case Fi.GURMUKHI:return Yo(e,2662,2671,!0,r);case Fi.HEBREW:return Wo(e,1,10999,zo,Fi.DECIMAL,r);case Fi.HIRAGANA:return Ko(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Fi.HIRAGANA_IROHA:return Ko(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Fi.KANNADA:return Yo(e,3302,3311,!0,r);case Fi.KATAKANA:return Ko(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case Fi.KATAKANA_IROHA:return Ko(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case Fi.LAO:return Yo(e,3792,3801,!0,r);case Fi.MONGOLIAN:return Yo(e,6160,6169,!0,r);case Fi.MYANMAR:return Yo(e,4160,4169,!0,r);case Fi.ORIYA:return Yo(e,2918,2927,!0,r);case Fi.PERSIAN:return Yo(e,1776,1785,!0,r);case Fi.TAMIL:return Yo(e,3046,3055,!0,r);case Fi.TELUGU:return Yo(e,3174,3183,!0,r);case Fi.THAI:return Yo(e,3664,3673,!0,r);case Fi.TIBETAN:return Yo(e,3872,3881,!0,r);case Fi.DECIMAL:default:return Yo(e,48,57,!0,r)}},As="data-html2canvas-ignore",os=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new ko,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return e.prototype.toIFrame=function(e,t){var n=this,a=ls(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var A=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=a.contentWindow,l=s.document,c=hs(a).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(ms),s&&(s.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===t.top&&s.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-t.left,s.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,us(l)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(l,n)})).then((function(){return a}))]:[2,a]}}))}))}));return l.open(),l.write(fs(document.doctype)+"<html></html>"),gs(this.referenceElement.ownerDocument,A,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(Oa(e,2),Ro(e))return this.createCanvasClone(e);if(Qo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Po(t)&&(Po(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var A=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(A){var o=A.getContextAttributes();!1===(null==o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.cloneNode=function(e){if(bo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&Co(e)&&(Mo(e)||Eo(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var r=t.getComputedStyle(e),i=t.getComputedStyle(e,":before"),a=t.getComputedStyle(e,":after");this.referenceElement===e&&Mo(n)&&(this.clonedReferenceElement=n),Lo(n)&&bs(n);for(var A=this.counters.parse(new Ra(this.context,r)),o=this.resolvePseudoContent(e,n,i,oA.BEFORE),s=e.firstChild;s;s=s.nextSibling)Co(s)&&(Oo(s)||s.hasAttribute(As)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(s))||this.options.copyStyles&&Co(s)&&Qo(s)||n.appendChild(this.cloneNode(s));o&&n.insertBefore(o,n.firstChild);var l=this.resolvePseudoContent(e,n,a,oA.AFTER);return l&&n.appendChild(l),this.counters.pop(A),r&&(this.options.copyStyles||Eo(e))&&!Do(e)&&ps(r,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(Ho(e)||_o(e))&&(Ho(n)||_o(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var a=n.content,A=t.ownerDocument;if(A&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new Ra(this.context,n));var o=new La(this.context,n),s=A.createElement("html2canvaspseudoelement");ps(n,s),o.content.forEach((function(t){if(0===t.type)s.appendChild(A.createTextNode(t.value));else if(22===t.type){var n=A.createElement("img");n.src=t.value,n.style.opacity="1",s.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Fn);r.length&&s.appendChild(A.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Pn),l=a[0],c=a[1];if(l&&Fn(l)){var u=i.counters.getCounterValue(l.value),h=c&&Fn(c)?Ri.parse(i.context,c.value):Fi.DECIMAL;s.appendChild(A.createTextNode(as(u,h,!1)))}}else if("counters"===t.name){var d=t.values.filter(Pn),p=(l=d[0],d[1]);if(c=d[2],l&&Fn(l)){var f=i.counters.getCounterValues(l.value),g=c&&Fn(c)?Ri.parse(i.context,c.value):Fi.DECIMAL,m=p&&0===p.type?p.value:"",v=f.map((function(e){return as(e,g,!1)})).join(m);s.appendChild(A.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":s.appendChild(A.createTextNode(Ea(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":s.appendChild(A.createTextNode(Ea(o.quotes,--i.quoteDepth,!1)));break;default:s.appendChild(A.createTextNode(t.value))}})),s.className=ws+" "+Bs;var l=r===oA.BEFORE?" "+ws:" "+Bs;return Eo(t)?t.className.baseValue+=l:t.className+=l,s}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(oA||(oA={}));var ss,ls=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(As,"true"),e.body.appendChild(n),n},cs=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},us=function(e){return Promise.all([].slice.call(e.images,0).map(cs))},hs=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},ds=["all","d","content"],ps=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===ds.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},fs=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},gs=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},ms=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},vs=":before",ys=":after",ws="___html2canvas___pseudoelement_before",Bs="___html2canvas___pseudoelement_after",xs='{\n    content: "" !important;\n    display: none !important;\n}',bs=function(e){Cs(e,"."+ws+vs+xs+"\n         ."+Bs+ys+xs)},Cs=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},Ms=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Es=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Rs(e)||Fs(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,A=this;return i(this,(function(i){switch(i.label){case 0:return t=Ms.isSameOrigin(e),n=!Us(e)&&!0===this._options.useCORS&&NA.SUPPORT_CORS_IMAGES&&!t,r=!Us(e)&&!t&&!Rs(e)&&"string"==typeof this._options.proxy&&NA.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Us(e)||Rs(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(Ls(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout((function(){return e(r)}),500),A._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+A._options.imageTimeout+"ms) loading image")}),A._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,a){var A=NA.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===A)i(o.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return a(e)}),!1),e.readAsDataURL(o.response)}else a("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=a;var s=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+s+"url="+encodeURIComponent(e)+"&responseType="+A),"text"!==A&&o instanceof XMLHttpRequest&&(o.responseType=A),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return a("Timed out ("+l+"ms) proxying "+r)}}o.send()}))},e}(),Is=/^data:image\/svg\+xml/i,Ts=/^data:image\/.*;base64,/i,Ss=/^data:image\/.*/i,Fs=function(e){return NA.SUPPORT_SVG_DRAWING||!Ps(e)},Us=function(e){return Ss.test(e)},Ls=function(e){return Ts.test(e)},Rs=function(e){return"blob"===e.substr(0,4)},Ps=function(e){return"svg"===e.substr(-3).toLowerCase()||Is.test(e)};!function(e){e[e.VECTOR=0]="VECTOR",e[e.BEZIER_CURVE=1]="BEZIER_CURVE"}(ss||(ss={}));var Ds,Qs=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Os=function(e,t,n,r,i){return e.map((function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},Hs=function(){function e(e,t){this.type=ss.VECTOR,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),_s=function(e,t,n){return new Hs(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Ns=function(){function e(e,t,n,r){this.type=ss.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=_s(this.start,this.startControl,t),i=_s(this.startControl,this.endControl,t),a=_s(this.endControl,this.end,t),A=_s(r,i,t),o=_s(i,a,t),s=_s(A,o,t);return n?new e(this.start,r,A,s):new e(s,o,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ks=function(e){return e.type===ss.BEZIER_CURVE},Gs=function(){function e(e){var t=e.styles,n=e.bounds,r=Vn(t.borderTopLeftRadius,n.width,n.height),i=r[0],a=r[1],A=Vn(t.borderTopRightRadius,n.width,n.height),o=A[0],s=A[1],l=Vn(t.borderBottomRightRadius,n.width,n.height),c=l[0],u=l[1],h=Vn(t.borderBottomLeftRadius,n.width,n.height),d=h[0],p=h[1],f=[];f.push((i+o)/n.width),f.push((d+c)/n.width),f.push((a+p)/n.height),f.push((s+u)/n.height);var g=Math.max.apply(Math,f);g>1&&(i/=g,a/=g,o/=g,s/=g,c/=g,u/=g,d/=g,p/=g);var m=n.width-o,v=n.height-u,y=n.width-c,w=n.height-p,B=t.borderTopWidth,x=t.borderRightWidth,b=t.borderBottomWidth,C=t.borderLeftWidth,M=zn(t.paddingTop,e.bounds.width),E=zn(t.paddingRight,e.bounds.width),I=zn(t.paddingBottom,e.bounds.width),T=zn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?Vs(n.left+C/3,n.top+B/3,i-C/3,a-B/3,Ds.TOP_LEFT):new Hs(n.left+C/3,n.top+B/3),this.topRightBorderDoubleOuterBox=i>0||a>0?Vs(n.left+m,n.top+B/3,o-x/3,s-B/3,Ds.TOP_RIGHT):new Hs(n.left+n.width-x/3,n.top+B/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?Vs(n.left+y,n.top+v,c-x/3,u-b/3,Ds.BOTTOM_RIGHT):new Hs(n.left+n.width-x/3,n.top+n.height-b/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?Vs(n.left+C/3,n.top+w,d-C/3,p-b/3,Ds.BOTTOM_LEFT):new Hs(n.left+C/3,n.top+n.height-b/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?Vs(n.left+2*C/3,n.top+2*B/3,i-2*C/3,a-2*B/3,Ds.TOP_LEFT):new Hs(n.left+2*C/3,n.top+2*B/3),this.topRightBorderDoubleInnerBox=i>0||a>0?Vs(n.left+m,n.top+2*B/3,o-2*x/3,s-2*B/3,Ds.TOP_RIGHT):new Hs(n.left+n.width-2*x/3,n.top+2*B/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?Vs(n.left+y,n.top+v,c-2*x/3,u-2*b/3,Ds.BOTTOM_RIGHT):new Hs(n.left+n.width-2*x/3,n.top+n.height-2*b/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?Vs(n.left+2*C/3,n.top+w,d-2*C/3,p-2*b/3,Ds.BOTTOM_LEFT):new Hs(n.left+2*C/3,n.top+n.height-2*b/3),this.topLeftBorderStroke=i>0||a>0?Vs(n.left+C/2,n.top+B/2,i-C/2,a-B/2,Ds.TOP_LEFT):new Hs(n.left+C/2,n.top+B/2),this.topRightBorderStroke=i>0||a>0?Vs(n.left+m,n.top+B/2,o-x/2,s-B/2,Ds.TOP_RIGHT):new Hs(n.left+n.width-x/2,n.top+B/2),this.bottomRightBorderStroke=c>0||u>0?Vs(n.left+y,n.top+v,c-x/2,u-b/2,Ds.BOTTOM_RIGHT):new Hs(n.left+n.width-x/2,n.top+n.height-b/2),this.bottomLeftBorderStroke=d>0||p>0?Vs(n.left+C/2,n.top+w,d-C/2,p-b/2,Ds.BOTTOM_LEFT):new Hs(n.left+C/2,n.top+n.height-b/2),this.topLeftBorderBox=i>0||a>0?Vs(n.left,n.top,i,a,Ds.TOP_LEFT):new Hs(n.left,n.top),this.topRightBorderBox=o>0||s>0?Vs(n.left+m,n.top,o,s,Ds.TOP_RIGHT):new Hs(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?Vs(n.left+y,n.top+v,c,u,Ds.BOTTOM_RIGHT):new Hs(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||p>0?Vs(n.left,n.top+w,d,p,Ds.BOTTOM_LEFT):new Hs(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?Vs(n.left+C,n.top+B,Math.max(0,i-C),Math.max(0,a-B),Ds.TOP_LEFT):new Hs(n.left+C,n.top+B),this.topRightPaddingBox=o>0||s>0?Vs(n.left+Math.min(m,n.width-x),n.top+B,m>n.width+x?0:Math.max(0,o-x),Math.max(0,s-B),Ds.TOP_RIGHT):new Hs(n.left+n.width-x,n.top+B),this.bottomRightPaddingBox=c>0||u>0?Vs(n.left+Math.min(y,n.width-C),n.top+Math.min(v,n.height-b),Math.max(0,c-x),Math.max(0,u-b),Ds.BOTTOM_RIGHT):new Hs(n.left+n.width-x,n.top+n.height-b),this.bottomLeftPaddingBox=d>0||p>0?Vs(n.left+C,n.top+Math.min(w,n.height-b),Math.max(0,d-C),Math.max(0,p-b),Ds.BOTTOM_LEFT):new Hs(n.left+C,n.top+n.height-b),this.topLeftContentBox=i>0||a>0?Vs(n.left+C+T,n.top+B+M,Math.max(0,i-(C+T)),Math.max(0,a-(B+M)),Ds.TOP_LEFT):new Hs(n.left+C+T,n.top+B+M),this.topRightContentBox=o>0||s>0?Vs(n.left+Math.min(m,n.width+C+T),n.top+B+M,m>n.width+C+T?0:o-C+T,s-(B+M),Ds.TOP_RIGHT):new Hs(n.left+n.width-(x+E),n.top+B+M),this.bottomRightContentBox=c>0||u>0?Vs(n.left+Math.min(y,n.width-(C+T)),n.top+Math.min(v,n.height+B+M),Math.max(0,c-(x+E)),u-(b+I),Ds.BOTTOM_RIGHT):new Hs(n.left+n.width-(x+E),n.top+n.height-(b+I)),this.bottomLeftContentBox=d>0||p>0?Vs(n.left+C+T,n.top+w,Math.max(0,d-(C+T)),p-(b+I),Ds.BOTTOM_LEFT):new Hs(n.left+C+T,n.top+n.height-(b+I))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Ds||(Ds={}));var Vs=function(e,t,n,r,i){var a=(Math.sqrt(2)-1)/3*4,A=n*a,o=r*a,s=e+n,l=t+r;switch(i){case Ds.TOP_LEFT:return new Ns(new Hs(e,l),new Hs(e,l-o),new Hs(s-A,t),new Hs(s,t));case Ds.TOP_RIGHT:return new Ns(new Hs(e,t),new Hs(e+A,t),new Hs(s,l-o),new Hs(s,l));case Ds.BOTTOM_RIGHT:return new Ns(new Hs(s,t),new Hs(s,t+o),new Hs(e+A,l),new Hs(e,l));case Ds.BOTTOM_LEFT:default:return new Ns(new Hs(s,l),new Hs(s-A,l),new Hs(e,t+o),new Hs(e,t))}},zs=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},js=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Ws=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Xs=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ys=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ks=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Zs=function(e){return 0===e.type},Js=function(e){return 1===e.type},qs=function(e){return 2===e.type},$s=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),el=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Gs(this.container),this.container.styles.opacity<1&&this.effects.push(new Ks(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Xs(n,r,i))}if(this.container.styles.overflowX!==Li.VISIBLE){var a=zs(this.curves),A=Ws(this.curves);Qs(a,A)?this.effects.push(new Ys(a,6)):(this.effects.push(new Ys(a,2)),this.effects.push(new Ys(A,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[Xi.ABSOLUTE,Xi.FIXED].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!Js(e)}));if(t||n.container.styles.position!==Xi.STATIC||!n.parent){if(r.unshift.apply(r,i),t=-1===[Xi.ABSOLUTE,Xi.FIXED].indexOf(n.container.styles.position),n.container.styles.overflowX!==Li.VISIBLE){var a=zs(n.curves),A=Ws(n.curves);Qs(a,A)||r.unshift(new Ys(A,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return wa(t.target,e)}))},e}(),tl=function(e,t,n,r){e.container.elements.forEach((function(i){var a=wa(i.flags,4),A=wa(i.flags,2),o=new el(i,e);wa(i.styles.display,2048)&&r.push(o);var s=wa(i.flags,8)?[]:r;if(a||A){var l=a||i.styles.isPositioned()?n:t,c=new $s(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),l.negativeZIndex.splice(h,0,c)}else if(u>0){var d=0;l.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(d=t+1,!1):d>0})),l.positiveZIndex.splice(d,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);tl(o,c,a?c:n,s)}else i.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),tl(o,t,n,s);wa(i.flags,8)&&nl(i,s)}))},nl=function(e,t){for(var n=e instanceof ro?e.start:1,r=e instanceof ro&&e.reversed,i=0;i<t.length;i++){var a=t[i];a.container instanceof no&&"number"==typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=as(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},rl=function(e){var t=new el(e,null),n=new $s(t),r=[];return tl(t,n,n,r),nl(t.container,r),n},il=function(e,t){switch(t){case 0:return ll(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ll(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ll(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ll(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},al=function(e,t){switch(t){case 0:return ll(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ll(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ll(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ll(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Al=function(e,t){switch(t){case 0:return ll(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ll(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ll(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ll(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},ol=function(e,t){switch(t){case 0:return sl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return sl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return sl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return sl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},sl=function(e,t){var n=[];return ks(e)?n.push(e.subdivide(.5,!1)):n.push(e),ks(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ll=function(e,t,n,r){var i=[];return ks(e)?i.push(e.subdivide(.5,!1)):i.push(e),ks(n)?i.push(n.subdivide(.5,!0)):i.push(n),ks(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),ks(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},cl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},ul=function(e){var t=e.styles,n=e.bounds,r=zn(t.paddingLeft,n.width),i=zn(t.paddingRight,n.width),a=zn(t.paddingTop,n.width),A=zn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+A))},hl=function(e,t){return 0===e?t.bounds:2===e?ul(t):cl(t)},dl=function(e,t){return e===Ar.BORDER_BOX?t.bounds:e===Ar.CONTENT_BOX?ul(t):cl(t)},pl=function(e,t,n){var r=hl(vl(e.styles.backgroundOrigin,t),e),i=dl(vl(e.styles.backgroundClip,t),e),a=ml(vl(e.styles.backgroundSize,t),n,r),A=a[0],o=a[1],s=Vn(vl(e.styles.backgroundPosition,t),r.width-A,r.height-o);return[yl(vl(e.styles.backgroundRepeat,t),s,a,r,i),Math.round(r.left+s[0]),Math.round(r.top+s[1]),A,o]},fl=function(e){return Fn(e)&&e.value===jr.AUTO},gl=function(e){return"number"==typeof e},ml=function(e,t,n){var r=t[0],i=t[1],a=t[2],A=e[0],o=e[1];if(!A)return[0,0];if(Hn(A)&&o&&Hn(o))return[zn(A,n.width),zn(o,n.height)];var s=gl(a);if(Fn(A)&&(A.value===jr.CONTAIN||A.value===jr.COVER))return gl(a)?n.width/n.height<a!=(A.value===jr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var l=gl(r),c=gl(i),u=l||c;if(fl(A)&&(!o||fl(o)))return l&&c?[r,i]:s||u?u&&s?[l?r:i*a,c?i:r/a]:[l?r:n.width,c?i:n.height]:[n.width,n.height];if(s){var h=0,d=0;return Hn(A)?h=zn(A,n.width):Hn(o)&&(d=zn(o,n.height)),fl(A)?h=d*a:o&&!fl(o)||(d=h/a),[h,d]}var p=null,f=null;if(Hn(A)?p=zn(A,n.width):o&&Hn(o)&&(f=zn(o,n.height)),null===p||o&&!fl(o)||(f=l&&c?p/r*i:n.height),null!==f&&fl(A)&&(p=l&&c?f/i*r:n.width),null!==p&&null!==f)return[p,f];throw new Error("Unable to calculate background-size for element")},vl=function(e,t){var n=e[t];return void 0===n?e[0]:n},yl=function(e,t,n,r,i){var a=t[0],A=t[1],o=n[0],s=n[1];switch(e){case Nr.REPEAT_X:return[new Hs(Math.round(r.left),Math.round(r.top+A)),new Hs(Math.round(r.left+r.width),Math.round(r.top+A)),new Hs(Math.round(r.left+r.width),Math.round(s+r.top+A)),new Hs(Math.round(r.left),Math.round(s+r.top+A))];case Nr.REPEAT_Y:return[new Hs(Math.round(r.left+a),Math.round(r.top)),new Hs(Math.round(r.left+a+o),Math.round(r.top)),new Hs(Math.round(r.left+a+o),Math.round(r.height+r.top)),new Hs(Math.round(r.left+a),Math.round(r.height+r.top))];case Nr.NO_REPEAT:return[new Hs(Math.round(r.left+a),Math.round(r.top+A)),new Hs(Math.round(r.left+a+o),Math.round(r.top+A)),new Hs(Math.round(r.left+a+o),Math.round(r.top+A+s)),new Hs(Math.round(r.left+a),Math.round(r.top+A+s))];default:return[new Hs(Math.round(i.left),Math.round(i.top)),new Hs(Math.round(i.left+i.width),Math.round(i.top)),new Hs(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Hs(Math.round(i.left),Math.round(i.height+i.top))]}},wl="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Bl="Hidden Text",xl=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",a.appendChild(n),r.src=wl,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Bl)),n.appendChild(i),n.appendChild(r);var A=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(Bl)),n.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:A,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),bl=function(){function e(e,t){this.context=e,this.options=t}return e}(),Cl=1e4,Ml=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new xl(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),qs(e)&&(this.ctx.globalAlpha=e.opacity),Zs(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Js(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return wa(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):FA(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=e.fontFamily.join(", "),r=Tn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a,A,o,s,l,c,u=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],a=n[1],A=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(a,A),s=o.baseline,l=o.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case va.FILL:u.ctx.fillStyle=tr(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,s);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=tr(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,s)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=tr(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+s),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}})));break;case va.STROKE:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=tr(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+s)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=ul(e),i=Ws(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,a,o,s,l,c,u,h,d,p,f,g,m,v,y,w,B;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,o=0,s=t.textNodes,i.label=1;case 1:return o<s.length?(l=s[o],[4,this.renderTextNode(l,a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof $A))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof eo&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof to))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof go&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=i.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof ho&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===so?t.checked&&(this.ctx.save(),this.path([new Hs(t.bounds.left+.39363*u,t.bounds.top+.79*u),new Hs(t.bounds.left+.16*u,t.bounds.top+.5549*u),new Hs(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new Hs(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new Hs(t.bounds.left+.72983*u,t.bounds.top+.23*u),new Hs(t.bounds.left+.84*u,t.bounds.top+.34085*u),new Hs(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=tr(uo),this.ctx.fill(),this.ctx.restore()):t.type===lo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=tr(uo),this.ctx.fill(),this.ctx.restore())),El(t)&&t.value.length){switch(h=this.createFontStyle(a),w=h[0],d=h[1],p=this.fontMetrics.getMetrics(w,d).baseline,this.ctx.font=w,this.ctx.fillStyle=tr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Tl(t.styles.textAlign),B=ul(t),f=0,t.styles.textAlign){case _i.CENTER:f+=B.width/2;break;case _i.RIGHT:f+=B.width}g=B.add(f,0,0,-B.height/2+1),this.ctx.save(),this.path([new Hs(B.left,B.top),new Hs(B.left+B.width,B.top),new Hs(B.left+B.width,B.top+B.height),new Hs(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new kA(t.value,g),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!wa(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if((m=t.styles.listStyleImage).type!==ur.URL)return[3,18];v=void 0,y=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=i.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&t.styles.listStyleType!==Fi.NONE&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=tr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new A(t.bounds.left,t.bounds.top+zn(t.styles.paddingTop,t.bounds.width),t.bounds.width,Ti(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new kA(e.listValue,B),a.letterSpacing,Ti(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,A,o,s,l,c,u,h,d,p,f,g;return i(this,(function(i){switch(i.label){case 0:return wa(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,a=e.nonInlineLevel,i.label=7;case 7:return r<a.length?(g=a[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:A=0,o=e.nonPositionedFloats,i.label=11;case 11:return A<o.length?(g=o[A],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return A++,[3,11];case 14:s=0,l=e.nonPositionedInlineLevel,i.label=15;case 15:return s<l.length?(g=l[s],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return s++,[3,15];case 18:c=0,u=e.inlineLevel,i.label=19;case 19:return c<u.length?(g=u[c],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:h=0,d=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<d.length?(g=d[h],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:p=0,f=e.positiveZIndex,i.label=27;case 27:return p<f.length?(g=f[p],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=ks(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),ks(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,A,o;return i(this,(function(s){switch(s.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,A,o,s,l,c,u,h,d,p,f,g,m,v,y,w,B,x,b,C,M,E,I,T,S,F,U,L,R,P,D;return i(this,(function(i){switch(i.label){case 0:if(n.type!==ur.URL)return[3,5];a=void 0,A=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(A)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+A),[3,4];case 4:return a&&(o=pl(e,t,[a.width,a.height,a.width/a.height]),w=o[0],E=o[1],I=o[2],b=o[3],C=o[4],v=r.ctx.createPattern(r.resizeImage(a,b,C),"repeat"),r.renderRepeat(w,v,E,I)),[3,6];case 5:Qr(n)?(s=pl(e,t,[null,null,null]),w=s[0],E=s[1],I=s[2],b=s[3],C=s[4],l=mr(n.angle,b,C),c=l[0],u=l[1],h=l[2],d=l[3],p=l[4],(f=document.createElement("canvas")).width=b,f.height=C,g=f.getContext("2d"),m=g.createLinearGradient(u,d,h,p),fr(n.stops,c).forEach((function(e){return m.addColorStop(e.stop,tr(e.color))})),g.fillStyle=m,g.fillRect(0,0,b,C),b>0&&C>0&&(v=r.ctx.createPattern(f,"repeat"),r.renderRepeat(w,v,E,I))):Or(n)&&(y=pl(e,t,[null,null,null]),w=y[0],B=y[1],x=y[2],b=y[3],C=y[4],M=0===n.position.length?[kn]:n.position,E=zn(M[0],b),I=zn(M[M.length-1],C),T=wr(n,E,I,b,C),S=T[0],F=T[1],S>0&&F>0&&(U=r.ctx.createRadialGradient(B+E,x+I,0,B+E,x+I,S),fr(n.stops,2*S).forEach((function(e){return U.addColorStop(e.stop,tr(e.color))})),r.path(w),r.ctx.fillStyle=U,S!==F?(L=e.bounds.left+.5*e.bounds.width,R=e.bounds.top+.5*e.bounds.height,D=1/(P=F/S),r.ctx.save(),r.ctx.translate(L,R),r.ctx.transform(1,0,0,P,0,0),r.ctx.translate(-L,-R),r.ctx.fillRect(B,D*(x-R)+R,b,C*D),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,a=0,A=e.styles.backgroundImage.slice(0).reverse(),s.label=1;case 1:return a<A.length?(o=A[a],[5,n(o)]):[3,4];case 2:s.sent(),s.label=3;case 3:return a++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(il(n,t)),this.ctx.fillStyle=tr(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r,A;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return i.sent(),[2];case 2:return r=al(a,n),this.path(r),this.ctx.fillStyle=tr(e),this.ctx.fill(),A=Al(a,n),this.path(A),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,A,o,s,l,c=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!er(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=Il(vl(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),er(t.backgroundColor)||(this.ctx.fillStyle=tr(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=zs(e.curves),r=t.inset?0:Cl,i=Os(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=tr(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?tr(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),i.label=2;case 2:A=0,o=0,s=r,i.label=3;case 3:return o<s.length?(l=s[o]).style!==Yr.NONE&&!er(l.color)&&l.width>0?l.style!==Yr.DASHED?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,A,e.curves,Yr.DASHED)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return l.style!==Yr.DOTTED?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,A,e.curves,Yr.DOTTED)];case 6:return i.sent(),[3,11];case 7:return l.style!==Yr.DOUBLE?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,A,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,A,e.curves)];case 10:i.sent(),i.label=11;case 11:A++,i.label=12;case 12:return o++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,a,A){return r(this,void 0,void 0,(function(){var r,o,s,l,c,u,h,d,p,f,g,m,v,y,w,B;return i(this,(function(i){return this.ctx.save(),r=ol(a,n),o=il(a,n),A===Yr.DASHED&&(this.path(o),this.ctx.clip()),ks(o[0])?(s=o[0].start.x,l=o[0].start.y):(s=o[0].x,l=o[0].y),ks(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),h=0===n||2===n?Math.abs(s-c):Math.abs(l-u),this.ctx.beginPath(),A===Yr.DOTTED?this.formatPath(r):this.formatPath(o.slice(0,2)),d=t<3?3*t:2*t,p=t<3?2*t:t,A===Yr.DOTTED&&(d=t,p=t),f=!0,h<=2*d?f=!1:h<=2*d+p?(d*=g=h/(2*d+p),p*=g):(m=Math.floor((h+p)/(d+p)),v=(h-m*d)/(m-1),p=(y=(h-(m+1)*d)/m)<=0||Math.abs(p-v)<Math.abs(p-y)?v:y),f&&(A===Yr.DOTTED?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),A===Yr.DOTTED?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=tr(e),this.ctx.stroke(),this.ctx.setLineDash([]),A===Yr.DASHED&&(ks(o[0])&&(w=o[3],B=o[0],this.ctx.beginPath(),this.formatPath([new Hs(w.end.x,w.end.y),new Hs(B.start.x,B.start.y)]),this.ctx.stroke()),ks(o[1])&&(w=o[1],B=o[2],this.ctx.beginPath(),this.formatPath([new Hs(w.end.x,w.end.y),new Hs(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=tr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=rl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(bl),El=function(e){return e instanceof fo||e instanceof po||e instanceof ho&&e.type!==lo&&e.type!==so},Il=function(e,t){switch(e){case Ar.BORDER_BOX:return zs(t);case Ar.CONTENT_BOX:return js(t);case Ar.PADDING_BOX:default:return Ws(t)}},Tl=function(e){switch(e){case _i.CENTER:return"center";case _i.RIGHT:return"right";case _i.LEFT:default:return"left"}},Sl=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=HA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Fl(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=tr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(bl),Fl=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ul=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Ll=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Ul({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new Es(this,t)}return e.instanceCount=1,e}(),Rl=function(e,t){return void 0===t&&(t={}),Pl(e,t)};"undefined"!=typeof window&&Ms.setContext(window);var Pl=function(e,t){return r(void 0,void 0,void 0,(function(){var r,a,l,c,u,h,d,p,f,g,m,v,y,w,B,x,b,C,M,E,I,T,S,F,U,L,R,P,D,Q,O,H,_,N,k,G,V,z;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=r.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(T=t.allowTaint)&&void 0!==T&&T,imageTimeout:null!==(S=t.imageTimeout)&&void 0!==S?S:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},c=n({logging:null===(U=t.logging)||void 0===U||U,cache:t.cache},l),u={windowWidth:null!==(L=t.windowWidth)&&void 0!==L?L:a.innerWidth,windowHeight:null!==(R=t.windowHeight)&&void 0!==R?R:a.innerHeight,scrollX:null!==(P=t.scrollX)&&void 0!==P?P:a.pageXOffset,scrollY:null!==(D=t.scrollY)&&void 0!==D?D:a.pageYOffset},h=new A(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),d=new Ll(c,h),p=null!==(Q=t.foreignObjectRendering)&&void 0!==Q&&Q,f={allowTaint:null!==(O=t.allowTaint)&&void 0!==O&&O,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},d.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),g=new os(d,e,f),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),y=Lo(m)||Fo(m)?s(m.ownerDocument):o(d,m),w=y.width,B=y.height,x=y.left,b=y.top,C=Dl(d,m,t.backgroundColor),M={canvas:t.canvas,backgroundColor:C,scale:null!==(_=null!==(H=t.scale)&&void 0!==H?H:a.devicePixelRatio)&&void 0!==_?_:1,x:(null!==(N=t.x)&&void 0!==N?N:0)+x,y:(null!==(k=t.y)&&void 0!==k?k:0)+b,width:null!==(G=t.width)&&void 0!==G?G:Math.ceil(w),height:null!==(V=t.height)&&void 0!==V?V:Math.ceil(B)},p?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new Sl(d,M).render(m)]):[3,3];case 2:return E=i.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+x+","+b+" with size "+w+"x"+B+" using computed rendering"),d.logger.debug("Starting DOM parsing"),I=wo(d,m),C===I.styles.backgroundColor&&(I.styles.backgroundColor=cr.TRANSPARENT),d.logger.debug("Starting renderer for element at "+M.x+","+M.y+" with size "+M.width+"x"+M.height),[4,new Ml(d,M).render(I)];case 4:E=i.sent(),i.label=5;case 5:return(null===(z=t.removeContainer)||void 0===z||z)&&(os.destroy(v)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,E]}}))}))},Dl=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?lr(e,getComputedStyle(r.documentElement).backgroundColor):cr.TRANSPARENT,a=r.body?lr(e,getComputedStyle(r.body).backgroundColor):cr.TRANSPARENT,A="string"==typeof n?lr(e,n):null===n?cr.TRANSPARENT:4294967295;return t===r.documentElement?er(i)?er(a)?A:a:i:A};return Rl}()})),Xp=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this)).isSpriteLabel=!0,r.sprite=new lA(new Za({transparent:!0,opacity:0})),r.sprite.renderOrder=5e3,r.sprite.center.set(.5,.1),r.add(r.sprite),e.position&&(Array.isArray(e.position)?r.position.fromArray(e.position):r.position.copy(e.position)),r.userData=e.userData||e,r.element=document.createElement("div"),r.element.style.position="absolute",null!==e.html&&void 0!==e.html&&(e.html.constructor===String?r.element.innerHTML=e.html:r.element.appendChild(e.html),r._fromHTML(e,r.element)),r}return A(n,[{key:"_fromHTML",value:function(){var e=this;document.body.appendChild(this.element),this._onLoadElement(this.element,(function(){Wp(e.element,{backgroundColor:"transparent",useCORS:!0,scale:4}).then((function(t){e.sprite.material.map&&e.sprite.material.map.dispose(),e.sprite.material.opacity=1,e.sprite.material.map=new zA(t),e.sprite.material.needsUpdate=!0;e.sprite.scale.set(t.width/100,t.height/100,1),e.element.parentElement&&e.element.parentElement.removeChild(e.element)}))}))}},{key:"setElement",value:function(e){this.userData=e.userData,e.html.constructor===String?this.element.innerHTML=e.html:(this.element.innerHTML="",this.element.appendChild(e.html)),this._fromHTML()}},{key:"updateElement",value:function(){this._fromHTML()}},{key:"_fromImage",value:function(e){}},{key:"toJSON",value:function(){return{position:this.position.toArray(),scale:this.scale.toArray(),html:encodeURIComponent(this.element.innerHTML),userData:this.userData}}},{key:"_onLoadElement",value:function(e,t){var n,r=e.getElementsByTagName("img"),i=r.length,a=0;function A(){a++,console.log("已经加载图片:"+a+"/"+i),a==i&&(console.log("内容加载完成"),t())}i<=0&&t();for(var o=0;o<r.length;o++)r[n=o].complete?A():r[n].onload=A}},{key:"onClick",value:function(){}}]),n}(Ut),Yp=function(){function e(t){i(this,e),this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAvCAMAAAC18jgTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACvlBMVEUAAADnTDzAOSvnTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDzAOSvAOSvAOSvAOSvnTDznTDzAOSvAOSvAOSvAOSvAOSvAOSvAOSvAOSvnTDznTDzAOSvAOSvAOSvAOSvnTDznTDznTDznTDzAOSvAOSvAOSvAOSvnTDzAOSvAOSvAOSvAOSvnTDznTDzAOSvAOSvnTDzAOSvAOSvAOSvAOSvAOSvAOSvnTDzAOSvnTDzAOSvAOSvAOSvnTDznTDznTDzAOSvAOSvAOSvnTDznTDznTDzAOSvAOSvAOSvAOSvAOSvnTDznTDznTDznTDzAOSvAOSvAOSvAOSvAOSvnTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDznTDzoTDzlSzviSTrhSTrjSjrXRDXPQDLJPS/EOy3PQDHWRDXiSjrcRzfAOSu/OSvIPS7bRjfmTDzTQjPDOizCOizSQjPUQzTDOyzZRTbHPS7GPC7BOSvNPzHLPzDkSzveRzjBOizcRjfQQTLOQDHJPi/gSDnFPC3eSDjgSTnMPzDfSDnHPC7WRDTkSjvfSDgAAAAbHy20AAAAuXRSTlMAAAAYTpbF3O7w3ceaUxsffc/09dODIxZ+14gptr8wONFBJc3VLhKxvHH+fyLY4Cv14N7zi8bujD8gHj2E6ho+5E0BRPNLdf39eGv6oMMSDLivtYh50P5fUPtpWrqWmdgn0Klm+6IIlXYt4qgtAp/46jkFp6l9eqbdCkz2+lkLsr0PP+zySgKQndrjLxTEzmAIDelEAYqYBBnKRvFSB6y5DEDtlKEGKOUygh5X92QJrQ4860ePnNt8iUMldKgAAAABYktHRACIBR1IAAAACXBIWXMAAAK8AAACvAAsAdHPAAAAB3RJTUUH5AYdASUjJ2RCdAAAAtRJREFUOMt1lAdbkzEQx5OisgTBwXKAKCg4wY1bEXCi4MKJiFscuAEVt+LeA/fee4VioYi+BbTFMt0T5WN4l7R9O+952lzu/3veyyWXEMKNgjk1aNjI2cXVzb2xhyfOiWw4beLl3ZQZrFnzFj7mCLi+fv7MwtwCPE0EOC1bMRtr3cZAwBAYxOyYf1tBUBrczhDKY8r8V0oYhLUPQYDS0A4GWVVQqC4qUr8ufmMgOjoBQWlYuJi+VUsajYS/ktIyEeqEQOcu3Fe+ey+ZTKtT8mDXbgB4CbiYK90jIntwp1xEe1IS2ot7pR8g2rtP335R/QcMxG/oeThoEBnsgo6qArIPGTpMgTY8EojKfIxHjyAxsVhAaZUkxY0EkRD4GzUaCD2vNoCM4RWWQ2TsONSRiB8Pxeh4jgkkgY/VkCFR6EhMBKCGl+pOJuFQWyJJk6fIwNQkWIQKFWcBKNXwhWkyMD1Okipq+amSGTxFIQAzZSARUlRzwZvM4ovEbZqdzKsAPWoOAOW8ihQyNxWBj1og5sXzbVDMXwCTT58RCF9IFi1GsOwLxJKWLE1TKNKSly2HyVd+GitWkvRVPJeqBlYhRaxes3bdenA03/hGsoQNhGZk8lV8r9TIp6n58ZOvIGsjnOamzeLgflVXmYDff0Qsews2zNZtYqYsqNNiu2jr/opuYNt38I7aucvYpv/q9Tqdvl5lnO9OF00ZvMfUyZA5z9izLGevse/DYu21PfMz3BxK9+23px/wlK+WR6atnnXQdDkpPZRiCyQcNr+9gUesddejZg8ApceOWwMnTpq/EJSeyrbUT/tYvCBAnMk11zPPWuoAnDtvDly4aAUAcemyrEdnWOt4JFdk4Oo1GwCI625G/cZNWx2JGMNDwW5R+4Cvu9CDbtvTkbhzF/XUe/Z1AO4/4CU+dAAA8egxY7lPHOlY6lPGnqU7BLD7nueEONaRePHSSv8PoTJomQk+BgwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDMtMTlUMTA6NTE6MDErMDA6MDBQ+gh4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAxLTA4VDE5OjQ1OjEyKzAwOjAwFuH4SwAAACB0RVh0c29mdHdhcmUAaHR0cHM6Ly9pbWFnZW1hZ2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAyMzPP8xcQAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADE1OJ/MhxoAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTU0Njk3NjcxMp4G7IoAAAASdEVYdFRodW1iOjpTaXplADEwMzgzQvuof6wAAABadEVYdFRodW1iOjpVUkkAZmlsZTovLy9kYXRhL3d3d3Jvb3Qvd3d3LmVhc3lpY29uLm5ldC9jZG4taW1nLmVhc3lpY29uLmNuL2ZpbGVzLzExOC8xMTg1NjU4LnBuZ9VKt4oAAAAASUVORK5CYII=",this.viewer=t,this.container=document.createElement("div"),this.container.setAttribute("id","markerContainer"),this.container.style.position="absolute",this.container.style.top="0",this.container.style.left="0",t.container.appendChild(this.container),this.defaultLayer=new jp,this.layers=[this.defaultLayer],$h.bindAll(["_onUpdate"],this),t.addEventListener("update",this._onUpdate),this.spriteRoot=new Ut,this.spriteRoot.name="spriteRoot",this.viewer.root.add(this.spriteRoot)}return A(e,[{key:"addMarker",value:function(e){if(void 0!==e.position)return void 0===e.element&&(e.element=new Image,e.element.src=this.icon,(e.onclick||e.cameraView)&&(e.element.style.cursor="pointer")),this._addHotSpot(e);console.error("缺少关键参数：position")}},{key:"add",value:function(e){if(void 0!==e.position){if(void 0!==e.element){if(e.element.constructor===String){e.element='<div class="hot-spot" >'.concat(e.element,"</div>");var t=document.createElement("div");t.innerHTML=e.element,e.element=t.children[0]}return this._addHotSpot(e)}console.error("缺少关键参数：element")}else console.error("缺少关键参数：position")}},{key:"addLayer",value:function(e){this.layers.indexOf(e)<0&&this.layers.push(e)}},{key:"hideAll",value:function(){this.layers.forEach((function(e){e.hide()}))}},{key:"showAll",value:function(){this.layers.forEach((function(e){e.show()}))}},{key:"onlyShow",value:function(e){this.hideAll(),e.show()}},{key:"toJSON",value:function(){var e=[];return this.layers.forEach((function(t){e.push(t.toJSON())})),e}},{key:"loadLayer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultLayer;et.render(),viewer.camera.updateProjectionMatrix(),this.addLayer(n),e.forEach((function(e){var r=document.createElement("div");r.innerHTML=e.element,r.className="hot-spot",e.element=r,e.layer=n,t._addHotSpot(e)})),setTimeout(et.render,10)}},{key:"_addHotSpot",value:function(e){var t=this;if(e.element.style.position="absolute",this.container.appendChild(e.element),e.position=Array.isArray(e.position)?(new Ve).fromArray(e.position):(new Ve).copy(e.position),void 0!==e.objectId){var n=this.viewer.root.getObjectById(e.objectId);if(!n)return console.error("热点id与模型不匹配"),null;e.worldPos=e.position.clone(),n.worldToLocal(e.position)}var r=new zp(e);return e.layer=e.layer||this.defaultLayer,e.layer.add(r),r.focus=function(n){e.cameraView&&e.cameraView.position&&(r.cameraView.complete=function(){n?n():r.complete&&r.complete()},t.viewer.controls.flyTo(r.cameraView))},et.render(),r}},{key:"_onUpdate",value:function(){var e=this;this.layers.forEach((function(t){t.visible&&t.spots.forEach((function(t){var n=t.position.clone();void 0!==t.objectId&&(n=e.viewer.root.getObjectById(t.objectId).localToWorld(t.position.clone())),t.updateScreenCoords(e._getProjectHotPos(n)),t.screenCoord?t.hided||(t.element.style.display="block"):t.element.style.display="none"}))}))}},{key:"_getProjectHotPos",value:function(e){var t=this.viewer,n=t.camera.position.clone().sub(e.clone()).normalize(),r=new Ve;t.camera.getWorldDirection(r).clone();var i=t.renderer.domElement.getBoundingClientRect(),a=i.width/2,A=i.height/2,o=e.clone();return o.project(t.camera),r.x=-r.x,r.y=-r.y,r.z=-r.z,n.clone().angleTo(r)>.5*Math.PI?null:new _e(o.x*a+a,-o.y*A+A)}},{key:"createLayer",value:function(){var e=new jp;return this.addLayer(e),e}},{key:"deleteLayer",value:function(e){-1!==this.layers.indexOf(e)&&(e.spots.map((function(e){e.element.remove()})),this.layers.splice(this.layers.indexOf(e),1))}},{key:"export",value:function(){return this.toJSON().filter((function(e){return e.length>0}))}},{key:"import",value:function(e){var t=this,n=new DOMParser;e.map((function(e){var r=t.createLayer();e.forEach((function(e){e.element=n.parseFromString(e.element,"text/html").body.children[0],e.layer=r,t._addHotSpot(e)}))}))}},{key:"addSpriteLabel",value:function(e){e.position||console.warn("addSpriteLabel: options.position不能为空！");var t=new Xp({position:e.position,html:e.content,userData:e.userData});return this.spriteRoot.add(t),t}}]),e}(),Kp=function(){function e(){i(this,e)}return A(e,[{key:"init",value:function(){this.isActive=!1}},{key:"initParticleItem",value:function(e){}},{key:"update",value:function(e,t){}},{key:"reset",value:function(){}}]),e}(),Zp="\nattribute vec4 vertexColor;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n     vUv = uv;\n     vColor = vertexColor;\n     vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n     gl_Position = projectionMatrix * mvPosition;\n}\n",Jp="\n\nuniform sampler2D mainTex;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n    vec4 texColor = texture2D(mainTex,vUv.xy);\n    vec4 col = texColor * vColor;\n    gl_FragColor = col;\n}\n\n",qp="\nattribute vec4 vertexColor;\nuniform vec4 _TintColor;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n     vUv = uv;\n     vColor = vec4(vertexColor.xyz * _TintColor.xyz,vertexColor.w * _TintColor.w);\n     vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n     gl_Position = projectionMatrix * mvPosition;\n}\n\n",$p="\n\nuniform sampler2D mainTex;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n    vec4 texColor = texture2D(mainTex,vUv.xy);\n    vec4 col = texColor * vColor * 2.0;\n    col.a = clamp(col.a,0.0,1.0);\n    gl_FragColor = col;\n}\n\n",ef="\n    uniform sampler2D mainTex;\n    varying vec4 _TintColor;\n    varying vec4 vColor;\n    varying vec2 vUv;\n    void main()\n    {\n        vec4 texColor = texture2D(mainTex,vUv.xy);\n        vec3 col = texColor.xyz * vColor.xyz * _TintColor.xyz * 2.0;\n        float a = (1 - texColor.w) * (_TintColor.w * vColor.w * 2.0);\n        gl_FragColor = vec4(col.xyz,a);\n    }\n\n",tf="\nuniform sampler2D mainTex;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n    vec4 texColor = texture2D(mainTex,vUv.xy);\n    vec4 col = texColor * vColor;\n    col = lerp(vec4(1,1,1,1),col,col.w);\n    gl_FragColor = col;\n}\n    \n",nf="\n    uniform sampler2D mainTex;\n    varying vec4 vColor;\n    varying vec2 vUv;\n    void main()\n    {\n        vec4 col;\n        vec4 texColor = texture2D(mainTex,vUv.xy);\n        col.xyz = texColor.xyz * vColor.xyz * 2;\n        col.w = vColor.w * texColor.w;\n        col = lerp(vec4(0.5,0.5,0.5,0.5),col,col.a);\n        gl_FragColor = col;\n    }\n",rf="\n\n    uniform sampler2D mainTex;\n    varying vec4 vColor;\n    varying vec2 vUv;\n    void main()\n    {\n        vec4 texColor = texture2D(mainTex,vUv.xy);\n        gl_FragColor = vColor * texColor * vColor.a;\n    }\n",af=function(){function e(){i(this,e)}return A(e,null,[{key:"randomValue",value:function(e,t){var n=Math.random();return Lu.lerp(e,t,n)}},{key:"randomVector3",value:function(e,t){return new Ve(this.randomValue(e.x,t.x),this.randomValue(e.y,t.y),this.randomValue(e.z,t.z))}},{key:"randomVector4",value:function(e,t){var n=Math.random();return e.lerp(t,n)}},{key:"getShader",value:function(e){return"normal_vertex"===e?Zp:"normal_fragment"===e?Jp:"normal_legacy_vertex"===e?qp:"normal_legacy_fragment"===e?$p:"multily_legacy_fragment"===e?ef:"multipy_fragment"===e?tf:"multiplyDouble_fragment"===e?nf:"premultiplyBlend_fragment"===e?rf:""}},{key:"getShaderBlend",value:function(e){return"SrcAlpha"===e?I:"OneMinusSrcAlpha"===e?T:"One"===e?E:"DstColor"===e?208:"Zero"===e?200:"SrcColor"===e?202:E}}]),e}(),Af=function(){function e(t){i(this,e),null!=t?this.setJsonData(t):(this.times=[],this.values=[],this.currentIndex=0)}return A(e,[{key:"setJsonData",value:function(e){this.times=e.times,this.values=e.values,this.currentIndex=0}},{key:"getValue",value:function(e){var t=this.times.length;if(this.currentIndex<t-1&&this.times[this.currentIndex]<=e&&this.times[this.currentIndex+1]>=e)return Lu.lerp(this.values[this.currentIndex],this.values[this.currentIndex+1],(e-this.times[this.currentIndex])/(this.times[this.currentIndex+1]-this.times[this.currentIndex]));for(var n=0;n<t;n++){if(!(n<t-1))return this.currentIndex=n,this.values[n];if(this.times[n]<=e&&this.times[n+1]>=e)return this.currentIndex=n,Lu.lerp(this.values[n],this.values[n+1],(e-this.times[n])/(this.times[n+1]-this.times[n]))}return 0}}]),e}(),of=function(){function e(t){i(this,e),null!=t?this.setJsonData(t):(this.m_Mode=e.TYPE.Constant,this.m_ConstantMin=0,this.m_ConstantMax=0,this.m_CurveMin=null,this.m_CurveMax=null)}return A(e,[{key:"setJsonData",value:function(t){this.m_Mode=t.mode,this.m_Mode===e.TYPE.Constant?this.setConstantValue(t.max):this.m_Mode===e.TYPE.TwoConstants?this.setConstantMinMax(t.min,t.max):this.m_Mode===e.TYPE.Curve?this.setCurves(new Af(t.maxCurve)):this.m_Mode===e.TYPE.TwoCurves&&this.setCurvesMinMax(new Af(t.minCurve),new Af(t.maxCurve))}},{key:"setConstantValue",value:function(t){this.m_Mode=e.TYPE.Constant,this.m_ConstantMin=0,this.m_ConstantMax=t,this.m_CurveMin=null,this.m_CurveMax=null}},{key:"setConstantMinMax",value:function(t,n){this.m_Mode=e.TYPE.TwoConstants,this.m_ConstantMin=t,this.m_ConstantMax=n,this.m_CurveMin=null,this.m_CurveMax=null}},{key:"setCurves",value:function(t){this.m_Mode=e.TYPE.Curve,this.m_CurveMax=t,this.m_CurveMin=null}},{key:"setCurvesMinMax",value:function(t,n){this.m_Mode=e.TYPE.TwoCurves,this.m_CurveMin=t,this.m_CurveMax=n}},{key:"getRandomValue",value:function(t){if(this.m_Mode==e.TYPE.Constant)return this.m_ConstantMax;if(this.m_Mode==e.TYPE.TwoConstants)return af.randomValue(this.m_ConstantMin,this.m_ConstantMax);if(this.m_Mode==e.TYPE.Curve)return this.m_CurveMax.getValue(t);if(this.m_Mode==e.TYPE.TwoCurves){var n=Math.random(),r=this.m_CurveMin.getValue(t),i=this.m_CurveMax.getValue(t);return n>.5?i:r}return 0}}]),e}();of.TYPE=Object.freeze({Constant:0,Curve:1,TwoCurves:2,TwoConstants:3});var sf=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this)).isActive=!0,null!=e?r.setJsonData(e):(r.rateOverTime=new of,r.rateOverTime.setConstantValue(5)),r.density=1,r.rateOverTimeResult=r.rateOverTime.getRandomValue(),r.secondParticle=r.rateOverTimeResult*r.density,r.singleTime=1/r.secondParticle,r.playBackTime=0,r.cacheTime=0,r.createParticleCount=0,r}return A(n,[{key:"setJsonData",value:function(e){this.rateOverTime=new of(e.rateOverTime)}},{key:"setDensity",value:function(e){this.density=e,this.secondParticle=this.rateOverTimeResult*this.density,0==this.secondParticle?this.singleTime=99999999:this.singleTime=1/this.secondParticle}},{key:"update",value:function(e,t){this.playBackTime+=e,this.cacheTime+=e,this.cacheTime>=this.singleTime&&(this.createParticleCount=Math.floor(this.cacheTime/this.singleTime),this.cacheTime=this.cacheTime%this.singleTime)}},{key:"reset",value:function(){g(l(n.prototype),"reset",this).call(this),this.createParticleCount=0}}]),n}(Kp),lf=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this)).isActive=!0,null!=e?r.setJsonData(e):(r.shape=n.TYPE.Box,r.angle=25,r.radius=1,r.radiusThickness=1,r.donutRadius=.2,r.position=new Ve(0,0,0),r.rotation=new gt(0,0,0),r.scale=new Ve(1,1,1)),r.startPosition=new Ve(0,0,0),r.moveDirection=new Ve(0,0,0),r}return A(n,[{key:"setJsonData",value:function(e){this.shape=e.shapeMode,this.shape===n.TYPE.Cone&&(this.angle=e.cone.angle,this.radius=e.cone.radius,this.radiusThickness=e.cone.radiusThickness),this.position=new Ve(e.position.x,e.position.y,e.position.z),this.rotation=new gt(e.rotation.x,e.rotation.y,e.rotation.z),this.scale=new Ve(e.scale.x,e.scale.y,e.scale.z)}},{key:"update",value:function(e,t){if(g(l(n.prototype),"update",this).call(this,e,t),this.shape==n.TYPE.Cone){var r=Lu.lerp(0,this.angle,1-this.radiusThickness),i=He.degToRad(af.randomValue(r,this.angle)),a=He.degToRad(af.randomValue(0,360)),A=Math.sin(i);this.moveDirection=new Ve(A*Math.cos(a),Math.cos(i),A*Math.sin(a));var o=He.degToRad(af.randomValue(0,360)),s=af.randomValue(0,this.radius);this.startPosition=new Ve(Math.cos(o)*s,0,Math.sin(o)*s),this.startPosition=this.startPosition.multiply(this.scale).add(this.position),this.moveDirection.applyEuler(this.rotation).multiply(this.scale)}else if(this.shape==n.TYPE.Box){var c=this.scale.clone().multiplyScalar(.5);this.startPosition=af.randomVector3(new Ve(-c.x,-c.y,-c.z),new Ve(c.x,c.y,c.z)),this.moveDirection.y=1,this.moveDirection.applyEuler(this.rotation)}}},{key:"reset",value:function(){g(l(n.prototype),"reset",this).call(this),this.startPosition.setScalar(0),this.moveDirection.setScalar(0)}}]),n}(Kp);lf.TYPE=Object.freeze({Sphere:0,Hemisphere:2,Cone:4,Box:5,Circle:10});var cf=function(){function e(t){i(this,e),null!=t?this.setJsonData(t):(this.colorLocation=[],this.colors=[],this.alphaLocation=[],this.alphas=[])}return A(e,[{key:"setJsonData",value:function(e){this.colorLocation=e.colorLocation,this.colors=[];for(var t=0;t<e.colors.length;t++)this.colors[t]=new rt(e.colors[t].r,e.colors[t].g,e.colors[t].b,e.colors[t].a);this.alphaLocation=e.alphaLocation,this.alphas=e.alphas}},{key:"getValue",value:function(e){var t=this.lerp(e,this.colorLocation,this.colors),n=this.lerp(e,this.alphaLocation,this.alphas);return new rt(t.x,t.y,t.z,n)}},{key:"lerp",value:function(e,t,n){for(var i=0;i<t.length;i++){if(t[i]>=e&&0===i)return"number"==typeof n[i]?n[i]:n[i].clone();if(i<t.length-1&&t[i]<=e&&t[i+1]>e){var a=(e-t[i])/(t[i+1]-t[i]);return"number"==typeof n[i]?n[i]+(n[i+1]-n[i])*a:n[i].clone().lerp(n[i+1],a)}}return r("number"==n[n.length-1])?n[n.length-1]:n[n.length-1].clone()}}]),e}(),uf=function(){function e(t){i(this,e),null!=t?this.setJsonData(t):(this.m_mode=e.TYPE.Color,this.minColor=null,this.maxColor=new rt(1,1,1,1),this.minGradient=null,this.maxGradient=null)}return A(e,[{key:"setJsonData",value:function(t){if(this.m_mode=t.m_mode,this.m_mode===e.TYPE.Color)this.setColor(new rt(t.maxColor.r,t.maxColor.g,t.maxColor.b,t.maxColor.a));else if(this.m_mode===e.TYPE.TwoColors){var n=new rt(t.minColor.r,t.minColor.g,t.minColor.b,t.minColor.a),r=new rt(t.maxColor.r,t.maxColor.g,t.maxColor.b,t.maxColor.a);this.setColorMinMax(n,r)}else this.m_mode===e.TYPE.Gradient?this.setGradient(new cf(t.maxGradient)):this.m_mode===e.TYPE.TwoGradients&&this.setMinMaxGradient(new cf(t.minGradient),new cf(t.maxGradient))}},{key:"setColorMinMax",value:function(t,n){this.m_mode=e.TYPE.TwoColors,this.minColor=t,this.maxColor=n}},{key:"setGradient",value:function(t){this.m_mode=e.TYPE.Gradient,this.maxGradient=t}},{key:"setMinMaxGradient",value:function(t,n){this.m_mode=e.TYPE.TwoGradients,this.minGradient=t,this.maxGradient=n}},{key:"setColor",value:function(t){this.m_mode=e.TYPE.Color,this.minColor=null,this.maxColor=t}},{key:"getRandomValue",value:function(){if(this.m_mode==e.TYPE.Color)return this.maxColor;if(this.m_mode==e.TYPE.Gradient)return this.maxGradient.getValue(Math.random());if(this.m_mode==e.TYPE.TwoGradients){var t=Math.random(),n=this.minGradient.getValue(t),r=this.maxGradient.getValue(t);return af.randomVector4(n,r)}return this.m_mode==e.TYPE.TwoColors?af.randomVector4(this.minColor,this.maxColor):this.m_mode==e.TYPE.RandomColor?this.maxGradient.getValue(Math.random()):this.maxColor}},{key:"getLerpValue",value:function(t){if(this.m_mode==e.TYPE.Gradient)return this.maxGradient.getValue(t);if(this.m_mode==e.TYPE.TwoGradients){var n=Math.random(),r=this.minGradient.getValue(n),i=this.maxGradient.getValue(n);return n>.5?i:r}return this.maxColor}}]),e}();uf.TYPE=Object.freeze({Color:0,Gradient:1,TwoColors:2,TwoGradients:3,RandomColor:4});var hf=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this)).isActive=!0,r.duration=e.duration,r.isLoop=e.isLoop,r.startDelay=new of(e.startDelay),r.startLifeTime=new of(e.startLifeTime),r.startSpeed=new of(e.startSpeed),r.startSize=new of(e.startSize),r.startRotation=new of(e.startRotation),r.startColor=new uf(e.startColor),r.gravityModifier=new of(e.gravity),r.maxParticles=1e4,r}return A(n,[{key:"initParticleItem",value:function(e){e.startDelay=this.startDelay.getRandomValue(),e.lifeTime=this.startLifeTime.getRandomValue();var t=this.startSpeed.getRandomValue();e.startSpeed=new Ve(t,t,t),e.startSize=this.startSize.getRandomValue(),e.startRotation=this.startRotation.getRandomValue(),e.startColor=this.startColor.getRandomValue(),e.gravityModifier=this.gravityModifier.getRandomValue(),e.refresh()}},{key:"update",value:function(e,t){g(l(n.prototype),"update",this).call(this,e,t),t.setScaleXYZ(t.startSize,t.startSize,t.startSize),t.color=t.startColor.clone(),t.speed=t.moveDirection.clone().add(t.startSpeed),t.speed.add(new Ve(0,4.905*-t.gravityModifier*2*t.currentTime,0))}}]),n}(Kp),df=function(){function e(t){i(this,e),this.particleCount=t,this.bufferGeometry=null,this.material=null,this.mesh=null}return A(e,[{key:"init",value:function(){this.bufferGeometry=new Jn}},{key:"setColor",value:function(e,t){}},{key:"setPosition",value:function(e,t,n,r){}},{key:"setScale",value:function(e,t,n){}},{key:"setRotation",value:function(e,t,n,r){}},{key:"setAlpha",value:function(){}}]),e}();df.RenderMode=Object.freeze({Billboard:0,StretchedBillboard:1,HorizontalBillboard:2,VerticalBillboard:3});var pf=function(){function e(t){i(this,e),this.particleSystem=t,this.index=0,this.render=null,this.startDelay=0,this.lifeTime=0,this.startSpeed=1,this.startSize=1,this.startColor=new rt(1,1,1,1),this.gravityModifier=0,this.startRotation=0,this.startPosition=new Ve(0,0,0),this.moveDirection=new Ve(0,0,0),this.active=!0,this.currentTime=0,this.pos0=new Ve(0,0,0),this.pos1=new Ve(0,0,0),this.pos2=new Ve(0,0,0),this.pos3=new Ve(0,0,0),this.speed=new Ve(1,1,1),this.rotationSpeed=new Ve(0,0,0),this.position=this.startPosition.clone(),this.rotation=new Ve(0,0,0),this.scale=new Ve(1,1,1),this.camera=null,this.localMatrix=new dt,this.moveMatrix=new dt,this.scaleMatrix=(new dt).makeScale(1,1,1),this.rotationEuler=new gt(0,0,0),this.billboardRotationEuler=new gt(0,0,0),this.startRotationEuler=new gt(0,0,He.degToRad(this.startRotation)),this.directionEuler=new gt(0,0,0),this.color=this.startColor.clone(),this.isDirty=!0,this.isColorDirty=!0,this.texStartFrame=0}return A(e,[{key:"setCamera",value:function(e){this.camera=e}},{key:"initRender",value:function(e,t){this.render=e,this.camera=t,this.pos0=new Ve(-this.render.width,-this.render.height,0),this.pos1=new Ve(this.render.width,-this.render.height,0),this.pos2=new Ve(this.render.width,this.render.height,0),this.pos3=new Ve(-this.render.width,this.render.height,0)}},{key:"refresh",value:function(){this.color=this.startColor.clone(),this.startRotationEuler=new gt(0,0,He.degToRad(this.startRotation))}},{key:"setStartPosition",value:function(e){this.startPosition=e,this.setRotation(new Ve(0,0,0)),this.setPosition(this.startPosition.clone())}},{key:"setActive",value:function(e){this.active!=e&&(this.active=e,this.active?this.render.setColor(this.index,this.color):this.render.setColor(this.index,new rt(this.color.x,this.color.y,this.color.z,0)))}},{key:"reset",value:function(){this.currentTime=0,this.scale.set(1,1,1),this.rotation.set(0,0,0),this.rotationEuler.set(0,0,0),this.isDirty=!1,this.isColorDirty=!1,this.position.set(0,0,0),this.texStartFrame=0}},{key:"update",value:function(e){if(this.currentTime+=e,this.currentTime>=this.lifeTime)return this.setActive(!1),void this.reset();this.rotation.addScaledVector(this.rotationSpeed,e),this.setRotationAngleXYZ(this.rotation.x,this.rotation.y,this.rotation.z),this.position.add(this.speed.multiplyScalar(e)),this.setPosition(this.position),this.billboard(),!0===this.isDirty&&this.refreshMatrix(),!0===this.isColorDirty&&this.render.setColor(this.index,this.color)}},{key:"billboard",value:function(){if(null!=this.camera){var e=new Ve(0,0,0);this.camera.getWorldDirection(e),e.add(this.camera.position),e=this.particleSystem.worldToLocal(e);var t=this.particleSystem.worldToLocal(this.camera.position.clone());this.render.renderMode==df.RenderMode.StretchedBillboard&&e.setY(t.y);var n=new dt;n.lookAt(t,e,new Ve(0,1,0));var r=new Ne;r.setFromRotationMatrix(n),this.billboardRotationEuler.set(0,0,0),this.billboardRotationEuler.setFromQuaternion(r)}}},{key:"refreshMatrix",value:function(){this.localMatrix=this.scaleMatrix.clone(),this.localMatrix.premultiply(this.moveMatrix);var e=this.pos0.clone().applyEuler(this.startRotationEuler).applyEuler(this.rotationEuler).applyEuler(this.billboardRotationEuler).applyMatrix4(this.localMatrix),t=this.pos1.clone().applyEuler(this.startRotationEuler).applyEuler(this.rotationEuler).applyEuler(this.billboardRotationEuler).applyMatrix4(this.localMatrix),n=this.pos2.clone().applyEuler(this.startRotationEuler).applyEuler(this.rotationEuler).applyEuler(this.billboardRotationEuler).applyMatrix4(this.localMatrix),r=this.pos3.clone().applyEuler(this.startRotationEuler).applyEuler(this.rotationEuler).applyEuler(this.billboardRotationEuler).applyMatrix4(this.localMatrix);this.render.setPosition(4*this.index,e),this.render.setPosition(4*this.index+1,t),this.render.setPosition(4*this.index+2,n),this.render.setPosition(4*this.index+3,r),this.render.refreshPosition()}},{key:"setPosition",value:function(e){this.position.x==e&&this.position.y==e.y&&this.position.z==e.z||(this.position=e,this.moveMatrix.makeTranslation(this.position.x,this.position.y,this.position.z),this.isDirty=!0)}},{key:"setScale",value:function(e){this.setScaleXYZ(e.x,e.y,e.z)}},{key:"setScaleXYZ",value:function(e,t,n){this.scale.x==e&&this.scale.y==t&&this.scale.z==n||(this.scale.set(e,t,n),this.scaleMatrix.makeScale(this.scale.x,this.scale.y,this.scale.z),this.isDirty=!0)}},{key:"setRotationAngleXYZ",value:function(e,t,n){this.setRotationXYZ(He.degToRad(e),He.degToRad(t),He.degToRad(n))}},{key:"setRotation",value:function(e){this.setRotationXYZ(e.x,e.y,e.z)}},{key:"setRotationXYZ",value:function(e,t,n){this.rotationEuler.x==e&&this.rotationEuler.y==t&&this.rotationEuler.z==n||(this.rotation.set(He.radToDeg(e),He.radToDeg(t),He.radToDeg(n)),this.rotationEuler.set(e,t,n),this.isDirty=!0)}},{key:"setColor",value:function(e){this.color.x===e.x&&this.color.y===e.y&&this.color.z===e.z&&this.color.w===e.w||(this.color=e,this.isColorDirty=!0)}},{key:"multiplyColor",value:function(e){this.color.multiply(e),this.isColorDirty=!0}},{key:"setUVs",value:function(e,t){this.render.setUV(this.index,e,t)}}]),e}(),ff=function(e){s(n,e);var t=f(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e)).width=.5,a.height=.5,a.mainTexture=null,a.renderMode=n.RenderMode.Billboard,null!=r?(""==r.texName?a.texPath="glow.png":a.texPath=r.texName,a.vertexShaderName=af.getShader(r.vertexShaderName),a.fragmentShaderName=af.getShader(r.fragmentShaderName),a.blendSrc=af.getShaderBlend(r.blendSrc),a.blendDst=af.getShaderBlend(r.blendDst),a.renderMode=r.renderMode,a.renderMode==df.RenderMode.StretchedBillboard?a.lengthScale=r.lengthScale:a.lengthScale=1,null!=r.matColor&&(a.matColor=new rt(r.matColor.r,r.matColor.g,r.matColor.b,r.matColor.a))):(a.texPath="glow.png",a.lengthScale=1,a.vertexShaderName=af.getShader("normal_vertex"),a.fragmentShaderName=af.getShader("normal_fragment"),a.blendSrc=af.getShaderBlend("SrcAlpha"),a.blendDst=af.getShaderBlend("OneMinusSrcAlpha")),a.height*=a.lengthScale,a.init(),a}return A(n,[{key:"init",value:function(){g(l(n.prototype),"init",this).call(this),this.mainTexture=(new zs).load(this.texPath);for(var e=[],t=[],r=[],i=[],a=0;a<this.particleCount;a++){e.push(-this.width,-this.height,0),e.push(this.width,-this.height,0),e.push(this.width,this.height,0),e.push(-this.width,this.height,0);var A=4*a;r.push(A,A+1,A+2),r.push(A,A+2,A+3),i.push(0,0),i.push(1,0),i.push(1,1),i.push(0,1),t.push(1,1,1,1),t.push(1,1,1,1),t.push(1,1,1,1),t.push(1,1,1,1)}this.bufferGeometry.setIndex(r),this.bufferGeometry.setAttribute("position",new _n(e,3)),this.bufferGeometry.setAttribute("vertexColor",new _n(t,4)),this.bufferGeometry.setAttribute("uv",new _n(i,2));var o={};o.mainTex={value:this.mainTexture},null!=this.matColor&&(o._TintColor={value:this.matColor}),this.material=new Sr({uniforms:o,vertexShader:this.vertexShaderName,fragmentShader:this.fragmentShaderName,transparent:!0,blending:5,blendSrc:this.blendSrc,blendDst:this.blendDst,vertexColors:!0,depthWrite:!1}),this.mesh=new gr(this.bufferGeometry,this.material),this.mesh.renderOrder=2e3,this.mesh.frustumCulled=!1}},{key:"setColor",value:function(e,t){this.bufferGeometry.attributes.vertexColor.setXYZW(4*e,t.x,t.y,t.z,t.w),this.bufferGeometry.attributes.vertexColor.setXYZW(4*e+1,t.x,t.y,t.z,t.w),this.bufferGeometry.attributes.vertexColor.setXYZW(4*e+2,t.x,t.y,t.z,t.w),this.bufferGeometry.attributes.vertexColor.setXYZW(4*e+3,t.x,t.y,t.z,t.w),this.bufferGeometry.attributes.vertexColor.needsUpdate=!0}},{key:"setPosition",value:function(e,t){this.bufferGeometry.attributes.position.setXYZ(e,t.x,t.y,t.z)}},{key:"refreshPosition",value:function(){this.bufferGeometry.attributes.position.needsUpdate=!0}},{key:"setUV",value:function(e,t,n){this.bufferGeometry.attributes.uv.setXY(4*e,t.x,t.y),this.bufferGeometry.attributes.uv.setXY(4*e+1,n.x,t.y),this.bufferGeometry.attributes.uv.setXY(4*e+2,n.x,n.y),this.bufferGeometry.attributes.uv.setXY(4*e+3,t.x,n.y),this.bufferGeometry.attributes.uv.needsUpdate=!0}}]),n}(df),gf=function(e){s(n,e);var t=f(n);function n(e){var r;if(i(this,n),r=t.call(this),null!=e)r.color=new uf(e.color);else{r.color=new uf;var a=new cf;a.colorLocation=[0,1],a.colors=[new Ve(1,1,1),new Ve(1,0,0)],a.alphaLocation=[0,1],a.alphas=[1,1],r.color.setGradient(a)}return r}return A(n,[{key:"update",value:function(e,t){g(l(n.prototype),"update",this).call(this,e,t);var r=t.currentTime/t.lifeTime;r=Lu.clamp(r,0,1);var i=this.color.getLerpValue(r);t.multiplyColor(i)}}]),n}(Kp),mf=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),r=t.call(this),null!=e?(r.linearSpeedX=new of(e.linearX),r.linearSpeedY=new of(e.linearY),r.linearSpeedZ=new of(e.linearZ)):(r.linearSpeedX=new of,r.linearSpeedY=new of,r.linearSpeedZ=new of,r.linearSpeedX.setConstantValue(10)),r.speedVec=new Ve(0,0,0),r.linearSpeedX.m_Mode===of.TYPE.TwoCurves||r.linearSpeedX.m_Mode===of.TYPE.Curve?r.isCurve=!0:r.isCurve=!1,r}return A(n,[{key:"initParticleItem",value:function(e){g(l(n.prototype),"initParticleItem",this).call(this,e),!1===this.isCurve&&(this.speedVec.set(0,0,0),this.speedVec.set(this.linearSpeedX.getRandomValue(),this.linearSpeedY.getRandomValue(),this.linearSpeedZ.getRandomValue()),e.startSpeed.add(this.speedVec))}},{key:"update",value:function(e,t){g(l(n.prototype),"update",this).call(this,e,t),!0===this.isCurve&&(this.speedVec.set(this.linearSpeedX.getRandomValue(e),this.linearSpeedY.getRandomValue(e),this.linearSpeedZ.getRandomValue(e)),t.speed.add(this.speedVec))}},{key:"reset",value:function(){g(l(n.prototype),"reset",this).call(this),this.speedVec.set(0,0,0)}}]),n}(Kp),vf=function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this)).x=new of,e.x.setConstantValue(5),e.y=new of,e.z=new of,e}return A(n,[{key:"update",value:function(e,t){g(l(n.prototype),"update",this).call(this,e,t);var r=t.currentTime/t.lifeTime,i=this.x.getRandomValue(r)*t.currentTime,a=this.y.getRandomValue(r)*t.currentTime,A=this.z.getRandomValue(r)*t.currentTime;t.speed.set(t.speed.x+i,t.speed.y+a,t.speed.z+A)}}]),n}(Kp),yf=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),r=t.call(this),null!=e?(null!=e.rx?r.rCurveX=new of(e.rx):r.rCurveX=new of,null!=e.ry?r.rCurveY=new of(e.ry):r.rCurveY=new of,null!=e.rz?r.rCurveZ=new of(e.rz):r.rCurveZ=new of):(r.rCurveX=new of,r.rCurveY=new of,r.rCurveZ=new of),r.rCurveZ.m_Mode===of.TYPE.Constant||r.rCurveZ.m_Mode===of.TYPE.TwoConstants?r.isCurve=!1:r.isCurve=!0,r}return A(n,[{key:"initParticleItem",value:function(e){var t=this.rCurveX.getRandomValue(),n=this.rCurveY.getRandomValue(),r=this.rCurveZ.getRandomValue();e.rotationSpeed.set(t,n,r)}},{key:"update",value:function(e,t){if(g(l(n.prototype),"update",this).call(this,e,t),this.isCurve){var r=t.currentTime/t.lifeTime,i=this.rCurveX.getRandomValue(r),a=this.rCurveY.getRandomValue(r),A=this.rCurveZ.getRandomValue(r);t.rotationSpeed.set(i,a,A)}}}]),n}(Kp),wf=function(e){s(n,e);var t=f(n);function n(e){var r;if(i(this,n),r=t.call(this),null!=e)r.tileX=e.tileX,r.tileY=e.tileY,r.animation=e.animationMode,r.rowMode=e.rowMode,r.row=e.row,r.timeMode=e.timeMode,r.frameOverTime=new of(e.frameOverTime),r.startFrame=new of(e.startFrame),r.cycles=e.cycles,null!=e.speedRange&&(r.speedRange=new _e(e.speedRange.x,e.speedRange.y));else{r.tileX=8,r.tileY=8,r.animation=n.Animation.WholeSheet,r.rowMode=n.RowMode.Random,r.row=0,r.timeMode=n.TimeMode.LifeTime,r.frameOverTime=new of;var a=new Af;a.times=[0,1],a.values=[0,1],r.frameOverTime.setCurves(a),r.speedRange=new _e(0,1),r.startFrame=new of,r.startFrame.setConstantValue(0),r.cycles=1}return r}return A(n,[{key:"initParticleItem",value:function(e){g(l(n.prototype),"initParticleItem",this).call(this,e),e.texStartFrame=this.startFrame.getRandomValue()}},{key:"update",value:function(e,t){g(l(n.prototype),"update",this).call(this,e,t);var r,i,a=t.currentTime/t.lifeTime,A=0,o=0;if(this.animation===n.Animation.WholeSheet)A=0,o=this.tileX*this.tileY;else if(this.animation===n.Animation.SingleRow){var s=0;this.rowMode===n.RowMode.Custom?s=this.row:this.rowMode==n.RowMode.Random&&(s=Math.random()*this.tileX),A=s*this.tileY,o=s*this.tileY+this.tileX}var c=0,u=o-A;if(this.timeMode==n.TimeMode.LifeTime){var h=this.frameOverTime.getRandomValue(a)*this.cycles;c=parseInt(h*u)}else if(this.timeMode==n.TimeMode.Speed){var d=(t.speed.length()-this.speedRange.x)/(this.speedRange.y-this.speedRange.x);d=Lu.clamp(d*this.cycles,0,1),c=parseInt(u*d)}i=(c+=t.texStartFrame)-(r=parseInt(c/this.tileY))*this.tileY,t.setUVs(new _e(i/this.tileY,(this.tileX-r-1)/this.tileX),new _e((i+1)/this.tileY,(this.tileX-r)/this.tileX))}}]),n}(Kp);wf.Animation=Object.freeze({WholeSheet:0,SingleRow:1}),wf.RowMode=Object.freeze({Custom:0,Random:1}),wf.TimeMode=Object.freeze({LifeTime:0,Speed:1});var Bf=function(e){s(n,e);var t=f(n);function n(){var e;return i(this,n),(e=t.call(this)).dampen=0,e.speedLimitX=new of,e.speedLimitY=new of,e.speedLimitZ=new of,e}return A(n,[{key:"update",value:function(e,t){g(l(n.prototype),"update",this).call(this,e,t);var r=t.currentTime/t.lifeTime;r=Lu.clamp(r);var i=this.speedLimitX.getRandomValue(r),a=this.speedLimitY.getRandomValue(r),A=this.speedLimitZ.getRandomValue(r);i=Math.min(i,t.speed.x),a=Math.min(a,t.speed.y),A=Math.min(A,t.speed.z);var o=Lu.lerp(t.speed.x,i,this.dampen),s=Lu.lerp(t.speed.y,a,this.dampen),c=Lu.lerp(t.speed.z,A,this.dampen);t.speed.set(o,s,c)}}]),n}(Kp),xf=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),r=t.call(this),null!=e?!0===e.separateAxes?(r.sizeCurveX=new of(e.sizeX),r.sizeCurveY=new of(e.sizeY),r.sizeCurveZ=new of(e.sizeZ)):(r.sizeCurveX=new of(e.sizeX),r.sizeCurveY=new of(e.sizeX),r.sizeCurveZ=new of(e.sizeX)):(r.sizeCurveX=new of,r.sizeCurveY=new of,r.sizeCurveZ=new of),r}return A(n,[{key:"update",value:function(e,t){g(l(n.prototype),"update",this).call(this,e,t);var r=t.currentTime/t.lifeTime,i=this.sizeCurveX.getRandomValue(r),a=this.sizeCurveY.getRandomValue(r),A=this.sizeCurveZ.getRandomValue(r);t.setScaleXYZ(t.scale.x*i,t.scale.y*a,t.scale.z*A)}}]),n}(Kp),bf=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this)).render=null,r.camera=null,r.initParticleData(e),r}return A(n,[{key:"initParticleData",value:function(e){this.mainModule=new hf(e.main),this.emissionModule=new sf(e.emission),this.shapeModule=new lf(e.shape),this.statusModules=[this.mainModule],null!=e.velocityLifeTime&&(this.velocityLifetimeModule=new mf(e.velocityLifeTime),this.velocityLifetimeModule.isActive=!0,this.statusModules.push(this.velocityLifetimeModule)),null!=e.limitVelocityLifeTime&&(this.limitVelocityLifeTimeModule=new Bf(e.limitVelocityLifeTime),this.limitVelocityLifeTimeModule.isActive=!0,this.statusModules.push(this.limitVelocityLifeTimeModule)),null!=e.forceLifeTime&&(this.forceLifeTimeModule=new vf(e.forceLifeTime),this.forceLifeTimeModule.isActive=!0,this.statusModules.push(this.forceLifeTimeModule)),null!=e.colorLifeTime&&(this.colorLifeTimeModule=new gf(e.colorLifeTime),this.colorLifeTimeModule.isActive=!0,this.statusModules.push(this.colorLifeTimeModule)),null!=e.sizeLifeTime&&(this.sizeLifeTimeModule=new xf(e.sizeLifeTime),this.sizeLifeTimeModule.isActive=!0,this.statusModules.push(this.sizeLifeTimeModule)),null!=e.rotationLifeTime&&(this.rotationLifeTimeModule=new yf(e.rotationLifeTime),this.rotationLifeTimeModule.isActive=!0,this.statusModules.push(this.rotationLifeTimeModule)),null!=e.texSheetAnimation&&(this.texSheetAnimationModule=new wf(e.texSheetAnimation),this.texSheetAnimationModule.isActive=!0,this.statusModules.push(this.texSheetAnimationModule)),this.clock=new Jl,this.totalParticleCount=this.mainModule.duration*this.emissionModule.secondParticle,this.totalParticleCount>this.mainModule.maxParticles&&(this.totalParticleCount=this.mainModule.maxParticles),this.render=new ff(this.totalParticleCount,e.render),this.add(this.render.mesh),this.itemPool=[],this.activeItemArray=[],this.removeItemArray=[],this.totalTime=0}},{key:"init",value:function(e){this.camera=e;for(var t=0;t<this.totalParticleCount;t++){var n=new pf(this);n.index=t,n.initRender(this.render,this.camera),n.setActive(!1),this.itemPool.push(n)}}},{key:"onBeforeRender",value:function(e,t,n){this.activeItemArray.map((function(e){e.setCamera(n)}))}},{key:"getItemByPool",value:function(){return this.itemPool.length>0?this.itemPool.pop():null}},{key:"pushItemToPool",value:function(e){this.itemPool.push(e)}},{key:"setDensity",value:function(e){this.emissionModule.setDensity(e);var t=this.mainModule.duration*this.emissionModule.secondParticle;if(t>this.mainModule.maxParticles&&(t=this.mainModule.maxParticles),t>this.totalParticleCount){for(var n=this.totalParticleCount;n<t;n++){var r=new pf(this);r.index=n,r.initRender(this.render,this.camera),r.setActive(!1),this.itemPool.push(r)}this.totalParticleCount=t}}},{key:"update",value:function(){var e=this.clock.getDelta();this.emissionModule.update(e,null);var t=this.emissionModule.createParticleCount;if(t>0)for(var n=0;n<t;n++){var r=this.getItemByPool();if(null==r)break;this.shapeModule.update(e,null),r.setStartPosition(this.shapeModule.startPosition.clone()),r.moveDirection=this.shapeModule.moveDirection.clone(),r.setActive(!0);for(var i=0;i<this.statusModules.length;i++)this.statusModules[i].isActive&&(this.statusModules[i].initParticleItem(r),this.statusModules[i].reset());this.activeItemArray.push(r),this.shapeModule.reset()}this.emissionModule.reset();for(var a=0;a<this.activeItemArray.length;a++){for(var A=this.activeItemArray[a],o=0;o<this.statusModules.length;o++)this.statusModules[o].isActive&&(this.statusModules[o].update(e,A),this.statusModules[o].reset());A.update(e),A.active||(this.removeItemArray.push(a),this.pushItemToPool(A))}for(var s=0;s<this.removeItemArray.length;s++)this.activeItemArray.splice(this.removeItemArray[s]-s,1);this.removeItemArray.splice(0,this.removeItemArray.length)}}]),n}(Ut),Cf=function(){function e(){i(this,e)}return A(e,null,[{key:"pushItem",value:function(e){this.pItems.push(e)}},{key:"removeItem",value:function(t){for(var n=0;n<this.pItems.length;n++)e.pItems[n]==t&&e.pItems.unshift(t)}},{key:"update",value:function(){for(var e=0;e<this.pItems.length;e++)this.pItems[e].update()}}]),e}();Cf.pItems=[];var Mf={nodes:[{id:0,parentId:-1,name:"Fire_Smoke",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1]},{id:1,parentId:0,name:"Fire_Smoke",localPosition:[0,0,0],rotation:[270,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:3,min:2,max:3},startSpeed:{mode:3,min:0,max:0},startSize:{mode:3,min:5,max:35},startRotation:{mode:3,min:0,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:1,g:1,b:1,a:.219607845}},gravity:{mode:0,min:0,max:0}},emission:{rateOverTime:{mode:0,min:0,max:100}},shape:{shapeMode:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}},velocityLifeTime:{linearX:{mode:3,min:0,max:0},linearY:{mode:3,min:0,max:0},linearZ:{mode:3,min:15,max:10}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[0,.314702064,.417639434,.497062624,1],colors:[{r:1,g:.8980392,b:.831372559,a:1},{r:1,g:.7607843,b:.5372549,a:1},{r:.9137255,g:.623529434,b:.4392157,a:1},{r:.7176471,g:.5176471,b:.4627451,a:1},{r:.192156866,g:.192156866,b:.192156866,a:1}],alphaLocation:[0,.0441138335,.323537052,.7058824,.855878532,1],alphas:[.305882365,1,.8862745,.9529412,.843137264,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.25,.3,.350000024,.400000036,.418660671,.468660682,.518660665,.5686607,.6186607,.6686607,.7186607,.7686607,.818660736,.868660748,.91866076,.9686608,1],values:[.2159091,.285781056,.359360576,.434577644,.5093622,.5816443,.6493538,.7104207,.762774944,.779661953,.8188196,.8507291,.8764641,.8970983,.91370517,.9273583,.939131439,.9500981,.961331844,.9739063,.988895059,1]}}},texSheetAnimation:{tileX:8,tileY:8,animationMode:0,rowMode:1,row:0,timeMode:0,frameOverTime:{mode:1,min:0,max:0,maxCurve:{times:[0,1],values:[0,1]}},startFrame:{mode:0,min:0,max:0},cycles:1},render:{renderMode:0,lengthScale:-.8,texName:"data:image/png;base64,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",matColor:{r:1,g:1,b:1,a:1},vertexShaderName:"normal_legacy_vertex",fragmentShaderName:"normal_legacy_fragment",blendSrc:"SrcAlpha",blendDst:"OneMinusSrcAlpha"}}]},Ef={nodes:[{id:0,parentId:-1,name:"Rain",localPosition:[0,81.6,0],rotation:[0,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:0,min:0,max:5},startSpeed:{mode:0,min:0,max:0},startSize:{mode:3,min:.5,max:1},startRotation:{mode:0,min:0,max:0},startColor:{m_mode:2,minColor:{r:1,g:1,b:1,a:.65882355},maxColor:{r:.8584906,g:.8584906,b:.8584906,a:.68235296}},gravity:{mode:3,min:3,max:6}},emission:{rateOverTime:{mode:0,min:0,max:200}},shape:{shapeMode:5,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:50,y:10,z:50}},velocityLifeTime:{linearX:{mode:0,min:0,max:1},linearY:{mode:0,min:0,max:-60},linearZ:{mode:0,min:0,max:0}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[0,1],colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],alphaLocation:[0,.314702064,1],alphas:[0,.929411769,.5019608]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,1],values:[0,1]}}},render:{renderMode:1,lengthScale:8,texName:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcefv99Xk9fL2+vL1+vf5/Pf6/fr8/e3z+ff6/Pj6/fb5/HKf1Nrl8fj5++/0+t7n8/b4+/f6/MXc9f////7+/zJK5OYAAAAUdFJOUwBZHIKS4sH+c+jZ1Acy9WlLo6sPMZpK9wAAAKhJREFUOMuVk9sSgyAMRFGBoCC9Jf//q61t0YnAdrqvObOuS2KM1mM1WMH+AJYZz0eWEQJWBH+DmAlG5JcGbMDs+vMLv3XtAvkDRJgAWVABOmVZ3hVa80QHIO0SD4AnlGATdTsoquu8q7nc6kXQDguO0ArBJ/3vMGugfnOvAV8Bk6jfrKtctUPjfhyOYMyAm95i7inENxcm5QLk1Lm7bxeuf30hEkW9b0/Z7BfgolafUQAAAABJRU5ErkJggg==",vertexShaderName:"normal_vertex",fragmentShaderName:"normal_fragment",blendSrc:"SrcAlpha",blendDst:"One"}}]},If={nodes:[{id:0,parentId:-1,name:"snow",localPosition:[.8075409,40,16.9335175],rotation:[0,0,0],scale:[1,1,1],main:{duration:10,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:0,min:0,max:10},startSpeed:{mode:0,min:0,max:0},startSize:{mode:3,min:.5,max:1},startRotation:{mode:3,min:0,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:.870588243,g:.9382724,b:.992156863,a:.4392157}},gravity:{mode:3,min:.3,max:.5}},emission:{rateOverTime:{mode:0,min:0,max:100}},shape:{shapeMode:5,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:50,y:50,z:50}},velocityLifeTime:{linearX:{mode:3,min:10,max:-10},linearY:{mode:3,min:0,max:0},linearZ:{mode:3,min:10,max:-10}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[.0882429257,1],colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],alphaLocation:[0,.126466781,.8294194,1],alphas:[0,1,1,0]}}},rotationLifeTime:{rz:{mode:0,min:0,max:45}},render:{renderMode:0,lengthScale:2,texName:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAByUExURUxpcf///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4wLXbUAAAAmdFJOUwCHSMjp2+4EsgKQ5KEkfsIQcyyZqWu70Bv71hVaNPcJ8kBS4GI6NWpSxQAAB2hJREFUWMPlV+mO2zwS/HjJNEWJonhpKNLW+f6vuCVnsTPOJECC3X8rBElsmM3q6urq1j///H8999vtdv8vTt9vwzQ8/zoCbr1d/w7j1FE6T/NfhcDhAUcQ4Tafx7FVfLrd/zzCs+umlXbzNAzjWkN/rLV7/hvRH90/jCWUdUKAqa7WHtaqUrv59sf3r2vp7XaO84z8o+9JKOO6rfNva3H7hIf/TbT0pFeK9LR2U5HK2lrH86y/4fGTsNftYy3Bxiy9Osq6bfR6tjHEqI7u9mvAY0e3i7DbK/ujD8XGJF2gtJ44XGuwhaTW0XH6BYTriN3qPAPf/TnStRBClNbOEReNC+u6Uums89Ke3XD/VkoQdm69pec43J7P+UT2lvjUShmdNkIeY9edUoORvi/dE897hPswnihz6FW/VkrX4EzyikgRsyCH9a5001Rt70kgTiOb8V3T92GeVm1UH+hYg/JaRxa1Cr0j0hDnHQnd3I2ryh4AynoQ271rGrBX56xdO4B3rBVGAqtVbE9RRcECnYdhqCpCTaAXF03dm6bvQ1dxA63FtGJvm6bdmdbEMc6lczKW8fkcOloq3Y5DcuH79V3TCEDXsVgaDN+Xj6ZZ+C6EJCovzPU9AYd1pITQgjQB0JFvmr53K3V+oySKx8djafYsdpG833PUFkqoFEIORSUESEb3pf6kafA4H8oewbWPj4+FZ4AQe0oRP5dooz646IJVkjjjlEa9a33X9HMYuvOkQTacP7jICMOFaHibpdbeRxHBBfPE9rZsBZqWfZnecnjO01jPQ+8tbhc7Ajw46ORMGoanaY0x3vbabWs4qmXJnsOXFG6359ydtFgn00XjsiBCm0QjDNsXROJZiCS10+jpSGq1GqX5RPAca7cFum6Eycibx4Nz0Sz7LvIF4vHRAE0LDAtPLhyebLVbty8B0PtofUvr5hICJMHbPTPGQeTjsbQfSAdoeMq81UfZwnZWuNRnBui+Q0l9sdN7r43M4E+w3DzazJdlB6Imxwactsl4cmxoyOeXjrxPOO+lxx9HiJfai8eSc+YXAtGgHBxc4rtlaZUR5ljhCLevrdStge3GRHBkcL0xAL4LELc8Fo4AC/S94zznDE3uKe7/aov3eaoECSYPC0kCobzhvOWXIgFd8OY6CjR8373aKDrp3Q3uz2ntWY6SwLC4iEY7lhiSv6SwtK1oIcwWVCRmVFinrv5sy8NplZYGUoMGDWxY82UHhAUBEOSDNyIyARAwia2O3cs2vyKYa9FRX0nwR6uJ6hXoXprXYfwFTaA1kUmTtSvlKOPw5keXHdGY486ZZu0er1T8lcHHdR73wh3yLgximN5aomydpq8iftmR9spAQmgaCTNyUoKNZvlYhICmHy1DcbxyWmmWJPSGKr6XEe1+oE+XJRsoQXtpWr7nHeVbLhBCOy92hiqLpYXZhQpHfAtA6RkIiaBJbbBmwyTaqN0fTfPxaJJBF+u0M6YJvpWaHCs9pzcloDO07C2RvrdxhwSZiS2UsKCsMJWUPVE+Jo24mcW+0O3yxDce5+BUv1npCdDDA2JshWgFY1JKx0TE0EC35CzB8aElLPFNTC87orZXWSrYuIhaOgP6d8OXRqQMc1fwO7Sqgh/Ya1S9B7g/h7mDZ5OLKJl3H6MzOxTMoMKE1k4QOuYE6Xs0HPKQ2/SuRnh8B5/1zF+1lLI1OqMZdskY1AVH2tP1tep1YtcFhE63b+N57orMDD8ivduzuRyJoaIvO1kEAwipozCuB9/l/L7o3OY1EA2z7SO8KEezc3MpCopEX6Orlx2fBfOYmWTruuEbhIkGBcvXKEPbZCZgKQz9AS0KUHl57KsmWDpIWDu09M8TfqohJsYc8ZlDRQ2kHbOJjO/81VdLC4tLDDuHI3Z9V/O1yWJ6BsRnpAQvctqxXPjeOYgnAQB42BEoxYihS5TrLwxfA8y1q9aikMrCVnJOLLKGm9RCh0mIzD8eIkZMBswo3hpXsDZ1X6SATdZaDM/NgiIGC4cDJCgyYZRLiDJiWCSN0uYY085xHqPx01nvQ6U1YOTY4GU4izb73iJAjliqlPYorvOMkd4nHu1BZB881r1PMd6wyRKLxcpbovutbgohmETqoAwOJ7UiONJvq4VbFKwoViZN/yPGG1bZjUnsEVstWF9oCRjSWea29agrLE5rdfSkYGMFyKDhjIfqP731jv2lQOoW832ldJo7enjOUK5IMAiNIiTAzbGBYVfDwm7VcaJzvogRW2adcLazmTkLzzy3DcK3ISIMlmxbziv0CSu8jeN00rN2cIAvs3WusGsbqjXZ1uF5zUrseH3ROdmCNffcQFrASvNCO3Wv0fSmxFtdqSFIUWHq3/95YlMnLGALcNh/t7CWi7SXCeHN6/mTK//AMEwEm9PcbVh2L11PRVvs3iuyx0o0li+kAcX39x54EhZYaOPH3Lyae63jOOOt5xek/eptAZ40TrdPaWDcAMvtFfkbab95Ley+TH2kOnTXGndF/gVpv4nx9psfn39D2t+9tP6KtP/V8y8l0LzlAIvWOwAAAABJRU5ErkJggg==",vertexShaderName:"normal_vertex",fragmentShaderName:"normal_fragment",blendSrc:"SrcAlpha",blendDst:"One"}}]},Tf={nodes:[{id:0,parentId:-1,name:"WaterSpray",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:0,min:0,max:1.7},startSpeed:{mode:0,min:0,max:0},startSize:{mode:0,min:0,max:4},startRotation:{mode:3,min:0,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:1,g:1,b:1,a:1}},gravity:{mode:0,min:0,max:1}},emission:{rateOverTime:{mode:0,min:0,max:20}},shape:{shapeMode:5,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:.5,y:.5,z:.5}},velocityLifeTime:{linearX:{mode:0,min:0,max:12},linearY:{mode:0,min:0,max:1},linearZ:{mode:0,min:0,max:1}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[0,1],colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],alphaLocation:[0,.23823911,.4735332,1],alphas:[0,1,1,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.25,.3,.350000024,.400000036,.450000048,.50000006,.5500001,.6000001,.6500001,.7000001,.7500001,.800000131,.850000143,.900000155,.950000167,1],values:[0,.0751110539,.149811536,.223729327,.2964923,.367728353,.437065363,.504131258,.568553865,.629961133,.687980831,.7422409,.7923693,.8379938,.8787424,.914242864,.944123149,.9680111,.9855346,.9963217,1]}}},render:{renderMode:0,lengthScale:2,texName:"data:image/png;base64,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",vertexShaderName:"normal_vertex",fragmentShaderName:"normal_fragment",blendSrc:"SrcAlpha",blendDst:"One"}},{id:1,parentId:0,name:"shui02",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:0,min:0,max:.5},startSpeed:{mode:0,min:0,max:0},startSize:{mode:0,min:0,max:1},startRotation:{mode:3,min:0,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:1,g:1,b:1,a:1}},gravity:{mode:0,min:0,max:1}},emission:{rateOverTime:{mode:0,min:0,max:50}},shape:{shapeMode:5,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:.5,y:.5,z:.5}},velocityLifeTime:{linearX:{mode:0,min:0,max:12},linearY:{mode:0,min:0,max:1},linearZ:{mode:0,min:0,max:1}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[0,1],colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],alphaLocation:[0,.5029374,1],alphas:[1,1,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.25,.3,.350000024,.400000036,.450000048,.50000006,.5500001,.6000001,.6500001,.7000001,.7500001,.800000131,.850000143,.900000155,.950000167,1],values:[.253846169,.327116847,.39655,.462154329,.5239385,.5819111,.636080742,.686456263,.7330462,.7758591,.814903855,.850189,.8817231,.909514964,.9335731,.9539063,.9705231,.9834323,.992642343,.998162031,1]}}},render:{renderMode:0,lengthScale:2,texName:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcf///////////////////////////////////////////////////////////////////////////////////zezJKIAAAAVdFJOUwDvNFrATyQCBAjJGhBCc7TogWWZ2sfShx8AAAgESURBVHja7VuHlqM6DAUbI4le4v//1SfZhtCSIcHs7DlvfbZMyVhXV11kkuTdgRySit6+JKn5ZYWB5J5T8e0/3M34wMBdAM5dDHAbgHPQbgXw51X7ew/Rr0rniKh+EwB7GdBv2wB+zyF/PRQI/r/k/zUI/obz+574624A/28CvgEBu88vsogG8exLQ0O3wU9XYgDAnAfQHDNwyQeJskwAwAkQ2CQYPwzKYIITiqgmKeN7bn1eKQbqYJYRxZd1+YkD7j6MQECJ50JO4Ss8V8ckpRLlpVU7patnplD1drqK5YXGWktHWkE5iRHZuryriJExll6kyDx4ivukTO44ThOjD5ktJz09+9l9Rdw86Mi3YIo+9AyUMwc5xTVCpt+FX9+LSJsks7MkxLbJY9bDN0GVJz2J/DwXABMCDAzET827KzFx8q1QkBtzX1cwCVZHbsb6W7uDGNUVccp0uMLx7FnIVkklBGCBCK6S5hCbAXxqh8uGw/2xwQU4KDCXsVbH7ycNatx1OCZpW5tYThHWmUEAiPY3AEBhAA2Zp5dPBrBCvmOACpcXACLvkFgyti7jOA0NgNo1foVLlKXvIHLxk4gIlMjFBh2AJstg06MRs18saxaJ31Y3MVBmQi86B5jk21V2cnUKIzDgewCxKrYtBgBNk7ENmGGXhBLO0zQMoS1wJGCez8utizse8WY+ZY/cHOLY5V1ilrkhrxzlo2taCna9RgJQKVB9aOavAIAS3GQA0PN1I7PQdU+nWL10HEcPgJ0z/IgjJYFL5QDCfAqizXRRwX/7RSrCOR+E4OP/1BSCUMGleuRuA8j6KQd2HsCeAg+ELVDCjCNGT8wxjb0YADNaZWD1/LB/IqDWeSGTMddFiJD/RL4HwHDq1Y3DOi8bRrCh8Ju+hFYLOuUBYEGn+v75VVr7ILrMgBdv0EX8W48axAZtUSwS1Nc1mb13+ijLiJwNxAgZreQtvJFFCv0FFYUvRIF8vBKBLhfwfE6d1pi5vjt7v0ohnQiALMtMrEoExKfrdLeXvWCjZU1bH6Kse5FJtWIOYvSkYByARQ48pAq9BaZkBGC8hfBaXyZJRZzKdkNHs4h3K5o0dERP77+SlAQ+GM4p1HFmb/fzGezCMk0xY4flaqkLHe74igTM/V6GVCj33UFV2zUcaUJplnHAsBsWfDC5+ngPlJMrHuCTXLHUWG9BpcQMOBN4ADXWCFoDfgNBh4GQ9UEOQ+591zm2nKbihXyJFm5KC5e+a6mhOrjB92Nhg4YBoA+z9ydNO+4YCjSFL2D1WOgLNSg4UeMYQOzMMquBX0uUG84kWtHIapMpqDFGGmAG2K358m5hAsBgVLWEkOrUN68iH3tukiYlrq2owhUprko0B4laFXt2v9QvSkK9oH5MfA37pP3ZmMHtHnQpfW/arAGUuJ6CszSlZJ4Noo3DSuQ/HqJfg88agOWAqlnZOEvjP1tAl4QcAezhzbQDUjkNbkxqmhel6bLgnPyih1xHzD7V89z5INJhShk1rQePdCoGbyIeyxMO4RIwPquodPlYFMbWDsDDA6hHrTeP9SkVFKnaA8BpwvgqBuVCY4rC2gUAzq8P/oTKdRXgv2UT+yGXTBjSjwYAFEyA9KAlBaK+O6pRcdcyxsjzEkS3frELP7N2AKhr8ZGMsUm3NCeCiBspMG4fkA4BwNRfyJbaevHwmL5DFA8ALZf/yJo5+cMq4uw4LgBIP5pSGj0RSBXANJiAVpnPht4vMEDOBI8I6QDyzRXcDRGJFG2XFBQ4fVcAuPVUSsUm+SNGqIgkomcXCM65WJJOR3xQNmTLMOgOAPCk8S0UHQie/3FrektiHEtSC8wGgDQSq6HzW9Gs/SDLSH972Mkt7C27+nRa4T1reeVNABeepSyId+sXfzE14TGtl81pCCBtk/WuHHLrvIfhdic6Yzq0zGR50ZmvyJcjyLId8QJo+TUcveOYL4cTby4fe2mqH7SeNd1354HDVc1NAKrJOQe3xQMQgwzD2aDQs9uTtHr0eDx28820/CBXhWE7s4xMgQSpTDQAA+TVss7+cPJF3OVcZjOTmcIt5heO/Cyx9Kpl5wyG5LaoGj8qye0y8PM091IYAuHWVYiHV30EIOcq5Zer2uLnzm/Xy99pR/hsRMivBRK/kqn3r83cJS1qaz8Pf/6hzdzn18ILEwSlyAM42F3kAUJ4jlJCWVJeXVoX0LjrPTM5eLgJojlJ24pzUYkEpK5VhpEOotUDOPA/cEmaxopPWV5QHN/13SZx+6gDBnL/OIvGgQ/Meevz6khvc0fmAODhMk7WWyNR9UKfjxd2wgA2SbOt91pX1WGZu/tdWJIXGr+Q0khJtN30Zu/VvP4eh59i59bhecJ2gRXlyTU1Wx7LhPRzL9pw/7xayd1Dtl/Ro1q4Xvh6nyj1qU54dku9BHAYm9hif4O68C4VzAy4GaHlr/cq+fPHNcUDYlu/VwO/ssERH/L0buGNorQp6jCZwOFwAReiwFc8cHK9R2ye+4xeSEBAHzJwVvUKRDq8ji4nvb3vTa8wy4XDImQcAW19/7tu970ca914glWP5xZ+dwXmy+IK0hDAXRkCf071n+/n8cffJtiZIo/6PqkNX3DMQF2voqC8z/G2FaHcsg4/zXsQ3/E2Y5m8W+IP5v9N2s/pZwBR30mH6mgBG+FiI08X8MTv0+A9xJosO83BLZWfstO984use9m25195zeLVb/+2TPXv17b+nX/n3/l3Vuc/HEpSE+zhftsAAAAASUVORK5CYII=",vertexShaderName:"normal_vertex",fragmentShaderName:"normal_fragment",blendSrc:"SrcAlpha",blendDst:"One"}}]},Sf={nodes:[{id:0,parentId:-1,name:"SmallFire",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1]},{id:1,parentId:0,name:"SmallFire",localPosition:[0,0,0],rotation:[270,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:3,min:1,max:2},startSpeed:{mode:3,min:-1,max:1},startSize:{mode:3,min:0,max:15},startRotation:{mode:3,min:180,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:1,g:.847058833,b:.7294118,a:.360784322}},gravity:{mode:0,min:0,max:0}},emission:{rateOverTime:{mode:0,min:0,max:75}},shape:{shapeMode:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}},velocityLifeTime:{linearX:{mode:3,min:0,max:0},linearY:{mode:3,min:0,max:0},linearZ:{mode:3,min:15,max:10}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[.114702068,.264698267,1],colors:[{r:1,g:1,b:1,a:1},{r:.6,g:.549019635,b:.466666669,a:1},{r:.796078444,g:.305882365,b:0,a:1}],alphaLocation:[0,.294117659,.4205844,.7058824,.8441138,1],alphas:[1,.8862745,1,.9529412,.843137264,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.200551927,.250551939,.300551951,.342321426,.392321438,.44232145,.492321461,.5420238,.560089767,.6100898,.6600898,.7100898,.7600898,.8100898,.860089839,.9084245,.9584245,1],values:[0,.0652164742,.329441279,.595537543,.6663684,.665323436,.5503927,.425050557,.3403294,.27294594,.22446236,.183398828,.138578773,.034826193,.0321929157,.03092101,.0305348318,.0305587333,.0305170622,.0299341753,.0284090918,.0117929261,0]}}},rotationLifeTime:{rz:{mode:3,min:-180,max:180}},texSheetAnimation:{tileX:8,tileY:8,animationMode:0,rowMode:1,row:0,timeMode:0,frameOverTime:{mode:1,min:0,max:0,maxCurve:{times:[0,1],values:[0,1]}},startFrame:{mode:0,min:0,max:0},cycles:1},render:{renderMode:0,lengthScale:-.13,texName:"data:image/png;base64,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",matColor:{r:1,g:1,b:1,a:1},vertexShaderName:"normal_vertex",fragmentShaderName:"normal_legacy_fragment",blendSrc:"SrcAlpha",blendDst:"One"}},{id:11,parentId:1,name:"glow",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:3,min:1,max:2},startSpeed:{mode:3,min:-1,max:1},startSize:{mode:3,min:10,max:30},startRotation:{mode:3,min:180,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:.06666667,g:.02745098,b:0,a:.192156866}},gravity:{mode:0,min:0,max:0}},emission:{rateOverTime:{mode:0,min:0,max:150}},shape:{shapeMode:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}},velocityLifeTime:{linearX:{mode:3,min:0,max:0},linearY:{mode:3,min:0,max:0},linearZ:{mode:3,min:15,max:10}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[.114702068,.264698267,1],colors:[{r:1,g:1,b:1,a:1},{r:.368627459,g:.3372549,b:.286274523,a:1},{r:.368627459,g:.141176477,b:0,a:1}],alphaLocation:[0,.294117659,.4205844,.7058824,.8441138,1],alphas:[1,.8862745,1,.9529412,.843137264,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.200551927,.250551939,.300551951,.350551963,.400551975,.450552,.500552,.5371929,.560089767,.6100898,.6600898,.7100898,.7600898,.8100898,.860089839,.9084245,.9584245,1],values:[0,.0652164742,.329441279,.595537543,.6663684,.665323436,.572160959,.486265123,.4074504,.335531384,.270322651,.211638719,.172669679,.034826193,.0321929157,.03092101,.0305348318,.0305587333,.0305170622,.0299341753,.0284090918,.0117929261,0]}}},rotationLifeTime:{rz:{mode:3,min:-180,max:180}},render:{renderMode:0,lengthScale:-.13,texName:"data:image/png;base64,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",matColor:{r:1,g:1,b:1,a:1},vertexShaderName:"normal_vertex",fragmentShaderName:"normal_legacy_fragment",blendSrc:"SrcAlpha",blendDst:"One"}}]},Ff={RAIN:Symbol("rain"),FLAME:Symbol("fire_smoke"),SNOW:Symbol("snow"),WATER_SPRAY:Symbol("water_spray"),CANDLE:Symbol("candle")};Object.freeze(Ff);var Uf=function(e){s(n,e);var t=f(n);function n(e){var r;if(i(this,n),(r=t.call(this)).rootNode=null,r.nodeArray=new Map,r.particleArray=[],r.camera=null,r.density=1,r.data=null,Cf.pushItem(d(r)),e)switch(e){case Ff.FLAME:r.onLoad(Mf);break;case Ff.CANDLE:r.onLoad(Sf);break;case Ff.RAIN:r.onLoad(Ef);break;case Ff.SNOW:r.onLoad(If);break;case Ff.WATER_SPRAY:r.onLoad(Tf)}return r}return A(n,[{key:"load",value:function(e){this.loadbyUrl(e)}},{key:"loadbyUrl",value:function(e){var t=this;(new Hs).load(e,(function(){t.onLoad(JSON.parse(t.data))}),null,null)}},{key:"onLoad",value:function(e){this.data=e,this.refreshLoad()}},{key:"refreshLoad",value:function(){if(null!=this.camera&&null!=this.data){for(var e=this.data,t=0;t<e.nodes.length;t++){var n=e.nodes[t],r=null;null==n.main?r=new Ut:((r=new bf(n)).init(this.camera),this.particleArray.push(r)),this.nodeArray.set(n.id,r),0==t&&(this.rootNode=r,this.add(this.rootNode));var i=new dt;i.makeTranslation(n.localPosition[0],n.localPosition[1],n.localPosition[2]);var a=new dt;a.makeScale(n.scale[0],n.scale[1],n.scale[2]),i.multiply(a);var A=new dt;A.makeRotationFromEuler(new gt(He.degToRad(n.rotation[0]),He.degToRad(n.rotation[1]),He.degToRad(n.rotation[2]))),i.multiply(A),r.applyMatrix4(i),r.name=n.name,n.parentId>=0&&this.nodeArray.get(n.parentId).add(r)}this.data=null}}},{key:"setDensity",value:function(e){this.density=e;for(var t=0;t<this.particleArray.length;t++)this.particleArray[t].setDensity(e)}},{key:"onBeforeRender",value:function(e,t,n){this.camera=n,this.refreshLoad()}},{key:"update",value:function(){for(var e=0;e<this.particleArray.length;e++)this.particleArray[e].update()}},{key:"destory",value:function(){Cf.removeItem(this),this.removeFromParent()}}]),n}(Ut),Lf=function(e){s(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,n),(e=t.call(this)).options=r,e.isEffect=!0,e.init(),e}return A(n,[{key:"init",value:function(){}},{key:"update",value:function(){}}]),n}(Ut),Rf=function(e,t){gr.call(this,e);var n=this,r=void 0!==(t=t||{}).textureWidth?t.textureWidth:512,i=void 0!==t.textureHeight?t.textureHeight:512,a=void 0!==t.clipBias?t.clipBias:0,A=void 0!==t.alpha?t.alpha:1,o=void 0!==t.time?t.time:0,s=void 0!==t.waterNormals?t.waterNormals:null,l=void 0!==t.sunDirection?t.sunDirection:new Ve(.70707,.70707,0),c=new bn(void 0!==t.sunColor?t.sunColor:16777215),u=new bn(void 0!==t.waterColor?t.waterColor:8355711),h=void 0!==t.size?t.size:1,d=void 0!==t.eye?t.eye:new Ve(0,0,0),p=void 0!==t.distortionScale?t.distortionScale:20,f=void 0!==t.side?t.side:0,g=void 0!==t.fog&&t.fog,m=new sn,v=new Ve,y=new Ve,w=new Ve,B=new dt,x=new Ve(0,0,-1),b=new rt,C=new Ve,M=new Ve,E=new rt,I=new dt,T=new Ur,S=new it(r,i,{minFilter:k,magFilter:k,format:Z,stencilBuffer:!1});He.isPowerOfTwo(r)&&He.isPowerOfTwo(i)||(S.texture.generateMipmaps=!1);var F={uniforms:Tr.merge([Nr.fog,Nr.lights,{normalSampler:{value:null},mirrorSampler:{value:null},alpha:{value:1},time:{value:0},size:{value:1},distortionScale:{value:20},textureMatrix:{value:new dt},sunColor:{value:new bn(8355711)},sunDirection:{value:new Ve(.70707,.70707,0)},eye:{value:new Ve},waterColor:{value:new bn(5592405)}}]),vertexShader:["uniform mat4 textureMatrix;","uniform float time;","varying vec4 mirrorCoord;","varying vec4 worldPosition;",_r.fog_pars_vertex,_r.shadowmap_pars_vertex,"void main() {","\tmirrorCoord = modelMatrix * vec4( position, 1.0 );","\tworldPosition = mirrorCoord.xyzw;","\tmirrorCoord = textureMatrix * mirrorCoord;","\tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",_r.fog_vertex,_r.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D mirrorSampler;","uniform float alpha;","uniform float time;","uniform float size;","uniform float distortionScale;","uniform sampler2D normalSampler;","uniform vec3 sunColor;","uniform vec3 sunDirection;","uniform vec3 eye;","uniform vec3 waterColor;","varying vec4 mirrorCoord;","varying vec4 worldPosition;","vec4 getNoise( vec2 uv ) {","\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);","\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );","\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );","\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );","\tvec4 noise = texture2D( normalSampler, uv0 ) +","\t\ttexture2D( normalSampler, uv1 ) +","\t\ttexture2D( normalSampler, uv2 ) +","\t\ttexture2D( normalSampler, uv3 );","\treturn noise * 0.5 - 1.0;","}","void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {","\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );","\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );","\tspecularColor += pow( direction, shiny ) * sunColor * spec;","\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;","}",_r.common,_r.packing,_r.bsdfs,_r.fog_pars_fragment,_r.lights_pars_begin,_r.shadowmap_pars_fragment,_r.shadowmask_pars_fragment,"void main() {","\tvec4 noise = getNoise( worldPosition.xz * size );","\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );","\tvec3 diffuseLight = vec3(0.0);","\tvec3 specularLight = vec3(0.0);","\tvec3 worldToEye = eye-worldPosition.xyz;","\tvec3 eyeDirection = normalize( worldToEye );","\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );","\tfloat distance = length(worldToEye);","\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;","\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );","\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );","\tfloat rf0 = 0.3;","\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );","\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;","\tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);","\tvec3 outgoingLight = albedo;","\tgl_FragColor = vec4( outgoingLight, alpha );",_r.tonemapping_fragment,_r.fog_fragment,"}"].join("\n")},U=new Sr({fragmentShader:F.fragmentShader,vertexShader:F.vertexShader,uniforms:Tr.clone(F.uniforms),transparent:!0,lights:!0,side:f,fog:g});U.uniforms.mirrorSampler.value=S.texture,U.uniforms.textureMatrix.value=I,U.uniforms.alpha.value=A,U.uniforms.time.value=o,U.uniforms.normalSampler.value=s,U.uniforms.sunColor.value=c,U.uniforms.waterColor.value=u,U.uniforms.size.value=h,U.uniforms.sunDirection.value=l,U.uniforms.distortionScale.value=p,U.uniforms.eye.value=d,n.material=U,n.onBeforeRender=function(e,t,r){y.setFromMatrixPosition(n.matrixWorld),w.setFromMatrixPosition(r.matrixWorld),B.extractRotation(n.matrixWorld),v.set(0,0,1),v.applyMatrix4(B),C.subVectors(y,w),C.reflect(v).negate(),C.add(y),B.extractRotation(r.matrixWorld),x.set(0,0,-1),x.applyMatrix4(B),x.add(w),M.subVectors(y,x),M.reflect(v).negate(),M.add(y),T.position.copy(C),T.up.set(0,1,0),T.up.applyMatrix4(B),T.up.reflect(v),T.lookAt(M),T.far=r.far,T.updateMatrixWorld(),T.projectionMatrix.copy(r.projectionMatrix),I.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),I.multiply(T.projectionMatrix),I.multiply(T.matrixWorldInverse),m.setFromNormalAndCoplanarPoint(v,y),m.applyMatrix4(T.matrixWorldInverse),b.set(m.normal.x,m.normal.y,m.normal.z,m.constant);var i=T.projectionMatrix;E.x=(Math.sign(b.x)+i.elements[8])/i.elements[0],E.y=(Math.sign(b.y)+i.elements[9])/i.elements[5],E.z=-1,E.w=(1+i.elements[10])/i.elements[14],b.multiplyScalar(2/b.dot(E)),i.elements[2]=b.x,i.elements[6]=b.y,i.elements[10]=b.z+1-a,i.elements[14]=b.w,d.setFromMatrixPosition(r.matrixWorld);var A=e.getRenderTarget(),o=e.vr.enabled,s=e.shadowMap.autoUpdate;n.visible=!1,e.vr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(S),e.clear(),e.render(t,T),n.visible=!0,e.vr.enabled=o,e.shadowMap.autoUpdate=s,e.setRenderTarget(A)}};(Rf.prototype=Object.create(gr.prototype)).constructor=Rf;var Pf="data:image/jpeg;base64,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A/gAAAAAAHAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAOEJJTQQAAAAAAAACAAA4QklNBAIAAAAAAAIAADhCSU0EMAAAAAAAAQEAOEJJTQQtAAAAAAAGAAEAAAANOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJAAAAAADhCSU0EHgAAAAAABAAAAAA4QklNBBoAAAAAA00AAAAGAAAAAAAAAAAAAAQAAAAEAAAAAAwAdwBhAHQAZQByAG4AbwByAG0AYQBsAHMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAQAAAAAAFJnaHRsb25nAAAEAAAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAAEAAAAAABSZ2h0bG9uZwAABAAAAAADdXJsVEVYVAAAAAEAAAAAAABudWxsVEVYVAAAAAEAAAAAAABNc2dlVEVYVAAAAAEAAAAAAAZhbHRUYWdURVhUAAAAAQAAAAAADmNlbGxUZXh0SXNIVE1MYm9vbAEAAAAIY2VsbFRleHRURVhUAAAAAQAAAAAACWhvcnpBbGlnbmVudW0AAAAPRVNsaWNlSG9yekFsaWduAAAAB2RlZmF1bHQAAAAJ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bS45OTggMjAxMC8wMS8xNTowMjowMDowMCBjdXRvZmY7IG0gYnJhbmNoXSkgIFdpbmRvd3MiIHhtcDpDcmVhdGVEYXRlPSIyMDEzLTEyLTAzVDIwOjQyOjEzKzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxMy0xMi0wNVQwMDo1NDowOSswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxMy0xMi0wNVQwMDo1NDowOSswMTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzYyMUNCMjQzQzVERTMxMUJDRjE5RDcwMEE5NDMwQUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzUyMUNCMjQzQzVERTMxMUJDRjE5RDcwMEE5NDMwQUIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDNTIxQ0IyNDNDNURFMzExQkNGMTlENzAwQTk0MzBBQiI+DQoJCQk8eG1wTU06SGlzdG9yeT4NCgkJCQk8cmRmOlNlcT4NCgkJCQkJPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6QzUyMUNCMjQzQzVERTMxMUJDRjE5RDcwMEE5NDMwQUIiIHN0RXZ0OndoZW49IjIwMTMtMTItMDNUMjA6NDI6MTMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDUzUgKDEyLjB4MjAxMDAxMTUgWzIwMTAwMTE1Lm0uOTk4IDIwMTAvMDEvMTU6MDI6MDA6MDAgY3V0b2ZmOyBtIGJyYW5jaF0pICBXaW5kb3dzIi8+DQoJCQkJCTxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gaW1hZ2UvcG5nIHRvIGltYWdlL2pwZWciLz4NCgkJCQkJPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOkM2MjFDQjI0M0M1REUzMTFCQ0YxOUQ3MDBBOTQzMEFCIiBzdEV2dDp3aGVuPSIyMDEzLTEyLTA1VDAwOjU0OjA5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ1M1ICgxMi4weDIwMTAwMTE1IFsyMDEwMDExNS5tLjk5OCAyMDEwLzAxLzE1OjAyOjAwOjAwIGN1dG9mZjsgbSBicmFuY2hdKSAgV2luZG93cyIgc3RFdnQ6Y2hhbmdlZD0iLyIvPg0KCQkJCTwvcmRmOlNlcT4NCgkJCTwveG1wTU06SGlzdG9yeT4NCgkJPC9yZGY6RGVzY3JpcHRpb24+DQoJPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0ndyc/Pv/iDFhJQ0NfUFJPRklMRQABAQAADEhMaW5vAhAAAG1udHJSR0IgWFlaIAfOAAIACQAGADEAAGFjc3BNU0ZUAAAAAElFQyBzUkdCAAAAAAAAAAAAAAABAAD21gABAAAAANMtSFAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEWNwcnQAAAFQAAAAM2Rlc2MAAAGEAAAAbHd0cHQAAAHwAAAAFGJrcHQAAAIEAAAAFHJYWVoAAAIYAAAAFGdYWVoAAAIsAAAAFGJYWVoAAAJAAAAAFGRtbmQAAAJUAAAAcGRtZGQAAALEAAAAiHZ1ZWQAAANMAAAAhnZpZXcAAAPUAAAAJGx1bWkAAAP4AAAAFG1lYXMAAAQMAAAAJHRlY2gAAAQwAAAADHJUUkMAAAQ8AAAIDGdUUkMAAAQ8AAAIDGJUUkMAAAQ8AAAIDHRleHQAAAAAQ29weXJpZ2h0IChj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",Df="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAIlUExURUxpcQcBAQEBAQ8CAAIBAQEBAAIBAQQBAQIBAQwCAAQBAQIBAQMBAQsBAQMBAQIBAQIBAREDAAMBAQMBAQMBAQMBAQIBAAMBAQQBARQDAQQBAQQBAQMBAQIBAQUBAQMBAAUBAQMBAQMBAQIBAAQBAAMBAQQBAQQBAaITAJcRAAMBAYAOAD0HAN+dM92LGk0IAOCpUFsKAN+XI+GkP9RpBC4FAGkMANuDDsxSAth3Dh8EAdyRGrswANd9C3UNAJEQANuIDtRxBiEEAGAKAM9lBD4HAC4GANyRMEsJAKYVAK4rARoDADQFALgfAM5eBn8PAIYhAtiIGrwnAFALABQDAHIdAl0VAcpIAxwDAMUyAFARAdNqDcpWA3QYAWcMANZ+J8pEAdh5CCcEAJUSAJAfAV4OACYEALw1AEwOAKAZAN6bRqkaAEkHAD4HAMM/AEkKAb0vAdZrBdJYArUlAGMLAMtKAK4iAJkVANmPLc9bBawZAHMNAH0PADsGAIAQAFoNALpbDpkXAJ87BtN+GLQ+AbZEBI8oA59ODJ1ACMJyH7t5N82RSawfAAIBAdpzArYdAL4kAK0YAOWtROvTrdRZAOrPoeOiKs5IAOi5ZOa7bunGi9JQAOnDgcMuAMw/ANx8A9ZhAdlrAeGWFeWoNee1WIwPAOCOC8k1AN+EBOOdHsQ+AOrAduaxTxICAHUNAO3YuezLleCwYebIl+O8e6EfALJdE3xOIIjlmqAAAACNdFJOUwADaA9zhXoBgwfobt8K12N/G75WxvFczrQVq6M/MCJRmymUOEX5j0v//or+/v3+/v7+/v7+/v7+/v7l9f7l7u3w2v/s0O3z/dzu/u7g8f7gZ+rk8PZbQfbY7jX3w07b/uTyutx0I86rLIf808CpvZDS5+68xtGcwu3e46zEzJR1r6qC25f+/pX5yv3yPMed12oAACAASURBVHja5FjtcuM2EjQAiiQKxQNhpHCGhA9BQAlVev8HTA8l79qO5LXvkh9JuOVd19ogOT093T16evrsYnJh09Pf9mLGPLGnf/jF3l7T9KZdX+jc9I8G4OlfCAD7FwIw/dsZMP0fDJimv2GxfyIA058LwPQe1ulTqk1bJd+xWLytFCZ5JuT/CMAf6/0TAZjuXG9/9oB8X+4BE954Y0ot0vjpyyI4bT8WQrIFp43xy18VC64l33ToIwKPkf4VAEzK7Y0nEUJtObYcvDDyMwB+4i4XkbwJxVhXk9Va55ZzlH8hANdXYG8BmNhdAKZfAiC9WBZpYjWSIY+W1q0eh3EdrEmJPRwB9go8E6ZkPWg+DmpcR46vYVBKOfNdDjDJqDQpp68B8BaC7f0Web3uDfxDAFjK0aRYam6lGJNK1cM4z7vdPIbQ/GMAbhR8Ep0P6ziibjo2r+s6rPM8r6M14lskYKYk730qSbAvAvBzDqiTJrQSa6y9eLm83yym6QEAzMvosknOad5aCCVVt5WP+i10QLzpBrsLAEt8nUdUrbQi2AZgQefxnf7eGMiqBhtqbaGITw1qmu68CIY3Op0d13p0FY1MXrL3unkXgLKU7FIA5edVcZebu73+moX0CYOxTI8YQE+WouHASqcHOkkMmHcXusM8j/o7CMjCMUE5W8jP9NVA+gYCAMCd5dxxlWspwNGTsN1RyrcPNcLEkKremo63BxC77ZqdWSCFSlcxPQaALSmDMdvpHyfPx8PpsoExfAcBGZWymjutg6BnTd8DYDHV2WytzVrbYLzVrhELXoeE3Z2rhaZO+OrW28vj63zBhfa5rNHVlTf5EIDFi9I1xG9+e/xw2B+O2xAMowICj/H/0IwaqlMwkV4WOOkDJWD3EZCmBNtrt5gCFyAlDVyoScCZX0Xj3jyZHpNh0nS1XgcfQLzs94fTRmG6diu/ecGHR0JtRakVz9Qap7fju/VyPBx/ez4+7y8XYtQ8K7O1gH0lgaDoCgq4VlKLqXj2dQDYYmLmPcUMAHpafO9OAwBDknpr3T0AfIxASC6+qt35vFtpjvf/fT6crrTemK3y1dA+PDCWGLJ2LpQA37j98jgfzqeX4wU32O0OGwva8ujpf7RBsZjucqgl9BDBg3vHHgEgInR8Ea1nm2Dq2sLPA14ypYU9BAAc9qgfM6A3BRuVHnfHF4zw7gYA+Zmy4uOTQbhsu1VKtxThg/NNBxS+veG2u0rhgIn+IgATNEumAmARxmoNSSx3IgF7dPlgoxQ4HMEDPuhWs+uhEpPuAsBw8wXWT2Lfh5v1OYSg17qvdUAVRyfea4DEuJrYYhtGXpGcsrrRZeXX83R8Pm5ztCqdfg0AQ3KW3qBXgugIEQcIyS93AvVDAJAjgkEQKKmEzEduQ4AkhhqTvA8AWadB9vG+ND4M85napfm61T1sprajdANv2mbgZ/1ISxVHo4XM92YDUWClc3BStd7kbz0dgCgSAo/yVwDIhN8xcWEAAQ6AaCrgwIio8osASIkUaDDQQC4lyJIatK0hQ08wBuLjFEq6MwkTxBYquWCYnRrIAxFjwH5QWW0IoCyy87ETAj8YIEIN0YvU9IjUH/CI7sgvZsKLqH88wBiG9UI8IA0hM/oUANxRMgwrBhkoPIENEksZm76mAai+1Ggq4mwtnjDoSBTKQQRsR7YDk94DwFKttK8R4KgfgGF3gfpCy29ePmMZoCZSqCE7GMgKf/Q/WAftMxHD72x3NtDMacw/oXWECT4/71YiwRYqwKYuPgeAyVIk88k0qLbctoFv5ADpvek9xtxQbjQ0AUFDnTruVz0xw8Dp3/QAXIPItmAEFDBR+NU95946x/ufzq/aN1AF8xbo1pVU4Pa4qBFVtELsTuS6VmU4j3YUYADg5eXlGSay25+HW6gCiqp8AgClKYzAgkTWGjq5IJ4Wgc4s8jEAtPG81r9gk3HOIrVZSD4KgvT3WiAoGIpNHVML1fx8BdFti7GmRfoiaPFvDnqJAKXGcaA0uLFgJRKQAmIu1MALuwGwQPpx4X/g1KFZPXCcA+G6xVI0jJfT88vhcnk+zCcahyuS7eMsb40TVAb+wfcV+V8U20spbPIZpMLNYYPTfQ1AQ18RwBSHjvDnCo6bRN4RIcuBKI5RxyDhETDF+ENPmUG3W6QRMJVSINoYrHKUwQaI2HAlLoDAiquwJFF9Y2A3DVgsrcrqfMlYWxq5BsV/rDHYIjgQVMP5PM/75+NxP9OGCAiHVb9LdTRGKZkKfSa581KApb2Y2LGYonGCDNygnuivs8Pen0ZiwjGxbb+etr/WEPpMtLVYcDEFkqVUbYUqNkNIeUdm/Cq4hXIG9qUkQJcQstU2c967to5z/AUFxTBDA3iGhOD+RAsrXwHIKJfEHQdcVy7PxJJx0OpywgiACxwgnl9O5wsWxEwrEq7yRoFE8tj4mqmtYNinpSSzpOTI+uljlVBMxzCjAE2RlnYxuUzv4DOLQMDDxgcG41hvlatOa4BW+NomAS7KO4k7yA4mBNtecyVCUs7gifAm5YD0hL5zrXQAE7BLYgGw1HRscnA4vEfycPt1dMsNgGLnM9xuPAzQTc0v+/EyEli7l8Nm/0BgGI5HxEqE0RbclozWIH86HtY0tA3QojsIPxB+UZqFqCR0C4EWHcEeQ8ZEYX7Zan4HAAWFGGoOwUsfEchqUwC7RloFgZpD7zvAULlBF1zDwoJKbp/PkAIGiE2kT61gk3wYTydUwHutAMASCPgzzMOVDLz5DlhVvjHAE0Ggb+fTCt88HJ6P43g4rVzB/OZbbjrv95DC/Yoc1rjlmJAxvjJgKR28MpTWkCXkEzbOVis0jDIliYKoTdNa3hBJkKG2pR4765vP37xpyDe9weOhlEH3mirPDedxExhTQxkZ1INOhUYjAcdGHLoxYMHgppAVJh4QK3L//ZleEQe75sQiXCAxtM05hHze6aMSV28ARO52lwtUbgRIh8Nvz+t5/5/fThgapRB9IJ3rejyeTofDYei4wXxR0Aj1+tkaKx2Uy56ybkhbgof8OvzB7oKhB63hZx2ajN5gNDGmZMA/P5tjYos3FPS1NWBA59j7jQt4MawmONZ/58ncdRxXjjDsIZsciaR4V7PFi9hqcZow4WQDJxvYgAEvDOxk5wQbOdhgozPY5GTGwk/gR/E7+itq1sIEI0giu6v/+i/FcVXCXhRAcdmVMp+uY/U+Znq60l9r4axgRjexP+jUB4EsW6U6AHTSwvt/SoKpFIMVL/PPAlxXvfW+Hw5xwEGT+qIhT5J22MrUe2uFBKmL3TasmMJfpgHZuFQ/54NHXCoO/brgWtja02Va9xFAIHNUGlBmUqPsXl7znmVAxWl6LwChVxxLs8LA63y7XAmkKdw3zSqlTZdbOKapMBqULo2pZCwHU47LrXoI0ZHb0OH1sCm+36SBxbIJ+7P/hh/LNJP6aTEBGOO9JKjErMfTQwZxQYHtamfauLRd14L188s5r8sD9Wh7bhq5vo+EChXXPjj4kJtV1TuAT9cG9QAb0MAFAryzGaiSAkw3OVn5VO8oTGf8Giwsr/t7AU6jTvky+F9WkY3bKRxViqoVME3ZLBUkKvgVTZPhbHon7Ip1u1/Dd9VEuIPNWE/rTpIAjGetkgB0Ma+BbFrQH4kWYmIpRLDCVmuxXPahwnGCNfos6+vcqrTOuzY/v1AACyv0dTYAJMzQsMthGksxVbR5TwHeIXCamnm9T6kms1ThFSfJ8TWcGOhnbQ2mVJof6BRLhcOEDJt5uhwf4+2LeDC45U7MGU+kEdmDnFEgLlQtFfiHwUTMCrXbl4lIhehN1+r4cI0jTW7jIojTGag1sWlNFCx3HUtPSSFicbBO0nApUiBxSmL/eHmIQJVaW5/ztjN09uaGusvP56yDRoa8zrDAtt6sszIcVRHX8pGn4vqnCIN5djjPUYlpWYmRqa6u9Mra0BMyy4IR192RFQutHZLVVj1jEx9D/yv7ikutuEa5nFCDRp5CpELW4ltjzj7Q0niFaDrVWibaCMTBLeKqjpc5LnTqrPKqITKugXd9Pdh0bLAyJXy6wNnie5yXDFTGHBZGAGjew4cFW8vBZpnpslb2dnB9a/Isr7eSANDmnXd5VxuDOgwShTZntpJm0MGjANKPsiUIVpRQlrpe7rGMQmfiuxwcotaIodJYQzTh6TTp+VY9WuD5pr1hl0HDIc4ndqXXWblN71DbPRzQE5fC6gM0CEoUj79O4YgRej7e9cDPD3ZzEbyG+7NDZNsu7wY6vjwUt9uC6MMHh94ddi/c3CVcclRjSP9OR/XVDe2Xr67/8uMt3rbSmeycZJ3tTWaGrqt70+U5pTBdK65gC4RTUoUz2x9dEMtusJzAFrAvDWvWS3E4cIbNbRVPUuziQxsD++fd9l3uYhuf3l08S9LLPe3rXlY7AaZC6iEF2J9OxDsSSgQZb1gtUGvTzPcqnGS8dClsLwoGi/tCU+jUDnHUJkmSGSmarpaiYdvibKglsArWZRzJe6QHQUAYGwMDtIP5619+/207DK7r8uycs/e869HEgX9auqKrs8wLJPFnIkjTVB53ABClueQsEhqMd8lQu/UWH3JFgMSCCHlTINiLnBRW+/hlfPgAXPw8B3qaKEBdjkUTxcUqXcDxi3eJ90HE/lynDJopxGNh+7BFV7w2HBCWtfMo1ODY+F0yvN98XAPhrBvE+8tjrZiDjTYCseARJYJu9IqTAgFPN+H5OmtN/48v7Na3ed5bk3dZcu7arDfwP1fjBTcmFg4MEDQR3Ity616AEwIGVXFiQi8ap1bsByff5Iuih/sRInWQTvi0B6Y/XIgy+9j4glmBvBatvAtW7ayPlwkfuCmxcCiw31O8TGRmgsaRvDs2I5p7uV6PT89TatqWvnWuzvsldkVpyTVbXvM+syR52dTG55GztYWtZaAAORb3ahEEhIXJhr5NurbOOkBo2q7t1cD2zy+/fkwk/5iWdwkUkSfO75YKTAdpuFSTdEB1o6bTDeqBJkg8woj0rJKtC/PLJtTuvNNAbII86+QP8ZZHJcewIn4XRB819Bat6lmqIoRFm4KmxJdbtc/oyS4kKfIwCfOOCuCQRAab4mAc1dp8DuZbEztRqzrDFfVJXrP2pOs6s0Xe2XZIZTAr+JrvwbQbId24DMo7Z9Bd2w/S76bn0JPPyct///ypk7MHTS+56c5Z3oNssVH4Dn95+FBEiCMel7S0hGSqOy9BsWoRLCHwVLh8H0OARXWvTv93f01zpQAyMAIj6yFVgy3T1OM5N+THuhhB48pgWwog6azAURF1EcrbZQlmScNPpzWNgMc2B2WWtLpv6xoTUKRtrIP4a+vLOkPRXBR5A9SVJKU9X62gaGQHT2Xh8zqB9aANqK4FNwDCHszrl89/+/Brcv4Pr5cznJAlWW5Mb6yYMa1sEV7ee1inel3TsoS6UCpuv9xG0Uv6wB+2vQWVVC2O6eH3B/YI2RTuhYAEC13U3NWA8s2bulRx5OthXlYV4E1dXO5Jtozv4UnmqyFBcy2bVAajaOCAiut/KwVNKzA8bFGpG1Mqn37n5iY/9/JEx3V5Het14oc49EWpubkSSJ+u8ZD3bdt3r5+S/bCTDFL1w+tb+fu3V96+UABDYXxLAVQ9dHXrgHUwxg8WPwrxjMus8J1iOMV4rrCMxSxzCh4PHZUoD+ZYyVh7xw3xoXofjl5uQhIxa6ALveOgymIfv3a9/EI5HHkEy9EFh0ZmyjJlriodz6OMhsKlsFG8+eGPr+3gv30zvwB378vBl06jfTbJanfw2wa5WeLVMm4FprUoMT3ysPm58q2xHTd/++enJPn0MfvwDTsU//ZL//1fb1+H0iYgn0SwWSp4KKIt3doISBZXrY7vRiZQMw58R7pMX/AqOAKHhR5wMOW2P1PG10kSEXd4en463df3acJzeNPwBVTLLVA91hxIYIvcAcgeVNS2WxT14FrGuuNUTbLr26wCLiGjRqI8QlVnf/+YGAOLffr1s+2MtZ0/ECVU/tJHPUne9ZA7HuoOfWI1Auq7PApQtoQAg2x+g//dj48fXn/4+O3ty9fv37EPLj8nKILb+Eafko8XB1zICLXqt8dA4IJi40xk+BTsMYse09NNVLkvRpmeKEq+ihOUpB7M1fGC7RUdezTDLMjZOEYAn7pBdHpOLdt2Nf4TDZaAaryoWNoEDRC4aBlquHB/mnOwdTsAz+RPWdv1bCLrf3T/o91adhrHtih2HNuJ47djHx+/H9h9TSTEAAYMuqRCREhBulcClaKSugZpETEgyoQZRfMFd9AfUcPmG3sdB2hoCAV1+9akpRYIn3323mutvdex0umINktdrKwGAXA8mfTRF+0yggoxC1tsrDRipguJs4nXVFZ/qJ1Od2aVpu1PSRpcfjkcL65QdtPNPphQ33GcoSZ0Z+hQlkU0ShrLmYZxC+RoQ0pih3Ylo5SRzowBhoVeKVliZGaWADFCyEW0MWhbHLHdO0EeF7379QEiCMLELCg6Qw8I3oSntGo8D+Ce56hqcHIkOBp5UxSxqsZG7fdivhUChS40qGCA9nxugUqkAbpUE1wf7I8OUyCEhwYAHKOAA+B7BZUJLtUYgiMUbCbDcVlO8hb1Jv35hTfsj0H/dz58GG//dCl0r/Y1HB+UgiEBsaaLxex41k0RI89q9NUJuEhHR2ZTGOSAi3y27SiycwN8oCwLvtUvYMhNJRQhVKiit2MC3b0LAOebBY+bhZ5F7wNysDrSU3YShzg5SjkFNqSM2YCr5LydZCUvhioXhavlWdkIECte36IUgbJaGWD8+/efD05Q/qAzQbeLtAisPrDco25Ymmo5uxG00FwFoFd3oX4Gw80W7iYecagzur293dr5w/r1cqqRHCg5QGJpmnd4KV5+tV3rWhDxfeF9FYdugrMB8USDXSLzcthi11aKGqgGOANBQiUkcZaUrq1UehKy/eNdADZ6auxC7LfMX1TaeYOBnEXpOzmBIISw4+WUauiSQQ6aiA6h82UvdtWVm6HDJqCQPw7NjS5D8KASu7P5dE4GnneK0iUWMJymGhhBQNGk6rISE0HuqVxbApxpiyC7/aGVNsSx5jk6ynD727et8cft329HfYgMbzD5OPy4O5mcXC4+XJUioS6x3Ox+JMYxDwAkK5s5yTYT7qBFtKqs2uQJYwO8zshcWdh5Xtm6iNTAz5QPAyHJh2audaA5dHaQyuznUfT4kIoEhMh5hf9hyBXPRrSKzjINnLKI7+wcaAMFtIcRoE2kX2gegDHkKcTb3CNkP7AgYzQKJo8Lhl4AOqaUKnFStr+9sdrA8sTz+lpgUM9DCQXzyXh0cHK7t/evk8HQo1QbnG7v7uwdz7X5xVehm9I8VPK4CLkHF0SGEODo6H9s7IVDi92cEoH3gDw10jsHDkHyV2lViXUUskFnbD7y0dQ6blEB3qVik0I0KSSA/uTzQeo4XYVUlFQ8iHWOj2O8CCTZVB/tkTpRyciS2KVBykgTsWbH871DYpFjwDZlMx4UCKXd3BEF4E2lmHWP691lAELYCRUQBguhAspr073Rwd7PW9/2PcZ9gIL90Wh3fLK1dTS1pghiU9VqyHfKv/YCXCeOEtdlE3hoVSb9ZfA6SsCsFDeE3jdAUqhih3pgoAOgV9TFY8tQj41EbR1MUgakC25c46BOoFuDgHhBUxm4Tzk3aKWAzwpdAk6o9u4NPe1IhLFJCB+RNhDG+czTpuOxAxDRmJALqIZkaGRRnp3mFgUchXaEU99nQGuLiWsBaIif6w8n4+3trZ8O9vsawNFDDPa/jUa3O9Pr49FsCjSdLfU46nUeOx0klocFal5UUMwo09pOiRNAnym8y0Zb3YBQMBA26dGBGBCzT/2a7UyFDesUnqlIG5kLUdqn3cYhBo/bcZzUBvgGgax0LQE9sPfUSpEl7eAnF1LQKRmXjotzxFbRQtijiXnXs5xMNIsw75tZSBCxjwLA9jolTwJqBMD9YLEzOR3vng6ArbsgyPvjXZDiQX9zMj48JvpFDR30bDnPEskPgW6CHvmRgpyXGf/XGT8EkaGVoDSpzIalboaKUTf+/stxFtYA0AQ5k9ipQCG+LNqIFShgQ3NrYDXQqKQBZaiS+JGl636bispiRKupUoMXiTY+3QR/p6y0uxq4/OHO9mnfQ2EG+EDOZKuIhxK484cUgDKFLcAEcWH1d0e7U4DLEKLY0TZ3P/53CCCYgp/yYSfyX/anIJPUSEdt+IlhC+0UuwpcG3zeQ226bpXnAMmSLbe558tR1fR90yySzDzPFDcF/KNlyGwk7Wl507AWbeUKuCWf9Z4FoF2o1pBizEACJhUcg78HTc4kYqP1teFk2G9ZPlKgxgfeGXOfuMTUgk3doGyLMLm5di6+3V4f4eaJBfw43dxEFgVoynpmcp21Bh1J8iHVpA3mzObZFD9voJXkJugytzE+rnXvPvO9PhyCbT7VntpLKkadDSgqpQuZRK2uoOfgBtBZSRj3uBcC0Hp84jjroJ591UWrElPK1nngyRaU1gA610CGpLXPvpyTuCcl0I7HkzpjmxxV9U05V35dXhye7BMWP2u6e+p5NKlrw4j++oU1rxKYzJc6nThh6zUIRzAEcCU2w2BLfe5N/oCoALVg1g5wzwGUOgIA3auEvu+ra/00d+tlZhuAxLA/Ly8a2aDa0EsbIWBzjjKOE7Pt/huS9CwD2Or9Prbqub44OBdmgaiT0+lsfvRlsg/0xJ/o+K8H4CEQcSY2uHZGkNwkdPkCseXWWBtfOMvyawgpxTdpQAlv0To266jz/Owv2Y7bnwJROP9UiigcqN0mEF3QBDFiVuwnjnNpnTvL93+7+lwr5XI53w0udr4unWmaqN/764/tmpHKG2xUiMxPoihJC/VdVlk3jYo4AT1ydaWEdorZ8pz7fgBWzmNO6kVVWMaFTGfz1CoX/3HZ7kp664MNKG7/083N0lhejEeH10dXn84TkHfudY/uk39ZwulGgntjBoksEbvqxrsCoBZ+xqdlu1qqC90uypfOz6136etEaUT0TvAGkKcORJDae/uLFZYCv3y5Wi6Otg+PFstzkzm9XnzRsjYDyk4IRsAGOJ0ic5m95T0BULkii4PUNZe/hbUhQ8IV3DsCsIFSrco8TRpgOxEVVTU/v+mpw8P5VFM1f7la6Dc35fnZWUftrey5b71/NicoOnwumqVQR0oC7Kz9dwQAtx1FHRroPrSVkGZr+956kxoX1wkR6CIXPp8x0vrGpx4PKWCq/tmZ2Tnz8R913YOmV//Zkm0JkWkUZSV3Xv+Al3s6JwZh5PeyzOR+JAAbuHXADsOG9z0vu3eid85weiSj2pN+KACmFBERqW+Wr13+mgCs1ravQN5bgOiNdt51YVi993ntRdv3XwtAc7z/Be8KoNci1JsD8I+/5Gs3Gn8LALsp6f6lDff+17SS9L/EeEVoVn//4TP+6Sed/8fX1+uJiCS94VnoKk1feGjyw9//6Nna+qeIPelNDw//pOVaehNHtvAAtgFTNlDYuKjiUTi2mXaQEAtYsEhLINDcIdJIN2iUVRaRLpvbrdmMdFf5CfyMLJ3feM8pAyE8kvRtXXeH9CNlfL46r6K+r946yUVs8hfEMr98xrvPAfCD039Oq/XuHY75vpcct6j2PVQgw9oCr/Pk6p/KMeducNlQJCadLMN+5q3feaaMhcx46CdzOVjf5RooYrKK/2PK2qXFn9KNI3u13W21c7ni/zkpqCnPIVGs00b1jSKet7ptqMjFH7BiPxdq5tQyL//DT7LTm2aUWDDo1MuwKqn+mPIzj5oX+LJQqlXMfOJNrWq32asrTlBFifYMJGX0UCvyeQSgk7W28V1EDnHO+jEHSqehgaCj/YrBoyETtN5rfdIH0k8nutVc0Gs3kAgY4K7aRyoZ1Cl3arjNs9VqGhUUWMA3rddVEHzu4atXQdOyut1GGxWAqFzPfR4+nIVGo9puNXvIVM1YjaBkxHokOOVGnP0MAkpz1YGFrFaqa0appiE/PpvN1hrvN7RFq4VETOT2FLZiVUXOV/rbcqkedBsfQJBXHzl00YWaPUUtzDavkIJZ/bQD4YeTLcUCQV4ptKKtIMspo47PHBr7Mnv1MQJWs1ZGZZEu4woMjJnj2A6lPA5yFw2AxNetBmWkAey1qkqluBUrKAl2NkiJUu/MXRv54Fnk+1ZSlaNSN5Q63fNyozP2N7rNupEqnLhR7nQ6Zdz/tkPTDU0ai7jezX3kydVyJWKO6Xiu6YWhS92NaS6JadoapLQL4s92TdM6WWQq70zeyk53f0T2slEu11oXEcigardWhwhSOqWDsQBjthcgNzT/sfPi7rfDhRSC2unuImM2WK+4Hox6er37/lEQGStgNgnDdAS+uMly0R9NVy6taPV28axcs1wxFKGvstdnov2RRNWulDJWroBEvXrjvBUolGqj9YrTm3qNHjMu8WJ+jATtWiv3gRcAhj2twognpe3YBLyeCcm8ZZJMkwTMoR6NKhAFmfdu0dUI2g0+Q0z4nqxWi7vxeAAQLD0a18/5QKZZUlwYRWc5mHpqmpQhw0QgAkpzVzqrHoV3DbpN9VkwRlBB3aHgU0I8pLxtbNws9HUD/PfdCEYtDdMZMSV1YdJdcr9+fFwvBn24pgkRMbpGodS03nGhaoeB/egA4PjT6XS0GAzGL9cv435/lJheXD5zjoRVy6Kcbhe36rQGBIC7mw1xHM+jcitdw2MsToM5n6tBtsUIMlJdX4pgxIhrI28Tt7YhEzGpG0HOuuzBeava03gsHFsyxW/aJIv+YtG/Hr+Mh/3E0wuCeqYnstXMpdrXvqpF3ia9wtV0NBoNhi/jL1/Gz9eDwSgBTP3y6fo+V9b2tr9ioMfUDHFHwiSOryBRmaDeOtHPFnsocNQw9x0M1yUziW0jQWF5vxYRuAP1s91u27qYATOFfwAAIABJREFURnLdWkVEvpTCA++dLkZJMur3B9e/f3kZ9qehw21ihhvCe7mzXggpuGYY3HbDLXwjMLl/PRx+uQYQwYuGS9clhaviSdosnQKANkibUBMgMB2hR34Up25Qbxyds5evZlHSmEbQfnRBciSvexAFJllz6XuAJRW1oNW23omA2BNcwFQTtGCqAOi//H49HkASCNOsFtpGxzrV+rew/EguKIU3dDe7C5NHsv3TYLFIQlJqHY0uBoZWOHPFEpIY1BJiegwyM3LYlOquedQXZ1qpWPstiLGAUuQx5P24NtUjDwFwhB+VmxdOc8lY1QD3QGQE6Vd4rnrmZZg+/C6l42XScu449qtBzUemuW2bSBd3dwi4o92oMBn08T4uL7fzRxGg6NxnEIhkzIlpe1QgE9PjMR7OYZTbb9NA5ipVor29IonkpTiywQOY7wviebbicfqllnV2Yw43yg1dYsaNdQ4A9GHSXXNv994Sl7C3GKIU0/A9fCuTEM6dbd0Ee9356/jBMB3tt96O7ioPPoeAHkMicKCLoh68egy3jaG5CRpv0oBVKxnnRgtCWCGiHswph1JOKCXYkQlRPjmWJoNr7hyK5rkQUcEX1NwaSzwTsvdmX9Q3WOFNu3fY1uatZlBCgjj1XNfkAuLOTXNAfzpZT8JN0ocEuILX9JZ29s0MZLqlyqn92L/o0odQBscC86EaOhzFdxAG2fZhQc9XNe0sALpwnEgwxpCybSJlDRCwobBGvaNmBok6qIMoVSQqPCUAFqb2huT2djEaqZnbAQD/Yxqvuj/UbWk6x7fiThiaqvEFv4EU2O+H5uS34WD8/OtiNZ9upgq/kPhvCim0QachEHGo4wyrH066kLF0HEdsAdBahy5QvDK0s/4D2FGOG92crW/BA8AFbAJlFVY1vfZhQ5BpXNWV/LcCmUP4Io4ZUr9cfFzz7m6TwIO7yABP7Uf2LyvvhXuZdj0LEPMYgw73waFdckyymA2SzXQ1Xzw/P0MRmcxmCxVSCADNHrZDeFzQMQC+58QFxnTwYBrphbgAJUDy7RkUFaNXPXCBXM04GV/wOYMFnITMCSBwup6sXBM8FPly8Hdf71y9+nDeCgzBMbzgF9LjpUBfMZdwJavFNI1lAAAQCLcRbfK99tXqaBKi//7bX98o5Nv7tQ09NH9aTFYrd7kJR+Pxr88vg8XXl/lsoTpkDJMDB/qlgQqBoxjQGQUPEDFSF1PB/usCAcVbh00tPP7R6CiC1Mc5gZRsUygl3HmaJ5DOKIN/lnEEX4cnGhXbWekAOkxCqY0klxTqDiyA7p8mSZrJ0AVw3gGCbYsf2nsTrJJ3f0vI7G+on1BzoAx4DrVv1+vJ/AEaCUgE19fD6cvzeHZzB8MTjAKivSo/M92TGqj7umA6EjKgg6MRhkABT/LZrxExBvaVsBhsj/p6jX0uIeejcIOilBHu8/3Jc5hfiJlQoSEoF53cPgEEHKlg3mMUCeh2OWMw0Cbrx/tluqZJpv2RAiDNA9AjwyRquzC22G+zxeTu64N8/M4Bt9vZ/WTpzue33x6+LkJ3NZ32oSEefnm5ub4ZbLOJ+/01BjJXRxkMVi7gAVCxfU48eFQoSrbHhABbdj9iNF+TQKaKbBAR7wHwfeYh/ReJZkII5kvOHm8p3rYAHWWMCQYs1LZUs3yjp4HTAkjxXwUfFoAS2v9bbGYm0IPhMjgMR9jSwcxBHITKDeDFz+1S2OPdH3fz2c3Xbwxaj/XDP56hb54S9+HffzzMl0tYEaxWo/FwOBz34fd0hL4Y/vbnqwP2KqrkRxGsQqFP8X1ZiHTKPR9ppowzmDGCqhxYpIk4tbOChPn8vg8u6BxFHYU47X84FHwTfljYNILKbMcOdITgBx5DWV/qA0s73p2G1C7zNXfun75zAWtfwPnp4eHWgWiGmxDMnaa5WsBaCJzBxZhaezamR771gPy/vs/u5nezh5v1+tb+++af/5kNxsPB8r9MXF1v2+YVnhPbsRmajWkqZMTZYZhZsT4AwRcWCi54mZojQYbkiInKTCUt4VEIs0JUZTtKjdKSvQ7DsIt0soACvQhkJAM078a+2g/cOZQcTPDHjUTzfD3neY7fQyrutUK/2tjM2YrmjUblolozddtUd7CN5F6sfD7oOA8IJ/J8LAmQpWBfCWK2IEsMy4IczcsIWVChnCjQNCOAQEYr7218fqrbyhdLS2A/0kQg8SUJyB/P5nOYADSXnVTkeNzdxmPb4BtakHCrnWUXbpZPnwidOE56UleWCoNIcsLQ0xwGEIMNYhrZI+hJBTywSeMWDVvoSFxu9+on/v8cYBLL88w4McNWc7/XU/csYti0DSq4bDQaDZt4ZDL5r9tPgrifetBWrxo3FTS38ZsSnkbFY+Qck8cExbNmMsfnwAEABBBOuAVMAR6FnZAvZCnw6xsHzK3OA18SOxEwRQF6kcxCGUIbgjzjcf8NGx/FCCXggUCFGGRrfKGQ5/Kl9dny9D2RC8zWqRQBVpqhR3yfbBtQ5LyQmA6VrYEoCtUAgY/immKiEp8LHVqY5fDci6RVV+vtsJrzyUStt8xw/6iZErNheKRWruiVHYPA6/paDQaR0Om31FqtYty9Oe38eB4ChodboWXxcgGymWUEMSPwAmrAAvgCx0kclnWOEsQsA+SHs+HY8oO1eyWolQC4IrAcqCRIFFZgQQfSbAHiyFMIaEAjKTzxzYIvKUB7SLa70z628kRieSl5ewz1Cvb5esvXqzu7gFQMn5imgjZnL/CoAYHI7QYd2u8N+MLKjEM8iUx1v54+/TulqxdPU08rHz575baqu1qqjlTDMIAHlYlv2EHQj4PeacfbUmvGw5vD0o+XKIdmSsD1OF4Ag0sszWPEkVZDSUgFiRNQ1PLoBjy/jh5YyM+vZg5YWV8760YRTQfQ8gD3pFIJz74XJPgBIcSNDRDBDMSTamAnx7VGvgAZwy1MRzNzD25BwiTtA1XVPfgzitIy6StF2czt7DYc09FxmgAfVOAXXozW8cygkgjcvSmIggFxnL57l6Z1za409+vW+cWfnn2qk0pFa6Vj1ddtvXpd1nU9CBSHooIor02KRPvzTRe4J8YKxchJBKwFTEMNS2eJO7VYQPRiMAyYiqCK8nksgfxi9i8KIJF3kyB0nEHAxYDsBXFJinKAHGJAM6A64P2Q+BzudOFWA7xoYEaFBVwTvJUxoZVH+ZhSVM3RbcpQAt7W05T4ptOwK0ZOiRTFptBxVGgAdG/mFAXeh2uQPD8D0eXHUt9r/fBDu62SCuW11OF4/PGfH85rO7ta3b1UNV8rQgfQdBN8qNmbtu6RqkaMR3c+KyFAAD4mYS+JoNMDCcE6Ay8zgoCJwAt5dpaEjMAiliFXZxezDJjbWBg4EdH6Ay7q9yIZWZPYsCOWdTCLaQbglclGQgwz7WBc5j+JY+VsSr+8utYzbV0LQw3sZRNdU4llqZam27sKFeNgzFZsADRdQxKD0oii+Dwuw0pZCd253e21yP7e87Q+3Cah5pPicAI+OK8Z25bbvHR93x1vqRNStjTIHcXQioQoNBXMmjCub6PQERwniiJxSQaLoU45JO7IqyDueOx8Gj0e+gQElYe3iLeyDFj+Y+KloeMdR0m75XU7kSDnbZ14Cq/o0LlpVmZFAScq2Myy7i1ygoRAyUp34RaWHz389njgaKrnabphRqYG8S8P6/sHx2ZjEDgBjRugiuFvbhdr2TgEL8Ziow2kDETnXn8bet7+RC+PRqpPQkWzmhfjCxdsHg+t5uWQELfpFotbZcvS4bNaVQt1hqO42zMScXvjjFNAp9mKUJAhwJCkkoRDPMD7PO6hQC8ENMghqLNyXuYgLyAV5qfPgJlbjzzPd5LkpF1PT7rdbgQdS3F8KBcHoGynwYLhOBakcDSGVcxK+IgHjul01x6AjLh/dtxvmaSotsl1GA2UpJ362tPDr373dXs3Vgwn4Flkcv5mY7uKBPCnTZCUIM5px5xmwPLr73X1y62JOtkqeoRovus2L/7zs6u6w/FIbbqjojuyrJF7brnDypRE4YIhNeshc8vLG2f5CG7OCH/sRHEO5AMtRw2QroB6eR5rF/dykXtRgIgyiERASTq/eD8b7C2vCY4SAOXw2m8Pvj89Pe0rfGDqBEuoYaD+2kH8QwkKiIDAipQIiCK3uLAIDnhw9pb0PJOoakttJb3QgW+iuUeHR385qFUbu3okxZxd8X1DNxp4jc1NRsD5Kj/gpg5Yed/2nzdHW+Vy0a1bIWS9BbG/3Ds6rG/VVddyR+dD1xpfjkfDi20Ugzjggi/5zqwJbrw8Ewuc0qCcfsKzjpEzOJG/ukIUFDD5sfz5LHjclANBkdMCK95HMbG8un6iKAMwKla89snZ6fGpGTO2bQ50BWsG9FzVsBu5KaOnAEED4EbgiFicF29BEj7o1d020cB+t3nQ67c103M0g+y/s97t7U2q1fC0HyYG1L+taaSCTBjIBfRskwkYEUHwzuu/euWnX45dd3zpplY6GrrFSvny6Nkffvv7Yb1lWal1fn7x4cPz5nh4Wa6BC/kM0IO7swpYXT/r8OzAhEpJ0yRy9Gzx+qdd5CEyc9OA0ZZcXsoYgAQqsVQQv1idOuBHM1YUQRoQq3XS7R/3t2MeeoJJfBsrHxpwY6bhGsAroPhjwC+a73RffAMBvPPaIc1/+MSz2vuHb/rffaeqGmXr7quWrqc/N7eGe19DQLfKQOC3a6MiUUyIBgd8w/Q6iYhTsbn3f2vVmx/33Ob50Gq1reG5tUVqzw+/Ovr3vy6aW/v79YPm+JdPz6/TD+NfioZiTHlF3F7/PIiQ4Y6iBKhk2AOkDvgMrUGFGwxPZemS6fBNKAaggPKSmE1GpWAR/X/70eNOf+CbCVARy+t0T0JyXY2Sfk+rGEYAeaNNtMx+iH+D4QToCTJuT7DRyTcv1+Z+tfwSPK/7nma1jl69OTl4c2BtA13QmqFCOVb9etvd+3hxqRlXO9fXxdE1SP3QBFQAF/e6eRnH+3Pvj9Kj5qf/UXF1v2ljWXw6naZdyjItjQuBVZtJm9SukZBXAxO5Wd9uXFs2ttddTANupxbBs3QjoBAgZcNHunTaaB8mBY/Q8IBM0wcvo0rhiT9wj0n6sbzxgPE9Pvf8Po7PfZLcHY2zuq70Jg4SqZi4p3//33fDSfXne/f+/sPgbd9RBuOhrogq6ya1t1M7f4aBt69k3BuDkAqyz51Pcu201VUO8wjuU9TybgGcmygeT9g1LNyzTO5eWgiG59Pjtx//1O1o9ecqJJvACgZjWVO6VBcIVvJ6Ba9HQxqGSW4AVoVOyD3adyXsC4RyxbVHj90auNVossjkhGJHTFZatT2ggzzAXpJhWYznPDxKHM+czaOjKG5ZUSzQaTeMTMDrVUulR+VLLhM8v6MfKsosnd49/n63Ws1ObIYlKQqyhUyPjkf7P//2629v3vTwqDU8PlZ1CJYISR6otz4Ofr50526Di5gkwOPOBXLugAXQTfh/WtNgb7rwfBoADAuufVS8C9fCuVuulbK0VS5l5HZNh09SVZEosjxsnxMqbcxZHYMowF5g46mUkAeCCNLCvxi8UBS+eerewdJCuylomtbqFixGbRS6FZHjOY5XBUHFjk5SjD7YoE6o2EmM6DuS7DNa3bYgaHL7WfenlT/NhdBrhZkleraYHFUf7O9XRzjJU1FieJjaZAg8Sq6/G30AIhiJWqO0KZtNUdQ1KV9vlc+OUFm643chbxFbpV1D2edzFVcosBlHXEqVgZtpkZTrQswreSC48tEu/ya0fGMewMeXOnKmDRjImJAArEpjXvhBLK41CnWOphGCb3Gc2uRTUhCUdnkltLwWDhfl0kP3Ds6vtRpJBlUeVCrrpPmiAbg9iSK1IxQytLR6JOm/H8ZAxscopz9hODkQbrXreZlp15+/eDg/XPniP54D4KH17b828eTzWm3PJsjYpsakDQ8mSbEY8X5gWbPN2DQxSGi0YQqqnsaZTuPZo4926k0IwKIbAM+crbiKwx8KGvg0yiv1jDR34VJ03uWGmHs81Xz9ocD1f8597Ys3bocztLduNlRKgxQyVA+WSaWwKajxekFkGcVmeKpvOSwXi+XL5YOduRtyN+cN/+LC0NW7O42kgpL71SfvNkRYyngyjuMKYsUkH/CuptRE7MShDg9jpN1jNKOeK3aKAcFoG8na1hzGLj6tZMk4kf7Lj3u4YtYLTYUA1q+xShIkg4Qd/nm0gU8nhOMcf5A4BIypUkmOkFp/9YdPfrobAFDtFIcBBwDwdneA0CIpjRQNgZtbclg+x8m0JMkZz2kEgoErp47mxaVrOY/kyYBo4VmZpg1ZokG+pIgpvzlTEEFScdIhSdxuUpEo0wam5Aqp8nLA9/KUx18ptQwIQPa4ur4hOrjlOPh0M05OyZ7dplMcSlBHKXI2dvDJZKa2G4vhcC5cAmBMNp6ermCrUDPRcHL/QXaMs7UHu7ZFJLIaq2f/owHt30jPSNuye72+rTOijgqNWgEVmkh9+Gls9Du3gQuVn2NpjAfAZTMy7WntAKVWVbUu8Kurm8A68yDRQVRoEhDQS2sgjpbP+otXv13GJMganxCRGZbXaNhPAR+ycVhCr9JkTmLRI1AeuDLpW4TaLrn6usyWwgtLZz21tTbNoqZeBfbCUgxyLEjhGDWdOr20riZGdvToZNafEKDwRtm9F8CBQuHlRol7cPD4zNAF8iCmB/fvrw8TVnW00es7id83LHFw/1+MJOB9hyL6w0kPPrqeVdlCRRWaJoVefbLUz4e9Luv1YZwXtDenMZ18ptNosVqj1eq2SgBHHOB2XopG+Hpd5XimCGU86AvfPhXjf7y+sEhjQJhoCZ4/qBYeC+TbenYjGp+ISZBdTuyIg3UlJ/ZYZNjSJUiBMr1868zOO/dtsCVlWIZQFJE5oRyEFNyJRByCcIixvrfdTCeipI1P0NSeHG8XGrlwaCUMZUCoXDvzc64Wi+1merC9i5NRlMTdLjjxfmzh9vq93cM34z4VoQh7OBwev0/v78msaQqyyfCFV597AgvuZDIgNk/TggCpLAv+3AFi6jsHsGNzLCNp3mLHG4ukio2CCVfI+AWvPxA8m77/6satyxn3BBNWA9DSkMphktF8XrEcEQpzQ5zFpzGNY3nSQqLBcJ2OsFYKeleufnwAd8IhiZcjVFxETJRzCAdpvEzg7kLsvvJETHxIWGPLVvqj0eBQM/PhTmunIa/UDz552nc7RSNbTQ82nBNHwacM4cwGvb5l2++qg+3RwKHivfTbt6PRRE82jY5h1FsFwmj88rkr9F3I1RYejPZ4aNkQFgP+5VZXZBs75fJrcxUSAztSOxrFhsqFRtdErE/OeTyZlZdnd7B09aY7oA9Qx9IcAkrHIt58XQP1YRb22qYYjTaB6VNxkOMIxxnVFGifL/QpAF/dWlkMBVclKcVqUZWZRjhZFnWRcHqTvq4kYTnxflpBTXFjQ+RYkaPNLpDj8sHNTwu45ffn6w2r98GeWbpF4oq4PiYmeG8yGB8/GX8Y9O3B2+oQSoOIFAJ1SjvNJpl7eO7Lzu6FtbXQ3K/CUr4MUM2V8gEgS/vg9b9FiaM9GYkXRbFbbh90kwWV9tdLoMfXvv48WeF6qV4fp7lSHonIoDvPCkisdWs/qk0deH5GRSSjGg2kIbFpMIZ/MfzFKxrn7qxcCADL4LhonIxiEZIQs9lebzS2myhpTqAmiFkRLsuwEWpbQ0gQ8stbW190Zu+EFv0LckRTe1baIjb+Vk3b44mNp99Xq/s6MekPBz88eT/oE6RZhfDUas2CWP6/FyTOX7/89eW7847K6clFnnrbVKye+KIG0At4DBFAoFg6JRP9j71r7UoryaLyiARECEjk8lQERMVntEmCClFyFR94EcQWFCRcJEZgQCGNAwpi1LDQBO3ppTG2iXnQZrJa12Ki/r6pq52kzeCzJ/3Js/Sj16pTdarqVO29TxCk8T4uyH0Kv36CkVvCBD5wKW92KW3B4LSLGwkbfvQ/mp1xV+42GZA2KWJecYdAngtGEoU1hm42JD7+Nn0NJMuwEURQl0anQ2zxx5tbbyYeo0jYvlm+rEDsmymdWqUqvzMIHKgd6OYdf9zn8EtKeFKpC1WvKNKvP9hR1Z03a1uNjePjdt3aWmpTN/Hhl7uD23c+TJg3lw3obDT2DbYAJ6Jjb7Jg8jOhCiab1mqzTaGqOpC+gp0fzA2NQq6BjbZ4KDgN8bjeUgywKPgzwKiQhwHBsDTNAUG8a3mRQMi8NjP3UF7Zpoa721p35Tq7AXHb7WawBAU72EzesRbgxHgMhgSW0a6bKIpOaUP2ide/PZkJoGXLWx/LKsO9zzfsZvv4gy1dWKdyudgV3yILhPwiiEJ1sLvb4KY1HVIXNj9vnJz0q1OvftlIdYR1z1/X/qt9a9y+va1D41m4DDgygcjj5UIUTHCJymZ7o3GHFiRxfRTYNkBVqtIpOTjUBaPxyLQD7OUsiF50bA6RJBhBFGJjD98gn8LHTBEQAwiiUBiNym5t+R6sQdQGYKFpFk2NuHjCb0GKN8A6xKKwaEpN9zQ4WqOGDfvcbLxGYZ8Iw61NE2tvHtwbHB9PqdVht43GEmfBhhXwaBhBGlbYtErlgLHzfiDgT6fB2lnWodt48/peo/3VhsFgNgStJ8CzCBwxH6KxiBRaRSHf5/VqNDVge0fUbZQ6xW6ZQkqhOTwejwvyeMV5+BLGty4U4CtKuEyomEdllXKLrI/iiLELrsF2FpUmVV4Ow9MhvwH1stjTHi+r8H+xQRJeMXAA5HJh950VXNQAzpaqtCKMaIzytSb1snncDnINjwdxe1g3suFrODJwuqJqu5QOMAosKupGwh1l28uvUorOu6+W7U+azXaDOoT6fzqNASqQCQqoFQwcme7ygC0R7uqC25TgCNjXCsM0yOviMtnca3l4SV4RKQu8iS6RFAiILKKQLxbpI4puClVptKHqDvPyx5QcCU51gNHr9tgcED4bUpDAwDNBtsiDeNehYok3GkLhtBpBjGrz24a0Sq57DPzngLqRIMQUZW+98DpIs5hMfGFF6XXIG0J1cNnm8p68o/EOOAgaBu1+d9Dl9fWfjtPMkfBKQXiTCyUxzxSKaGAwLQeUIDefnnYUY6+lxRIOjnMS1BEnZIgLOGQCTkzXx4O2tm6l2o2GDfJBs83jjYAMz8HN45YQTyhZRJLlgsVYIBLlyYQF3gg47agQTblhwmzuCKtRv0HnDkKsbhZXclLriyCokCjAkUUEkaS06FEc9ECeVpkfuDvs7tDDfwaiFpEw/2yo/5f3pqgbgZUs1sCAVhsMRn3e3GsSCeHMGj2HKFJSgXMpBvJWWyDimN4FKYjN6/B5i/OIRbgjIcvsGG/gWTJGNgC//P6l/ogWZJn2j+g/giGwBceDUw5iEZ3POBkjjpd9ffHOIY+MkDnOwNDQkN8fMMWWRjgXpGxY4vGohxuZ1mo9wWgowC/AhGTzOef743xyDgm7H/NFbBpbJBpymkyYdtjFmkDQx0PueMgfiP+Ua7VaGAzhxUk7pKW5mTl9/2UYO/nOJWvU69F6PD7TUiwSu/A/JywF4r4QSCn0S07T5fhGBM7so58exq0x/OU5RyTCZemnHP3SUiwatcaco+T8kcuQlUZGRvXOWNyK43Au23zcyFzEJ/zuVKmTwpkEhhGjHf0VFpbFMvKXWkEQ5Odc2ZVd2ZVd2ZVd2d9pX5WayIf8+cvQn/+v7TmU2vqOmhvfppZiyaF0zSGHmfGZ/HvZll9KnOL4jQ1GpR4dZRDIpL/F04K8EiYRh+fSc/F0PlZ9RyBiXM4Dn+nzlxi8L9XmMSqgSCyLReMxgVWI+77dx6qWyjBZXCqFi9FuKFLKdWYxni4TAA+cPwg++wp3xNwnXFR/4Yg/f+RzEpljikYioSCacPti1otUUMcSoX4rGWcx6WdNequFcPZwMWQYU4BNox7REiiH/BQpjUItFDDOJ6GAKVlwZHR+Tg6HcFiskoGVo8CkAHDnnzWYYIRAIpMwgNNB//3uxHzyYH8/YfPGLOfL7vIt1qdW/f0Z0+LkjL538knL0NzQ0BzurEgTYXhR7J3oD17GTexquG+nr6+PeoNH5HPOcsGR1oeQWMyliSVMZilUXIoVgONjIXTO6wCs3qzFqY/FfFNuf9QyQrCY4uj+YMPtxSQwGxoXn+0BktU529Lb2F7b2N7bWDvW3FzV29s7Odly33TqtCXky7gsCAP0/sFOerajVFbCMGw0HqEEaEy6+LRVCIsgjqCQWAyxaFLgxGc7P2iN01qt1+crGj2nBgcYcJEsag8FbZ2JxHwo/kgfiyCJwerb7ZnF5GIy0dnpExDO+g5jpncsU9s42P5gsra+/vfm5nst9S8+ZdbH7jutJ4UBgc6m0bEiRRia8XP/2w4ODhbk8kQioajsk0opVB4v9+RVCBPPopeUcDFs9RFprWYBTNt9YMlEpL9/lHOONZzMEUe9yI/7GlVPz+Dwvj8QmrIl9oer22s/AQ8cVC4otD7hGfk5zvQkU/ug+m11Q09DfX19Vcu9e81v1zNj67XNvUNz2bNrHA9Md0yCmyL9ys/cqTxY/M/ifFlZZ2cawy49wwCv0EkiAFjkclkYZJpGOfpGa116vqdp7XlDz+2ePVXaHTdxzpq9OIKAiMC7wOMHg8Ptw+AnmdzfHx6rqv30qT150Ndat5CwP7Wc6gHC6NPk2Fh1dX3V3du3Vt+t1v97dfVW7ctf19+/q6q61TyX9XamECts86fgP7LKhWRmrOHj8ubyXo30h66dnZtSCk2QfT/M53Mk3ENc+BeqZ2VduudOU+rjdmp7K7UiV8zvJ5xnCOGQGQUOVaVCtbC7tw96316VybS3L45lMr++zFSBGWBMzM8nh2espzgyn+D0Dw7fvTVWm6n6bfXF+ruf378nQxRgAAAgAElEQVR/sf7y5e8/v1tfvdXY3DKXJQpwEEbWlh7vPghhRTK5d2drc3ujrK61pqamUkl7Rr2W7USAy2NLD+WUb37hN4IJIC/fXFlJLa+kXm2nyhU1TT0N8yET+ZRDESlfdGNgT/FfOq7/t4kji18UiYoQUqUiFFRE2zuhztysd722d20fG75sETncYgIcyRXCuVxBCXA6QdFBddxBe2qsqlK8O85m7WS9drz2+svaniTqpn/fvQ1N4oQQRfnJWc978/nynj3zzn1+WSLzsP+hCERxNhwOl9Z/qeejAId4MpN5dH3mXR/xvjfwYOrWi9R8OpGcCG9kIuZyqV4rFusrS8VavVNrx59+t3zhADM4DNzff0EX4hdk1yXz1YLd1FwBEyJzfzoz9MUfD8DA8aBkCE4D9zFIYi7yqEt1zbZsJAkYJRKe/3Lu9tzguxlw6pPPley5myonZzfvTOSj/MR0ppvvlBZXlmtOo1sM52uhcPTp5IHTbR+cHJ26/+yx5/+U9mJJoIGZ50N3+Hy+s75YyredmumYkQ3z+ttfj50cHvntUmp/AlRVFGXVba7qGmJYwwwzSVXVLz85uX+AwODwyFhwxGqs7wE9UXa9VUUQNapbWOY4m+q24l6bnLz7YODdDPjgMiNSb0Hibv66GenWzWQ6sVzqLK0tdmqOU+x0gMlt/unM/YG30TP3/Pmzx19Pe4XsuWwiFg9FIwB6Pp3eKHXW1tbrjtPp1PO16Mb49299THlobGThgJ+eygmqhFIUY5dS5GquKAiS9NfP9mfg+LHhraphTwIlicFaehKiNCUzqhgexjrF51/cmhx9B4KPnj40IsuQZkH+dfNsCMhr8koqvbK4tLbUqTuR4nJppWg2IqGLM4NvVX33X924euUqSC6Rs6l0JWKatXqxZn5149vS0uJaqWTGiyulYr3N37s0M7cPOx+MDR9Agd6bS9cAAxKEjxEisihcvvzFidF9w1COjAwdmEBCsSS6wCPmalbDoBjZGsX/eTh1sCEeHj310c0slmV4x82fH0W7NWCtrdvhtaXF0ko0l8zXO8tmqxKfCF3cp+VHRycf/5lg4vONNMYpPzs90e128/lao3z1RnhxaakTjsXM4spK3omHrl+6u/f9/zDy5jjsnsXLUk8isiSpASBdIjKKEJNBCS/3ho7vmyPy++Ai38KZ/RrSk0WfQeIYAyUoVMsKRrquI/TNqwdvTdHYarxPH/lQYEQkopjNbqZjoXwxXykXjM7Syvp6phBLtqP1mtNyHOfCxb1GcHjy/ovznMhcr522NWTjVGE6k4nnu10+bcWK6+vrv5QtI15b7jqVBh+6uI9B7w8P7aFvYGEYST2CpQXOdUUVYhE4EDWBE4TgBuexT0/2NyWjZ0a25zWoO+ELMifJIiFMRIxgWq5WyhpGWpAAcu317X0ZGIVC6fTt438f45goSoLgYg90LJJMduMtoP7KesmCCCp8qNJqmDWH52f6v20amJv94d+ICISWG0oKChdfzFIj0WrwsW6o5dSLndJG0qoYuYjTaLWdxvjMXgiMHjszNrZ3+1QXqQuywEEIrsSpAIJgnknwu9UkndrTmn98ZnjPv6scJ1FKmA1g1DBwgCCaNhvJhE81DRNBIH97vXdQ8eG7z5/98OLlP25KHLwnh/Um9elmwk9HO+12rdutF0vhR62ckYtD/MUgAWdnd1M4+L/ZJ9Oe4TPCqKfrmjWPXawpqWQi5XTyZr4LYlBa6raq1Uqu0e7WGhNn96rAZyMBh/shIKiM9BbA+jQiYy64gA26DA7w21SHoSP9EDj6UXCQttfblT/GZD0QTdpEQB4su9hV5qfnZfBCErxOlK+9vtUnYwOTz19c8UErBSZKxCVYKQBZaFZJhEI1ILJZ73SW1hvVWCXXcmrRJJ/j+Uu7s5Z/vPivbz0jNw825SJd01dTzbJVKNjU8/haEpS/nS91VuqNaqsK8dedC+OR8f6+6OiJkbGRvkkdqgrEZ0gURaZrDDHYeB+LTAYF2J7h8WHf5enfDZ6A4kfgIEFvciAJBLme7QW7AKkgMiOuC0gAD+3BH3gRR+iN51O78wPm/nnjCnZdQJqAREH2wTOAxUpz1VqtrE6E+EatBBYG8leJxeOZe9OZZCwzPrldUw7MjD9NxmOxhEtkgrJKuZGrNMyEUaa6Z7WqRibeMDv1ehtKYgBAPn4n8/TS9dk+Bp3amksAtk8A84LEyXJPkqiLoZTVNcIwLLtsI0JcDYErcoEIDH3cx4H3jgwNyYK6lYHegiq4MtX1ZtMDGPgcprYvYQ1sRA7URBAYA39RZePJwx0IHJ18cp5CrchA/qFilBEU32h+VVOMpm2kPc+oxh91u6bTjsbT0F7NQ3dwdiP0405R/f34vVws5hkKgqdUlRRvNkzHWqXwHIOP80ahnDAi+Xwr2fDSVS8JXcaFzvjcbgbeH9oSPSRjBNskSQKT5J4g6pi4FKxfFFQV6RjLBDwMUACMWOBu9U0RGTw2ck5Qg1ld4BGcqEHNgEl1msm+jX3DbhoEsomhkiwglyFdhuJioZf6aicBgw9fnncRJZLIREzE4GxzWdeqaYyaml0oeKmmUi4kI8VWLL3pp7IiO/dTZiIcubSdgMHZCwkjp2hlhAqKtuphja/mKhXLS+Ry0WKjValaCc/gO0ljPqvpvpWIRWt1Z3K3KTl0k7IUwgqDRfRgg1UG24BdA/IBAkhAVVjgXgTpVlmTWcCD3uu+BBwa/gsolxuc00UuJyCMNYSMVsKCNTUtqkMz5DOB+qlgbdAaUCpJInBgW4emXl2xbQrQl4PmAVVzVplPVlcTFAitG14zVba9ZiIXTnoFX9MV3xVS6Z9//m5mO4Kp2a8Tq2VNyd3xjHjC8LyUZeRWc16mFUvWo23wPatasOImX4D6AEo6LxYKhS/c31Hhk99AlRtUK4RQkQMwyNQVfM2uBOObwP9ESpuFJoiarVtWE5NgBkPvv5/uJGDgWE9goO4IQesDPunaNsK+lU7YRFCsgl5WXN0GWhQKRtX7Pw/X9xo3csc58hDy4IfQJz80cPShElrLlTNeaakaOFMwpzbbUM5n8os41CG5CzW5+JLjmpI0BafhSkajvbkdXyYzmtFaP1axlxxs/79+5B/xy4IRu5rv9/v5NbsjCCHKEQSu8/CrB2fx/bvMw4Q4GtGRCS2MmcK0VyR1SlaLLFVcgtL4wOioVXWe7/Vj/vr1Dx8zzYOdLSoi7U/u8Hwy3mSGCkGx/kOqZUWbJhwXTSVNEzLmJlk5c6Mw9NdfnBXg3nYbM7ac4A4yt9c76jlQ6rRVmeYtQBvAC7u6ZSkQBW6tg26A36x61862N84v/mnmxQAtPL94FfRWE0x6MJNzT2dlbKOsTh1mbK0IFbkESusYTNN3nm2fOvKLu1cdL0PqtC2KU2Ps2zFcWzXxzV6mhWKCc2u0NobLVNU0t7VE3tnZPuOg2zt/FW2morY2oU+G2vc5D7c2D8YR2yxoTnkO70RR/RTZXMxnr/YG+eDuxwcobO9EQsQB7P6s7CHD9tFBpbNuRRoxFr2Bj3MyVeNOVDafBd7aEUTi+WkBzl940SatilMsTSTL/bV+wgH1frw3H5AkjV+JzgByiV5SzqlkbtnvrcGy/HP7JBF8sv1QxC0RnMIqqUxIxgaUqYpPx7mYaymV0dJIximaL2sYQy7qOPnH7vaFMwq9v5V0JwIM8almZOnwoAoPf/EPx/z64yrPeUSrogmFVmw4GIY8SkiYD/778REaN57HLkvLdo4SwP0vuyqtBeMavm2u6863zeBLtFYKoRBaBSMDgZw/u3RcgPOXth/PI47YX7pZhuodrQa5xmXpdDxtVLa86g2tSEEeqWgqS5uk30kFiOLKi8WTw8871wkAy0yeDxO3tRGGlWKZZtKKrLQ0tKiNaVtrw2JaqVRIgUzhXt36z+kPxq49fRQN6XoSL62ENefVaHRwWIwuH9AxEcMc0mlh/wqZW2EspQN4CcP58IePKnDumnI991Ury9IJ3vQyB71UHXlj5dCRbhIgatJyYzAnwIfX/Z7fffbpsRNbvPVkMxER/oUWLM/cstffy41i4CEAOZ4HkGYudc2Zkk2VWwt/0VvrzVzntAAXPv0ua/UQSkWbeJZIKWnRiDpNWj9RdVYPpgOlc0LAZeNpUVyWxsjuzpKtpw9OJmjjyeOI/LIOmQhJpCIsebQ/Acj3c38QjkK4H5r7fu5LiTHjPCetjOfD7z9ubl786qpqXW8YuTA+gSdFCv3WQFs5A/nXqQslBwBzLmIHbgiRSNXMW/37rxeOj88/2dKRziARSnmrvePUI7Vmia6bYjr5X1/Fbc1kXbM0lVxTAbfqIRqk3pXnxyc/F198nmnT5IxUUeaILFMNmaLHZbuStLiLOJmOGwSgqirGozw/8BNQlYtPuf7ypIcLG3fp4PCdP5p83VrD0XAz+jBqcvK7w8qPqiKnBeHTajrg/tIdQ2hDWmCc3Fr8uI2y/bd5q/by1usjs3LD26DMqcAgOLMMJIAKOIwXDa07j7LsQecUK3snE/DJxu6WaHkCw+Bk8ELLTp0pVWsG82EwM35TWIMONg2BUGnGNN7W9Rxc/JeX9/AG51487uwKNXEzTF2mXRdS00hVz5Lxin8YdaawKiyWlTeTSZUXftLB0GHZ1ZMCfHLpURgWK9NiOlqP85Y2htLRTxgifvPAkIiS/YMlY6uimo7f/dxlacqV5GLwr1MKuHfu3O0rvUSQiDlu5gqb23nwelIICDbqDOJA81ymUNd0tnychtY8PXfRv5PnB+xGkdOCAlScBav9sl87GTd1ajrgSs3zqqHWNk01mYyHjgddg0uMMQC9609BghdufUPSlgxNKyhaG7dppiTJFYvmMpxMp3tBmZQhqanlNZ+sNHDGqQO7BFFiu8ebwxd+s9VNB61WRsM6agEzWh28pVbJal0pacQ6lj06nFKEKh9/Nk1jYcjdf58i4NzC4nOnnAu4JTTHTWuojcgPJlaINIhrDVnSMCYaa5kFnQteg+HrB8vfbhx/QXPh0qOYxcLtz3nUlkez0qOdGmYMRZacm7yqQO4WL5NpE5e9wIENyuJ4FnzxrDs7evEPNwmxNqKJkPCLc7B8xwIyBdQbWxTD2R6PinB6sL/uDyouFAy+k7GYpW726LgAC7+6bkjhD5vxSlTHGHlaFO+WWiZoMY4GmsTJ+v4ECdhU++/HDaGbTqo2yTef3T7bQ1748mEHKtlENaQeqstAVuE0tDIrgWbAv8bYNPAW8+W1o96bbsNq9aj/+LfH388sfPkoy4zyysRGLDhy56K4Az/h1JQK1j3LA+vnlDbT0WhFpW5v2ev3XZa4M/fPzzsvuvDZABGVDHkrbH/meJukguQTkyrdWl0U+WB0UORktP/jhw/vl2oFPu7axFTWT3aOIXDpjwMyGA2MKHxOWltVlRWjFcOgOfv7H246cd1eRowopP9uRLjgGgwQ3fz+bEvt4uKN3auv5r2kheJlGCyImbIAvIUMWmtkyrqZaKoKFwSQrze91dXe6psvtu53CF7YuPHcy0jmxC0HbrMEbDOOZ+V80HDYeaYFzaE5eXE4AgBmAZJWEKRpCTn9dvtGd/5+h9BwOATTcDkvHacUOVI/sCOHJpemsiv7SLOH+6MPP74b+6is0+2yKw3L/fn9jkTPb/w+JHcOB0SNv1Yh56gZ98fTitiq+fn9eM/jkVi5/Pan0fjg7UQjXWLAlXz85JQCzt/beLnZ1qXLhwzGz0Xk6/xeba20SoPE4F/+z9XZ/bSNpWFciItRL3rBxV6MtOrN3thKcIbEJbbq2Wm7lVAt4WWRhogGFtBSUajEpougoruiO1VBc7PHsXFsE8ffjr/igcxu5v/bx8DQdrjgAuFw/J73vM/vOa998HwfKZzavlcprezN8W6/e7dfjn/6/vpJpZtTNNEkB9dBvZG3v7BBtIHbB9YZVgxucQMzi0UAd/UpykSXrl6Kfz25fvp2/VjKJYujL8XUSyaTygSBNKAVQqIRPSaWr6pqpkZheH41cDFFlxifbTmTCv3H5WuY/+r7x82Gatb9PNig8kTLAp81Q51xwT4NcxTujYuwvXB1dT42G4YBogJOcvnm/i1HT02vvLU1jlL8Zgn6ti17cB5wU8Sw/MTRDF9zUVVRWrUkdieV2vWuB6Lwp82bAHz98p9ULlATx3FteNfEsT0rLfegeFmGhNialnq+1wx1zOfwcm6+PNIIYiuS17vlErq/eyAIMHIKJWYxVxFzDSZAs2UbwIyq5fq6GupxoA5649GG0y05npZtTqSo569vIjj14XGzHteZ3IlbUEdBb6h61oxdm2MWNnD1Oa5U1d7VeW/BT7B+bJZ12cXOzvav27AnyzY5hQOLQT4wLnnmOVigGgor8VDKkIVhmpI8SWyXcHTtZsujtviv7ZVrlH756q3M/aKAYAMoqIEp923iplmW5pRCLIQxdbNALzQrCCa1h1gCD59WK/Mif3Dd2pg5OlrE7+ddjo0C6fSUj/XwopHnmoHPSYLUikI9LILReJAFhmbDM0Gq4GhF6fX7m4OcVp48CmIYANqOWQUB4NUsTTULNsjlOOLu9XoDhK/X710QzSmtqCDVtcXOh+m7ACwm6Rklp4g2bINhEWCwIFAZ1Kt85zArBoOQKBWgjat1FXu+jMBPw8WTBzc7YlNLmxLhBBTdVAMuyw6CaGm+npHYd7B2mrFe4B5i1LOMG87XYLb+U63Ot94cXXPIvd2Dd4nLtloxqQdWs9zuM5Hvph5kOuWkHBcEahyEpqkjpPaEBkMNh5eywm8dfn9jRdafHfK6OptTws8XbVppjcyB7iN+yHaSano0KMyLXn9QRKyP6ZEnNJXnRutw/a4Z/X7V8E8VW2NRHVzonQFWyS+rvgt+7cp5Of4WaiMQyzckKMEEq6BKL5/c9nlfLnUYNkasxBSyh+UL3FG63l6/GJmMzNWj/nisNknsFmbkKrARIImamHd2Xt0+S767LLEaUN5zdTcE60SmqhbmqJHF8PRuPdTNSA+hSQiMQEFlcf/z1DB9s3P78vTM2mHbnY3YfGPwX1NoZP3x1ZiBaAEKLC9X62G9Ho1HZljMlvUMwCLYQuvRt9ufenEdlhUFWnaNxMb4nUSBFlBzvk8NKRBXbnk+rSSUlgaeojiECJXqnEyv/nD7vz6mt3dQrnN8gd5gVVMYXoqyNPzJmNi5hOQzgRQpF6qB6+FiKEjNerv08vYYp5X9DiO5BDHyA11PffhWDDmMeoOLkSQTjRmfj0cIBn6sazIM6+UcaJvberZ9S7Izzw6XpWZIuP4g2uCioBj1oJhFpvOG0yR6cd4rkD/FqB/xKC1WItgG1w6eLN310x4ctF0hmdgkLe0eIADTTV86ngC9qlUrNlLpRyy7VA9ElB8bnDAUu8PFzq2Z/OrF9jvi0aAe14Fh8kGSDkRaCHTosSPy/XFP9xAAXidAOYuuTB7WLq2ju/cvlnb2HzMg2agpEZ0H6vmsa8S6OhpcFKGltQbn44GKjzJDVSc5RkbNV8/Y5eOdu+M4Pz7bZOOgWb/oFTxRYfvMwQgh6I8WjIZfH6P8wxeEEb7n5TvVzumk9egva3ftUXiRzZaMSlyuG8cWbEjtfGXe0CZPf5qrnZU8wDcoyg95GhBXkb1csWWwWufoV5ReecuR3PNy1y1FsIua79m1SRx6hiDTBqOHnOxouuoTwwsxKzZMk3d0t6V+b+nfT45bAT+LPIgdP4v9JOH8JlY9LKzrbPQwg27sOUyo1l1YuVyce3jGdnaW7vbz1p8db0ms2p+Nfm64jYwhJIiurq56/b4ZuqPzc3NcMIx5MVrgLVZtK/Qcu/Vobff+p5bqg5NlWHnZ8y3ip0bXSGDqa4lhQLPnCGsltrDAA9TP5pB+ItAGGO/Cie3enWn7/bJhKJLjEc5xDPhNB6ZB9F0RoqQInI/6kGgBASXBUFkJ3IW8evRZW+jr7Z2DrbZUIrwbxkD5Zpo4DVUNUk3r5v3+YLbcD0I9IHXG430/51qd3aVPXZWp7bXjfzzfON9jo5AgT8odsNF5P0RWkHzv6qoooqaGMlBnLKaIJFpc+PbRzuctCZDAc/g9Axlg20oXWnZaqeRamp7Whhq8kJEIaexZYgmfMKugZkozNnfv3PTUix/eOXD0sCHEKz8Eau0k3mn14bzIxC6EkD11Y2QDZaOu2uB87Xj/xeddifXdnWabNKEY9RjmwRXoCWiA4bpCYqvFBZMkPKNpJMYiSCXPY5v7XzxpM7XyYf/15v++STzevAjTmHWas0U/ClLP6+71+qOYcXU9iM2Qj4Og7m3tr3189eVTSb8/+dvzSdfwYADLzUAr423KAVRLggbkVBIfQG9o+SUsGD2kvvtusbV5sPLZudYvjjYX5a4V+/l153N4eZbIZKFWnauHcWwlPoTcBb7KiQHEzQX3+HBn5su22IcnbySvtIyxAR41RInMfqNUKJnR9UzX8xxVEMlFGD9vb7U3jz/e+82DZSvbu08arJDz9XpWb3JRPTb3PBQsPuqNTT/n1dh3VZ1vY0DttZmZ6d8+l/aH93/vrArPW01eWm5JGklkSnTggIjlwZ0mbKD7TjeZzF3SCtVdPtjs7G5/3uCfmt7e7yyvtlh/dXW1xZE/i7TgpeRHMYVHgZ2cHfyfvet9bVu9wjG6YPzBbPpoaDNKL4xxkSesgBo0bRIIBIUW2SCH2BK2mIQkF1TLRro2gzZxfJeFQlrkWLUUpUlstU2uxWrF2/+3V2m/3Da/y+guy0lCPknWOXp0znteP89Rfv896DVf7YHl8XtcsozP9KvZsmrVVx4s7W7v49srjw5A/zyp/vDHH9DoCJiLHDrj3T2QYNzlJYk0zS/ZfuksrFtUngB9hYPjBWT7nfvzq5cPY88DD39tCbQG4PE+zpssIXW/5JYkVNz7v3v+9G8/1imzXayWHv3lX39/Cwra9sGbvcM3r93CJPKQ3ffJtxXv91bbvK3ryi+/2k3BnG60m1az3TZNo7n+55cvD8FDXUAOQFrYdQa13XwyzO3NH05HoVjcl9yWntE0iZWVqilJZqu0uj/ef/iP1mQCkLc9GRT2x/jhwYODw9ctC9iZRDdNVsmitD0u1Lv1uknlpWpXCkELNgkQzJniS0vLUoGyaNqAzyS4QTl48d49Tpa5ovr8u6dPDl8fbR+xALFHyaIKtNruDlggvVpdKbV1ucydwU/JKbIs66JO22WZF5+V3h1uHyabuK+3j6IBSMS7P4O+ePegLjXbeu4MclRFtJP4tS1DtdrrAE8t1iEkaWlpO/RHeNDYBSvtl4+qJmMwZ+ufM+W+0O2alq3btm0YBolRoXtcOB6Pp0PPwfOUyTC0oPLnk7qz2WwuxRt2efHe9+s//vQ+2ZI4OgArb5AQD3d2VkorpWazzWmQcjbbD0plFEXsKSnQIso23cL3QVNwsLtz5IQhvvKnvZ39atOyDdVWzmYZgnJg2yovVkCI9XazS1KSRI0J3EWwArK8A4rhA3BrBZU7j2DEG4Zu8+DTKyK31lMFoUNMXGJMUAhJWgZJqxxfVlIXspwTMCpQJgst3vntXx+BRQ1IB6AE7u/ulp5Y622ZU8QLNaDJjNCEBZcSZd7uUvhyC/TDYwCFlmo0VyzblmFOzJ5HcMspUBbkFkhJZWCARZkmGZokI6nbatVLpbrUBXe3L5//AmK4L2c+1dcUtACLolZe2xAshqYF3ebE8mVc8V9cDHTv+ZPVR4/3Xr4BK6THpXqb00UNSkFXVIEq8AKkMla33axLlNXsgrQhi3AWylxROHH68sRK32AYY4M2jHZyPM/z8MWShS+JRyA52aDsyddXK6Symvps/UlptdpqldZl25CvLWDVOMOwDdoyZFHnMjcR3KQrZeC5qnK6Dn2U7dzgJLnKzYTL6VSFK3Oq0NZVW4S1MnyDU4ii2Nd1g4MUeOGGlhNt1b6AWfnftBScy2U1Dsop8M1lKmmI57Wv0vloPLzwjS39TQ+/tVu7tVu7tVu7tVu7tV+lpb/6zfO/cvc/Sef/T0PwUQJ/3TfP/++5AZ3yADRFg653I79++sQ3djytKBmOg+UXXGWTYRg12ZlIXwv/yeCHO3fuf5w+ccMhGt/o6UlpSm+tU1xDiiSJsFskRpC0wNCfy+0u3AjQyvzd58++e7r5+7t3K5oCZ6+ZClJaLqvw/T6XkMFuhqAbBT2rifCCyJAoShANrINhaNghi7SDemGjuKbBl540p1VSqd7a2kaR2GKpbg1hNskNRtB1rnKdiqDIKgg5GqMYS4OTcb3Na22MZMuVMre1sdUrpxagila5+p6SJqtbPEOgaPEY3HUBDeZThqQZxGfsuEMyKp9KXZTT0llRF3ociYQxQrEYi7hoo0YgFAmeIgG+WkUoy5WFCiMAzBFIxxsGIQJ+PIyVr4YDDYbLiz2BETbQ2JvHm70ttoOs9SpXjBzfN0iqEccYdewUaTKaDl/QRZLuNkxBIByXYPjzdyeTCRqiapAEFgcROSbIVtXzPLQqmZgTg/DJp8ngskvgaXpjs4OwBYHxnOksGAb+yIu8yOlcZW8uzXU6L16YTLHYieN5cBLEcTA/6XQ6a1fa1k2VeyrzDq+xDdd1RtNjZ+oPaQx1iFaNZRMpO0Ey/GllO7PuZTVOFWjC8fxhRCFOUcqPfL+6XG1JQa0Zd2idv7QiZESaokkKixvFYjTzsEIhdmb+cOh7jcnm5Xkkt9nxRjFKFGPP809ObfBhMPDRDlO+gvsKpwMAjCVTMmnX833PYdGZH0ZuvlZj4xO0SDMvUJI/c6gQSPswrxsMSRBRMPLzbuh54G8YVzEEeVCr1k0CAfjJXRKBMk2REggAypII6kfRcWEaxqjvk0i3S3OX1tNNdB4A1Hlz4Pjgw4fBcHj6b+6hG/1LsQflRF03LPoxT6YAABUDSURBVOld3SIZgXKGQTD1vGAWjJxwjjYavocRBOEVyO8XvxDQJ3W/YhtG1zJdJ5wFmHPsBYH3Lg/wO5ngj/MIi0bIhLAuiQDUo6k84bqFApbPm8TUzROzUXWl6hQI07IY7bII9FE0cR64PfgwTFwHv4PBcD73Y0S+ZNWegUXbbreXl35awSmSJiKAPHDsLJhNh4PhKI5jFC1EThhK63cWc58PNEpnckK7a1JVyolGs1mjgE1ns1HkeLMgGudr1dp8jkiS2RHuXxABSOkzJoV4YTRBPfTYcUajaDoN0dqyF7h5vGuo5YsDIBJFkgDoD04Stz8FAOBgHgde3MletGrJaX1bNdrV1f1/v12aOCRZ8KezDwN/MDzF0gzz/Jhl8UI0qUmt9p3PBfTpDCRbbQlfrhYiNI4bbOT7Qx8d+cPR1HUwdpkFCZnApYBYu3cGfD4arILSJ5DYNIycIMBC30OGs9AbjVxs6iOFKtFl+hdPotlEEAJDMTSe+8l1gwtPbDA4mQ/8k3hNPHcoNszpKtW1rDqy/fjhP98+jApuOPP8D41a7A+SMAYRwPKIXcbxcQ3FW7+5+xkEtIpMN5ut8eO8MwoxBAcgCAZYfszWHgTT2QCpsQ6GTrBJ+B8+zu+1bSyL44R5CPPQhz7mZaDswrYM9yKuBLKwzcoQEFOoqAuJae3imH3I4IdOk6U7aR9mu2mHEgaU+MqSdeXr2JbuOtEPiGT1D9wjT2ebXbs19ouNhe/3nPM9n2OuLu3tffelU7medxr1RqPpUhLJ3JMSxy+PgsGJUKkg7a4a6Y3DrwL5zru8j6Qmyhl4/9Jxyi2ypQdCOZR2kJ+83dsowdad05c//azi4+MWCuL7g0Hc7RHBPc/rxkqbwxUcTsQNp5KBFbXya9H76X9vH9/aazY7r162TKViuUZFW8hF4qUeRN5smbnvFFKRiy5RsaBSbz19/mCfwxcdXa82q5RSXWYs8TPhcYJFCjyBVFNr6693v1YD37wDk0KlAxa8yAtQwF7yUoAyC5ylX/iSsWmDwPa3+68O/vaDqdV+qKmV+MGDwXAaIip8d3F9NZl0Mztjnus6fhR6RhurlUB9+c97txexh/Rm49WBOddqpnpeUzApd3wKnkEt4HaSuBFkhFAVFWPNODq8t7PpSLS7Z51DPWoeya6LmlWUQ+aUMcy4CINKTUWaUSWvj75yHNbWHpGRLOfQvuBRcPg25/7vRnBjl+tfnjTPNuwv2Lrz+ODNX88rlYcPB3E8+vf5Vfy0bQiPiYjOxkODZ1JgHLc8PwxYv4uBSuTq32/XwNZZHSLX66lBpFWUWqWlqTSVAyo8AfDQ9yGXIpalqqYquPWb8eJPdze4wNb7+ouGruu9Xq/dxqkseWAjEmE+eKmstbDZJshFWD/7opU9bqIqoiynKwAAD4IE8P1PTmAvHXgjb6Ld5xsm3n+8rIyGce3jw+9r55OL4bT1SHmqTq1As9TQhUpIF6AJDhYuTyTDYZi4R3+5JcDd3Qa0Bxcv3KRtzn79GJsRtIIoCq/NMfE85svM82lEJEXRzK7x6s/frdfANx+auy/qjaPXB6ZSiwNJyqEBcCYotN8sTbvdblsWIgGoPv0SQUKGEFSFL0INOCsNlqDAZycEmpIAiPY2WOCLI2108eD8YnB/eHkRXy5qg48XNTO6jl0voSz1BKwuUK+vmW0XqceI0u79cvezAD/u1kXqIU1RqayVN0FhaGCcAUkuLDOkfYJzzzD8lJT73yRU/de9NQF2zuR+p9OICNKIZs6sIE1Y4nkcajnnNk+gB8u55yWi2/jCoXg7zWYTSQgRJuX+0ud8uVz54Kf1rxTgft7cQIRbew09UGrnca0WK8o4ni9Airg2mg3jtDyGClDI54KGwcIvj/PBCKG+1LklwE69LjMno6aJCa5MYrNM3CTxc6xNu0KERO0zpcuEqmm5QyF99tcE2ENSf7ceRaQLRqHO5gDi0IaghrzSDJ0MijrJAa08pG9G2u23TIYKyJtSYcgcyr0oMwCeKxz8IwWWxUlnfSrafo9c0jt48qj19FHrSUUJAm2MtdnkYqQo0/F8niZpyEVAaZRm3FDxtZaCTT+789+O8uNJw/UYDWLQb6ZMg9XxXWHaH05nOZBUlsgoJ1rCsdL2uNzT64/XBPhQEla16vmyS2OIQxCWK2fVHuKZz+Eajp+UE0Ei7W6ebHd+43LezE8g9xrALP7KBYoiX8HcpzQAHgAk3t8gHqrq5fa8R08Oeu0nVuSHriDXk/MYG3g2jVwUwWBApsEilPB41AJjQNLRLQGeS/UqhHn6sIaD+XwB9Me6mhu6WsXitp0lXLhSgrGHVEOjlNT7p/9vgtvvZJH1G1XGHRqNYqUcwhxoA6FezWwastRNIJsz2+fM2JwB+7wAAmK5lDcboCOEHvpezm8NRPZKgDw/3cDfelQ/CtS50npzTFtDw/FEYs3PB5cmd+fWeDjTAOzJPJ7UHlqz0fk4CFTj3bPPJfBYB/sOU7NmumEYudRH8WSmRFN4lSuxbSheLqsiTRHGqqC0s0ZCH7ykcBKwTkaRUlHDFPqfA+5HQucGXFjGEAKAGgdw/HSjB7xdSjB+omreb9SlkgPhyQtwArsUYwUDZQmAp6wL8KHTcI961LxsPWodU+1qxJnqLiq18bBre1owmygQ1WQaDwb378ezcay4Qa/+9rMHbL9vNmXdlQ1LjcAFLeK0J7E1DabzShCESUlhmQjTcr+fJ3BAU2l3rQns55LnZHlbcwkKgzSDn8uyHC/CEsO5GywCEsF1ODrJOxt3PZ3ZeRXmB5lJu/W84KsaKGEIRuHVaFTOBuCJyyVa7wKnh7r+SqfdmarM1cCyrgxJmc4vDTLUsiykeBZYs2k4iz8OBg8GUOaWhnvvzm61wf1G9QQhg0lYXWgQdqd/FY+HljIdWpalCZFC8S4wdqNAk40qDFrrRv6sSliWnRz3XIIp5NANo2lKI1XcQPu2ReB5apTdZAjSvLMRBE59qS754NayYaxIqCQ/VAAE8+XvIzHzVt2xv/bH5vZhkyA9Em6gqrJQRtdKYMyHw1mqXhq+pwovjaKhRea1y6vJg+/vx5Xp+OnB2enOt7c5oK4TGcCHhFhZQLM0utgaYSrPVijhZ04CoQ0CpdUVIIC+/vfyngym5x+1YPqH6ZvZzDQBoNAihEKwbQ6DYRiJ1EUSR5vn+nv+kjMOfZ/lxSriDqiRlwng3JTN0OYSKj9w8jUPeXZ4Uq+/1ttR4IZJqlUIvbbMdm1O1UtNlDehuO5iPJ+NJpDXl3E8m14rb35+u3drFnjeQHUdq9jEAniXOjcU1oHjiuz1QwDblAHRENWstOOaprtRvb8OY3fOZAoyYQz0H6aJ3Y5NqBU0nYrVUJtR15UwIb2+F24GoS1YrLOUCok5n9o+K1gBQvyHsDP4bRu5wniKAg1yCNqipx7aY9HLEIMZAhRBE6AAAbyxYYDESOhAFpBFslrUqIwmlW5GtICRBuBuKJGaoSeiLQ60poaASfMf7KObQ1xL7s0+0DIf533f73tDUtD/kIaBI6Y2bdrRwB0bfP6m17Mno4Ctksidn+lSFUXJhbnSF+dJlIRJkhfe8vxc1y4LM7tM8vWLp/84+UYDH5xaJcspWQPoSeVq6kppLCGbZUdUzL3I1gDFCb1Ynm02nQR80Pa33HB6aokGODZlnIZJdeUulnpBQp0gydslQBNConIwGkp7x2z+BAowttoQ+LUAYIPt4odfY973/akNKREqxO8U4FffW1buvxtxstLnZiFVmoDv8Dqj4VqqfF0mZbLWQyMJ4eSDhWmEncPJ6Tcd0BagLNk600OdCTl3Z6JPVwYgAYNIMA9X6yIP54tFx/M8XKnat7fI2ClpR3BprLgGKgrd3tezsnYJKXLwRhVRLTSCyQjT3o44+BYEbzxtvs5B2jMHGfwvCcZ14FLsAiOlQ3y3Bf74xopkPRlWarXsoDyXKeCvQWKXGKEJMWadRST0cBldhEm0OM+0IDi2nzz+Jlh/8AXKa+PSXGXALx29Yuch0OxFRla5lLS41JJQ2ywXgacPZB75vS0X8TUSMW6VlCMDjINEVT+jAhoikUxVgGIQJI8HQ2yd7pqG43jW1KA/N5cdvK8dhMU36+F6OHAs6tO64ajhdwrwtudTMKk4HoaZHiVFns5ktMqUG2aLPa0tfkkikeYlCLQGnGvog1H31ju+P3Rx10pogkJQEaGDCgeo44J8ZBTKyUlohKtkrrumZhgrROzpFh0/gY+NiGMQMaNyxjMiWAbdKOFzJWNRqOve/iHCdOdk72U9A+0H+wStn13XwM2QiNPrmw6AmOSPpxggguJPd0jylZ1YKyeqqiA09GJVJNWMA8Oz4GfN3XQA43h+SaRA4TpbdOZfTCMIRr3n305W2jvbR4RzwwQeLqKUCw3Yha7XGiQ6LlDn3IwKFMkyOHbAA8i2i/iBAPJaSUJF7BqV0ExtbYSwHoH9gClBATtL7xgzXn/cVYBxytspWOrDUoj5kArxdS6UMqgbRKWaIrSlAx48t1HXgiVy7YXzMFsXUczMpSvK3Fx4m89hRPL8UlMVCvWwszzrZObTw8nBrRc6PrMJGjgslcw1Erh8uZI8jrJ1RxO0Etd9k4nI4KqsvWNgxrW9DWZ/dGtc5TRCimYGj9e6hqAPVwTwKDEoS5nLXQdLtLMFXo7r6wYQMPXrqxlmAFYYwyqIQVkomvrusBlaFNcnd030mW0f+N0JwouLziZba0SQ845STJYemP6CJoqtypiboMurUL/U96EAR7cmU896SQIgE6dk4VExU0lRlso9v5wvKIYgV5dVRda5DPQwcEa+5TzZlubHaoo5xwJ0swL+4qnMdSSLtOKmC2hAlJIDtyzxri3CX/s1ZB/RXGM2a6B6FOEWfNq+R7btjjG2IMaebDn8lPrTanJI+r+c/bwhCZxIJeH/gDza/zd3NZ1dXaUx17ILIOL2SX2ITJP3t549efveB7FTcQOqCeRyFUtDxfVc7+x5bgl/R6apMNaat39MxhO/62ybar084IgyUflOmQL9NU1Fcr3DSBsB4ytpIFkSBzOFd27wfKwpBu+PG3x9HRAKescgiuEmbkekgNAY1fXJFv95/JFEXEwODW/z02ezXAORCi0XQ1coNWsf3a0gSHDv4myzXJoFMff2nk6O/nxrqPfwuW3D8ioRNMkgklcp+Jiq+P6+bmYrN5VwEqxYEWIGyO763e7W505e+RaGtrVHsgLfByCggE4c8HKWVlciJ4PBAKIEJq92TsTaaw7eB9ofNzNekwaDKQJEtFJQ+7zmDX659YO7tsrf/RD0vc9fPI3IIiGBxfoB/BgrpWKAycrIzjtf5psl4ID54l9Hr2+/KP4hsDAe7SfEWGzMgUhtPIMsi70hJoYBdhTHpVYYx2PVOMBcve2n8OikdzDNISxbkATVDJS07rs3BQBlF5yW4OQoKqc7N7ofnXTHNU/rdhQ4S0H3IAy0I/1rTnlE2yo0H7dR9JNetyv48Aeu0N5c5wLCuyEHxUgbJIIXYGuMp1F2efHLmbe38c7N7G9/+cP/jLQeftdFoh2KZxs9wLO05DLPcStAirEZqDsGdAgOj1E57vWmu8a6r8nBke1bNhGxqKHyLJ1V4CEgCJVyUDTu+V1YZPd8R8Lzg55V17Tdy2mn4PFMNDdMJKASNUJ182krRL4+6PXGXI7UTG1opKq4wlaZ5CPrHUNVpME5QA3W4cVCD5ee7iHjn79rh5q3VkB7Q8XohWt2NuDjooTr5ZSliKHwMq1SlZOR5owmIwe5py93vVX6wauj3nTc7TrAMiCAgoGZNRJICBQQdXuWBYkLTU/veTk9LAEf03Yj4IaBb2Zg7XZAjYc+sdCnD9ufHnr8Y/t8Grig6u+tVu04AxpfTXvWWIqruFJgxSpfGWfeRRju/9THwd9/+6ff357rP4Ta+6xOhxtoG0D3lDkaQzwWvgMEpVgRIVJYyHG6p/d8PwZkEptObfCuWVzBwZWqIovKkjNkjbsOdGrvyf03enzo+WNUi68J+GYnBIyxwdOpjca7j/3uxO2971rpytxfFcaKJHBwJaU7Lm96b3DzMH9oAs9s/topzKe/uTPVfvjoydG7EZXaMjAcS0LVmAAPgVAro6hiLHFY7Vg2rOH7vnvz8es3vfH0CEoJAsJVPfZTVkpiUSarBtTTtv/fDv+zA59OpyCEHAk4cZA9QIF01gBiT+879tGz6feQBw4Do4w0y0oEeOB/2ruC1zahMB7nIXgQJoXBgyVs0OsrEgfZeAjvwQNvQw9xYA2pzKLxkG6DFgOjSCwEyc2BNKWnpewSD3X7B/el7cagXdLLYOv8nbwofu/p+34f3+/jBwvuxp8uO8VibC3z4tXrcrmEErXb3TvYat3qbgri8Oi9hwcv3+x6ZNXKWGiDweDybJ4TqkL6AnIZMa6T9Sor5MP+MQK5cD4nqcvU87KErc9hSZcFtfSNIjXRTzIDYtYqAxvfKlWLVx0muMBxf72sxBkOD6N47HUuciMqgXapbHQYpFAVUUrzxSLvdoGSd7tv994db7Vut/YEKfS5R3c8eEIJNW1ldcbjClisxXmn+EzL5dd5ZOhub30IYi9LuR5pWMNuMmKQyoGiYFU9r7SsbZqbhU5NUcwsHpM4mZqzSI2AAapxajq9TQIhAdmBi4GmF9jA2iImbhC4MXDBC+ZGUIkvjA8LvPPi47PHj7bvslxqSrIy5ASWi1BtrlqQ7VgM3+885imnhVWeaqTX982N7qWibQacjVw4r2Q7yyw6m82iapYk955+FPdRaK/iRaiXTcXQUe6nDUJHLmMs1RlfSaL4yE2xVsDfT7UzOH475Iu36+0dPNlutdFdzW1BkpHJic4YieF23cxUrKlkp8CnBiWnFdEn95X6ySES0U+xoSxLyFakP287K8g97gIjOBmuZrgD3sF5juH0hXSmU65TfXw4Pn7aaiu/EXqthLHO1LcngZ9M/H7DSRKmZdOUJgn8zhPTRI2/HE2hZ7knJlIcSUKKCe/PuRVZNMLcDY6G/ectp30l+71b6Na88eWTFeHHboWTsLFvi6KjIKnxL0Byfq2UBMfeV/oBT6Z9JxSvPdPWDjDfGOs9MG28fF31NW9s8zbo3q+m3h8qHnRwNWrUqFGjRo0aNWr8Z/gOfU5Wu24n41QAAAAASUVORK5CYII=",Qf=function(e){s(n,e);var t=f(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,n),(r=t.call(this,a)).mesh=e,r.color=a.color||"#17b2ff",r.distortion=a.distortion||3.7,r.speed=a.speed||1,r.size=a.size||1,r.water=new Rf(r.mesh.geometry,{textureWidth:512,textureHeight:512,waterNormals:(new zs).load(Pf,(function(e){e.wrapS=e.wrapT=D})),alpha:1,sunDirection:new mp(0,1,0),sunColor:16777215,waterColor:r.color,distortionScale:r.distortion,size:r.size}),r.mesh.material0||(r.mesh.material0=r.mesh.material),r.material=r.mesh.material=r.water.material,r}return A(n,[{key:"setSpeed",value:function(e){this.speed=e,this.material.uniforms.baseSpeed.value=e}},{key:"setDistortion",value:function(e){this.distortion=e,this.material.uniforms.noiseScale.value=e}},{key:"setColor",value:function(e){this.material.uniforms.waterColor.value=new bn(e)}},{key:"setSize",value:function(e){this.material.uniforms.size.value=e}},{key:"clear",value:function(){this.mesh.material=this.mesh.material0,this.paused=!0,AMRT.render()}},{key:"update",value:function(e){this.paused||(this.water.material.uniforms.time.value+=1/60*this.speed)}},{key:"onBeforeRender",value:function(e,t,n,r){this.water.material.uniforms.sunDirection.value=n.position.clone().normalize(),this.water.onBeforeRender(e,t,n)}},{key:"dispose",value:function(){this.material.dispose()}}]),n}(Lf),Of=function e(t,n){gr.call(this,t),this.type="Reflector";var r=this,i=void 0!==(n=n||{}).color?new bn(n.color):new bn(8355711),a=n.textureWidth||512,A=n.textureHeight||512,o=n.clipBias||0,s=n.shader||e.ReflectorShader,l=void 0!==n.recursion?n.recursion:0,c=new sn,u=new Ve,h=new Ve,d=new Ve,p=new dt,f=new Ve(0,0,-1),g=new rt,m=new Ve,v=new Ve,y=new rt,w=new dt,B=new Ur,x=new it(a,A,{minFilter:k,magFilter:k,format:Z,stencilBuffer:!1});He.isPowerOfTwo(a)&&He.isPowerOfTwo(A)||(x.texture.generateMipmaps=!1);var b=new Sr({uniforms:Tr.clone(s.uniforms),fragmentShader:s.fragmentShader,vertexShader:s.vertexShader});b.uniforms.tDiffuse.value=x.texture,b.uniforms.color.value=i,b.uniforms.textureMatrix.value=w,this.material=b,this.onBeforeRender=function(e,t,n){if("recursion"in n.userData){if(n.userData.recursion===l)return;n.userData.recursion++}if(h.setFromMatrixPosition(r.matrixWorld),d.setFromMatrixPosition(n.matrixWorld),p.extractRotation(r.matrixWorld),u.set(0,0,1),u.applyMatrix4(p),m.subVectors(h,d),!(m.dot(u)>0)){m.reflect(u).negate(),m.add(h),p.extractRotation(n.matrixWorld),f.set(0,0,-1),f.applyMatrix4(p),f.add(d),v.subVectors(h,f),v.reflect(u).negate(),v.add(h),B.position.copy(m),B.up.set(0,1,0),B.up.applyMatrix4(p),B.up.reflect(u),B.lookAt(v),B.far=n.far,B.updateMatrixWorld(),B.projectionMatrix.copy(n.projectionMatrix),B.userData.recursion=0,w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(B.projectionMatrix),w.multiply(B.matrixWorldInverse),w.multiply(r.matrixWorld),c.setFromNormalAndCoplanarPoint(u,h),c.applyMatrix4(B.matrixWorldInverse),g.set(c.normal.x,c.normal.y,c.normal.z,c.constant);var i=B.projectionMatrix;y.x=(Math.sign(g.x)+i.elements[8])/i.elements[0],y.y=(Math.sign(g.y)+i.elements[9])/i.elements[5],y.z=-1,y.w=(1+i.elements[10])/i.elements[14],g.multiplyScalar(2/g.dot(y)),i.elements[2]=g.x,i.elements[6]=g.y,i.elements[10]=g.z+1-o,i.elements[14]=g.w,r.visible=!1;var a=e.getRenderTarget(),A=e.vr.enabled,s=e.shadowMap.autoUpdate;e.vr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(x),e.clear(),e.render(t,B),e.vr.enabled=A,e.shadowMap.autoUpdate=s,e.setRenderTarget(a);var b=n.viewport;void 0!==b&&e.state.viewport(b),r.visible=!0}},this.getRenderTarget=function(){return x}};(Of.prototype=Object.create(gr.prototype)).constructor=Of,Of.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};var Hf=function(e){s(n,e);var t=f(n);function n(e,r){var a;return i(this,n),(a=t.call(this,r)).mesh=e,a.mirror=new Of(a.mesh.geometry,{clipBias:.003,textureWidth:1024*window.devicePixelRatio,textureHeight:1024*window.devicePixelRatio,color:"#777777",recursion:1}),a.mesh.material0||(a.mesh.material0=a.mesh.material),a.mirror.position.copy(e.position),a.mirror.rotation.copy(e.rotation),a.mirror.scale.copy(e.scale),a.mirror.updateMatrixWorld(!0),a.mesh.material=a.mirror.material,a}return A(n,[{key:"clear",value:function(){this.mesh.material=this.mesh.material0,this.paused=!0,AMRT.render()}},{key:"update",value:function(e){}},{key:"onBeforeRender",value:function(e,t,n,r){this.mirror.onBeforeRender(e,t,n)}},{key:"dispose",value:function(){this.material.dispose()}}]),n}(Lf),_f=function(){function e(t,n){i(this,e),this.times=t||[],this.values=n||[]}return A(e,[{key:"lerp",value:function(e){for(var t=0,n=this.times.length;t<n&&e>this.times[t];)t++;if(0==t)return this.values[0];if(t==n)return this.values[n-1];var r=(e-this.times[t-1])/(this.times[t]-this.times[t-1]);return this.values[0]instanceof Ve?this.values[t-1].clone().lerp(this.values[t],r):this.values[t-1]+r*(this.values[t]-this.values[t-1])}}]),e}(),Nf=["attribute vec3  customColor;","attribute float customOpacity;","attribute float customSize;","attribute float customAngle;","attribute float customVisible;","varying vec4  vColor;","varying float vAngle;","void main()","{","if ( customVisible > 0.5 )","vColor = vec4( customColor, customOpacity );","else","vColor = vec4(0.0, 0.0, 0.0, 0.0);","vAngle = customAngle;","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","gl_PointSize = customSize * ( 300.0 / length( mvPosition.xyz ) );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),kf=["uniform sampler2D textured;","varying vec4 vColor;","varying float vAngle;","void main()","{","gl_FragColor = vColor;","float c = cos(vAngle);","float s = sin(vAngle);","vec2 rotatedUV = vec2(c * (gl_PointCoord.x - 0.5) + s * (gl_PointCoord.y - 0.5) + 0.5,","c * (gl_PointCoord.y - 0.5) - s * (gl_PointCoord.x - 0.5) + 0.5);","vec4 rotatedTexture = texture2D( textured,  rotatedUV );","gl_FragColor = gl_FragColor * rotatedTexture;","}"].join("\n"),Gf=function(e){s(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).isParticle=!0,r.type=n.OBJ_TYPE.POINTS,r.positionStyle=n.SHAPE_TYPE.CUBE,r.positionBase=new Ve,r.positionSpread=new Ve,r.positionRadius=0,r.velocityStyle=n.SHAPE_TYPE.CUBE,r.velocityBase=new Ve,r.velocitySpread=new Ve,r.speedBase=0,r.speedSpread=0,r.accelerationBase=new Ve,r.accelerationSpread=new Ve,r.angleBase=0,r.angleSpread=0,r.angleVelocityBase=0,r.angleVelocitySpread=0,r.angleAccelerationBase=0,r.angleAccelerationSpread=0,r.sizeBase=0,r.sizeSpread=0,r.sizeTween=new _f,r.colorBase=new Ve(1,1,1),r.colorSpread=new Ve(0,0,0),r.colorTween=new _f,r.opacityBase=1,r.opacitySpread=0,r.opacityTween=new _f,r.blendStyle=1,r.particleArray=[],r.particlesPerSecond=100,r.particleDeathAge=1,r.emitterAge=0,r.emitterAlive=!0,r.emitterDeathAge=60,r.particleCount=r.particlesPerSecond*Math.min(r.particleDeathAge,r.emitterDeathAge),r.particleVertexShader=Nf,r.particleFragmentShader=kf,r.clock=new Jl,r}return A(n,[{key:"setValues",value:function(e){if(void 0!==e){for(var t in e.positionBase=this.options.position||e.positionBase,Array.isArray(e.positionBase)&&(e.positionBase=(new Ve).fromArray(e.positionBase)),e.positionSpread=this.options.range||e.positionSpread,Array.isArray(e.positionSpread)&&(e.positionSpread=(new Ve).fromArray(e.positionSpread)),e.velocityBase=this.options.direction||e.velocityBase,Array.isArray(e.velocityBase)&&(e.velocityBase=(new Ve).fromArray(e.velocityBase)),void 0!==this.options.density&&(e.particlesPerSecond=this.options.density),this.sizeTween=new _f,this.colorTween=new _f,this.opacityTween=new _f,e)this[t]=e[t];this.particleArray=[],this.emitterAge=0,this.emitterAlive=!0,this.particleCount=this.particlesPerSecond*Math.min(this.particleDeathAge,this.emitterDeathAge),this.particleGeometry=new Jn,this.particleGeometry.setAttribute("customVisible",new Un(new Float32Array(1*this.particleCount),1)),this.particleGeometry.setAttribute("customAngle",new Un(new Float32Array(1*this.particleCount),1)),this.particleGeometry.setAttribute("customSize",new Un(new Float32Array(1*this.particleCount),1)),this.particleGeometry.setAttribute("customColor",new Un(new Float32Array(3*this.particleCount),3)),this.particleGeometry.setAttribute("customOpacity",new Un(new Float32Array(1*this.particleCount),1)),this.particleGeometry.setAttribute("position",new Un(new Float32Array(3*this.particleCount),3)),this.particleMaterial=new Sr({uniforms:{textured:{type:"t",value:this.particleTexture}},vertexShader:Nf,fragmentShader:kf,transparent:!0,blending:1,depthWrite:!1}),this.particleMesh=new kA,this.particleMesh.renderOrder=-1,this.initialize()}}},{key:"randomValue",value:function(e,t){return e+t*(Math.random()-.5)}},{key:"randomVector3",value:function(e,t){var n=new Ve(Math.random()-.5,Math.random()-.5,Math.random()-.5);return(new Ve).addVectors(e,(new Ve).multiplyVectors(t,n))}},{key:"createParticle",value:function(){var e=new Vf;if(e.sizeTween=this.sizeTween,e.colorTween=this.colorTween,e.opacityTween=this.opacityTween,this.positionStyle==n.SHAPE_TYPE.CUBE&&(e.position=this.randomVector3(this.positionBase,this.positionSpread)),this.positionStyle==n.SHAPE_TYPE.SPHERE){var t=2*Math.random()-1,r=6.2832*Math.random(),i=Math.sqrt(1-t*t),a=new Ve(i*Math.cos(r),i*Math.sin(r),t);e.position=(new Ve).addVectors(this.positionBase,a.multiplyScalar(this.positionRadius))}if(this.velocityStyle==n.SHAPE_TYPE.CUBE&&(e.velocity=this.randomVector3(this.velocityBase,this.velocitySpread)),this.velocityStyle==n.SHAPE_TYPE.SPHERE){var A=(new Ve).subVectors(e.position,this.positionBase),o=this.randomValue(this.speedBase,this.speedSpread);e.velocity=A.normalize().multiplyScalar(o)}e.acceleration=this.randomVector3(this.accelerationBase,this.accelerationSpread),e.angle=this.randomValue(this.angleBase,this.angleSpread),e.angleVelocity=this.randomValue(this.angleVelocityBase,this.angleVelocitySpread),e.angleAcceleration=this.randomValue(this.angleAccelerationBase,this.angleAccelerationSpread),e.size=this.randomValue(this.sizeBase,this.sizeSpread);var s=this.randomVector3(this.colorBase,this.colorSpread);return e.color=(new bn).setHSL(s.x,s.y,s.z),e.opacity=this.randomValue(this.opacityBase,this.opacitySpread),e.age=0,e.alive=0,e}},{key:"initialize",value:function(){for(var e=0;e<this.particleCount;e++){this.particleArray[e]=this.createParticle();var t=this.particleArray[e];if(this.type==n.OBJ_TYPE.SPRITE){var r=new lA(new Za({map:this.particleTexture,transparent:!0}));r.visible=Boolean(t.alive),r.material.opacity=t.opacity,r.position.copy(t.position),r.material.rotation=t.angle,r.scale.set(t.size,t.size),r.renderOrder=5001,this.add(r)}else this.particleGeometry.attributes.customVisible.setX(e,this.particleArray[e].alive),this.particleGeometry.attributes.customColor.setXYZ(e,this.particleArray[e].color.r,this.particleArray[e].color.g,this.particleArray[e].color.b),this.particleGeometry.attributes.customOpacity.setX(e,this.particleArray[e].opacity),this.particleGeometry.attributes.customSize.setX(e,this.particleArray[e].size),this.particleGeometry.attributes.customAngle.setX(e,this.particleArray[e].angle),this.particleGeometry.attributes.position.setXYZ(e,this.particleArray[e].position.x,this.particleArray[e].position.y,this.particleArray[e].position.z)}this.type==n.OBJ_TYPE.POINTS&&(this.particleMaterial.blending=this.blendStyle,this.particleMesh=new kA(this.particleGeometry,this.particleMaterial),this.add(this.particleMesh),this.particleMesh.renderOrder=-100)}},{key:"update",value:function(){var e=this.clock.getDelta()/2,t=[];e=e>.1?.1:e;for(var r=0;r<this.particleCount;r++)if(this.particleArray[r].alive){this.particleArray[r].update(e),this.particleArray[r].age>this.particleDeathAge&&(this.particleArray[r].alive=0,t.push(r));var i=this.particleArray[r];if(this.type==n.OBJ_TYPE.POINTS)this.particleGeometry.attributes.customVisible.setX(r,this.particleArray[r].alive),this.particleGeometry.attributes.customColor.setXYZ(r,this.particleArray[r].color.r,this.particleArray[r].color.g,this.particleArray[r].color.b),this.particleGeometry.attributes.customOpacity.setX(r,this.particleArray[r].opacity),this.particleGeometry.attributes.customSize.setX(r,this.particleArray[r].size),this.particleGeometry.attributes.customAngle.setX(r,this.particleArray[r].angle),this.particleGeometry.attributes.customVisible.needsUpdate=!0,this.particleGeometry.attributes.customColor.needsUpdate=!0,this.particleGeometry.attributes.customOpacity.needsUpdate=!0,this.particleGeometry.attributes.customSize.needsUpdate=!0,this.particleGeometry.attributes.customAngle.needsUpdate=!0,this.particleGeometry.attributes.position.setXYZ(r,this.particleArray[r].position.x,this.particleArray[r].position.y,this.particleArray[r].position.z),this.particleGeometry.attributes.position.needsUpdate=!0;else if(this.type==n.OBJ_TYPE.SPRITE){var a=this.children[r];a.visible=Boolean(i.alive),a.material.opacity=i.opacity,a.position.copy(i.position),a.material.rotation=i.angle,a.scale.set(i.size,i.size)}}if(this.emitterAlive){if(this.emitterAge<this.particleDeathAge){var A=Math.round(this.particlesPerSecond*(this.emitterAge+0)),o=Math.round(this.particlesPerSecond*(this.emitterAge+e));o>this.particleCount&&(o=this.particleCount);for(var s=A;s<o;s++)this.particleArray[s].alive=1}for(var l=0;l<t.length;l++){var c=t[l];this.particleArray[c]=this.createParticle(),this.particleArray[c].alive=1;var u=this.particleArray[c].position;this.type==this.type==n.OBJ_TYPE.POINTS?(this.particleGeometry.attributes.position.setXYZ(c,u.x,u.y,u.z),this.particleGeometry.attributes.position.needsUpdate=!0):this.children[c].position.copy(u)}this.emitterAge+=e,this.emitterAge>this.emitterDeathAge&&(this.emitterAlive=!1),et.render()}}},{key:"destroy",value:function(){this.remove(this.particleMesh)}}]),n}(Lf);Gf.SHAPE_TYPE=Object.freeze({CUBE:1,SPHERE:2}),Gf.OBJ_TYPE=Object.freeze({POINTS:1,MESH:2,SPRITE:3});var Vf=function(){function e(){i(this,e),this.position=new Ve,this.velocity=new Ve,this.acceleration=new Ve,this.angle=0,this.angleVelocity=0,this.angleAcceleration=0,this.size=16,this.color=new bn,this.opacity=1,this.age=0,this.alive=0,this.sizeTween=null,this.colorTween=null,this.opacityTween=null}return A(e,[{key:"update",value:function(e){if(this.position.add(this.velocity.clone().multiplyScalar(e)),this.velocity.add(this.acceleration.clone().multiplyScalar(e)),this.angle+=.01745329251*this.angleVelocity*e,this.angleVelocity+=.01745329251*this.angleAcceleration*e,this.age+=e,this.sizeTween.times.length>0&&(this.size=this.sizeTween.lerp(this.age)),this.colorTween.times.length>0){var t=this.colorTween.lerp(this.age);this.color=(new bn).setHSL(t.x,t.y,t.z)}this.opacityTween.times.length>0&&(this.opacity=this.opacityTween.lerp(this.age))}}]),e}(),zf=function(e){s(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,n),(e=t.call(this,r)).type=Gf.OBJ_TYPE.SPRITE,r.speed=r.speed||1;var a={positionStyle:Gf.SHAPE_TYPE.SPHERE,positionBase:new Ve(0,10,0),positionRadius:.2,velocityStyle:Gf.SHAPE_TYPE.SPHERE,speedBase:20,speedSpread:5,angleBase:0,angleSpread:360,angleVelocityBase:0,angleVelocitySpread:360,accelerationBase:new Ve(0,0,0),particleTexture:(new zs).load(Df),blendStyle:2,sizeTween:new _f([0,.3,1.3],[5,20,1]),opacityTween:new _f([.2,.3,.5],[.75,1,0]),colorTween:new _f([.4,.8,1],[new Ve(.02,1,.5),new Ve(.05,1,0)]),particlesPerSecond:200,particleDeathAge:.5,emitterDeathAge:.2};return e.texture=a.particleTexture,e.TextureAnimator(void 0,4,4,16,55),a.sizeTween.values.forEach((function(e,t){a.sizeTween.values[t]=e*window.devicePixelRatio})),e.setValues(a),e._clock=new Jl,e}return A(n,[{key:"TextureAnimator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.texture,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;this.tilesHorizontal=t,this.tilesVertical=n,this.numberOfTiles=r,e.wrapS=e.wrapT=D,e.repeat.set(1/this.tilesHorizontal,1/this.tilesVertical),this.tileDisplayDuration=i,this.currentDisplayTime=0,this.currentTile=0}},{key:"update",value:function(){g(l(n.prototype),"update",this).call(this),this.updateOffset()}},{key:"updateOffset",value:function(){var e=1200*this._clock.getDelta();for(this.currentDisplayTime+=e;this.currentDisplayTime>this.tileDisplayDuration;){this.currentDisplayTime-=this.tileDisplayDuration,this.currentTile++,this.currentTile==this.numberOfTiles&&(this.currentTile=0);var t=this.currentTile%this.tilesHorizontal/this.tilesHorizontal,n=Math.floor(this.currentTile/this.tilesHorizontal)/this.tilesVertical;this.texture.offset.set(t,n)}}}]),n}(Gf),jf=function(){function e(t){var n=this;i(this,e),this.viewer=t,this.ParticleSystemManager=Cf,t.controls.addEventListener("change",(function(){n.rain&&n.rain.position.copy(n.viewer.camera.position),n.snow&&n.snow.position.copy(n.viewer.camera.position)}))}return A(e,[{key:"addRain",value:function(){this.rain||(this.rain=new Uf(Ff.RAIN),this.viewer.root.add(this.rain),this.rain.translateY(100),this.rain.position.copy(this.viewer.camera.position))}},{key:"removeRain",value:function(){this.rain&&this.viewer.root.remove(this.rain)}},{key:"addSnow",value:function(){this.snow||(this.snow=new Uf(Ff.SNOW),this.viewer.root.add(this.snow),this.snow.translateY(100),this.snow.position.copy(this.viewer.camera.position))}},{key:"removeSnow",value:function(){this.snow&&this.viewer.root.remove(this.snow)}},{key:"addFire",value:function(){var e=new Uf(Ff.CANDLE);return this.viewer.root.add(e),e}},{key:"removeFire",value:function(e){this.viewer.root.remove(e)}},{key:"addSmoke",value:function(){var e=new Uf(Ff.FLAME);return this.viewer.root.add(e),e}},{key:"removeSmoke",value:function(e){this.viewer.root.remove(e)}},{key:"addSprayWater",value:function(e,t){var n=new Uf(Ff.WATER_SPRAY);return n.rotateY(He.degToRad(t)),n.rotateZ(He.degToRad(e)),this.viewer.root.add(n),n}},{key:"removeSprayWater",value:function(e){this.viewer.root.remove(e)}},{key:"addWaterSurface",value:function(e,t){var n=new Qf(e,t);return this.viewer.add(n),n}},{key:"removeWaterSurface",value:function(e){e.mesh.material=e.mesh.material0,this.viewer.remove(e)}},{key:"addMirror",value:function(e){var t=new Hf(e);return this.viewer.add(t),t}},{key:"removeMirror",value:function(e){this.viewer.remove(e)}},{key:"addExplosion",value:function(){var e=new zf;return this.viewer.add(e),e}}]),e}(),Wf=function(){function e(t,n,r){var a=this,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;i(this,e),this.camera=new Bl(n/-2,n/2,r/2,r/-2,.1,1e3),this.camera.position.set(0,0,1),this.bottom=A;var o=(new zs).load(t,(function(){o.wrapT=o.wrapS=D,o.repeat.multiplyScalar(.994),a.planeWidth=176,a.planeHeight=60;var e=new jr(a.planeWidth,a.planeHeight);a.plane=new gr(e,new Fn({map:o,transparent:!0})),a.fitCamera(),a.camera.position.y=r/2-A-a.planeHeight/2}));et.renderer.autoClear=!1,et.addBeforeRenderTask((function(e,t,n){a.onBeforeRender(e,t,n)})),et.addAfterRenderTask((function(e,t,n){a.onAfterRender(e,t,n)}))}return A(e,[{key:"onBeforeRender",value:function(e,t,n){e===mh&&(e=e.composer.renderer),e.clear(),this.plane&&e.domElement.width/e.domElement.height!==this.camera.aspect&&this.onResize(e.domElement.width,e.domElement.height)}},{key:"onAfterRender",value:function(e,t,n){e===mh&&(e=e.composer.renderer),this.plane&&e.render(this.plane,this.camera)}},{key:"fitCamera",value:function(){var e,t=(new Wt).setFromObject(this.plane).getSize(new Ve),n=this.planeWidth/t.x,r=this.planeHeight/t.y;t.x>=t.y?(e=n)*t.y>this.planeHeight&&(e=r):(e=r)*t.x>this.planeWidth&&(e=n),this.camera.zoom=e,this.camera.updateProjectionMatrix()}},{key:"onResize",value:function(e,t){this.camera.aspect=e/t,this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix(),this.camera.position.y=t/2-this.bottom-this.planeHeight/2}}]),e}(),Xf=function(e){s(n,e);var t=f(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,n),(r=t.call(this,e,a)).operator=null,r.picker=null,r.materialEditor=null,r.transform=null,!a.isMap&&r.initialize(a),r}return A(n,[{key:"screenShot",get:function(){return Ad.screenShot.bind(this)}},{key:"encircleScreenShot",get:function(){return Ad.encircleScreenShot.bind(this)}},{key:"intersectObjects",get:function(){return this.picker.intersectObjects.bind(this.picker)}},{key:"intersectObject",get:function(){return this.picker.intersectObject.bind(this.picker)}},{key:"intersectModels",get:function(){return this.picker.intersectModels.bind(this.picker)}},{key:"screenToVector",get:function(){return this.picker.screenToVector.bind(this.picker)}},{key:"vectorToScreen",get:function(){return this.picker.vectorToScreen.bind(this.picker)}},{key:"enableOutline",get:function(){return mh.enableOutline},set:function(e){mh.enableOutline=e}},{key:"outline",get:function(){return mh.outline}},{key:"enableUnrealBloom",get:function(){return mh.enableUnrealBloom},set:function(e){mh.enableUnrealBloom=e}},{key:"unrealBloom",get:function(){return mh.unrealBloom}},{key:"enableDof",get:function(){return mh.enableDof},set:function(e){mh.enableDof=e}},{key:"dof",get:function(){return mh.dof}},{key:"mapLoader",get:function(){return rd}},{key:"enableTransform",set:function(e){e?(!this.transform&&(this.transform=new kp(this)),this.transform.enabled=!0,this.transform.setMode(Gp.TRANSLATE)):(this.transform.enabled=!1,this.transform.setTarget(null))}},{key:"initialize",value:function(e){g(l(n.prototype),"initialize",this).call(this,e),this.picker=new Gd,this.operator=new pp(this),this.effectManager=new jf(this),this.materialEditor=new gp(this),this.largeSceneLoader=new Op(this),this.hotSpotManager=new Yp(this)}},{key:"addWatermark",value:function(e){new Wf(e,this.containerRect.width,this.containerRect.height)}},{key:"dispose",value:function(){this.enableOutline=!1,this.enableDof=!1,this.enableUnrealBloom=!1,g(l(n.prototype),"dispose",this).call(this)}}]),n}(hp),Yf=function(e){s(n,e);var t=f(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).target=r||e.modelGroup,a.viewer=e,a._enabled=!1,a._clipPlane=new sn(new Ve(-1,0,0),0),a.Empty=Object.freeze([]),a.viewer.renderer.localClippingEnabled=!0,a.clipPlanes=[a._clipPlane],a._controls=new Ut,a.viewer.add(a._controls),a.target.getWorldPosition(a._controls.position),a._init(),et.render(),a}return A(n,[{key:"_init",value:function(){var e=this;this.target.traverse((function(t){t.isMesh&&(Array.isArray(t.material)?t.material:[t.material]).forEach((function(t){t.clippingPlanes=e.Empty,t.clipIntersection=!0}))}));var t=.5*Math.PI,n=(new Wt).setFromObject(this.target).getSize(new Ve),r=Math.max(n.x,n.y,n.z),i=new gr(new jr(r,r),new Fn({color:16777215,side:2,opacity:.3,transparent:!0}));this.helper=i,this.helper.renderOrder=11e3,i.rotation.y=t,i.visible=!1,this._controls.add(i);var a=new Hp(this.viewer.camera,this.viewer.domElement,!0);this.control=a,a.attach(i),a.visible=!1,this.viewer.add(a),a.addEventListener("dragging-changed",(function(t){e.viewer.controls.enabled=!t.value})),a.addEventListener("objectChange",(function(n){var r=n.target.axis;if(r){var a=i.getWorldPosition(new Ve),A="X"===e._axis?a.x:"Y"===e._axis?a.y:a.z;if(r!==e._axis)switch(e._axis=r,i.rotation.set(0,0,0),r){case"X":e._clipPlane.normal=new Ve(-1,0,0),i.position.set(A,0,0),i.rotation.y=t;break;case"Y":e._clipPlane.normal=new Ve(0,-1,0),i.position.set(0,A,0),i.rotation.x=t;break;case"Z":e._clipPlane.normal=new Ve(0,0,-1),i.position.set(0,0,A)}switch(r){case"X":case"Y":case"Z":e._clipPlane.constant=A}}}))}},{key:"enabled",get:function(){return this._enabled},set:function(e){var t=this;this.helper.position.set(0,0,0),this.target.getWorldPosition(this._controls.position),this._enabled=e,this.control.visible=e,this.helper.visible=e,this.target.traverse((function(n){n.isMesh&&(Array.isArray(n.material)?n.material:[n.material]).forEach((function(n){n.clippingPlanes=e?t.clipPlanes:t.Empty}))})),et.render()}}]),n}(De),Kf=function(){function e(){i(this,e)}return A(e,null,[{key:"createLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=new br;return e.forEach((function(e){n.vertices.push((new Ve).copy(e))})),new UA(n,new MA({color:t}))}},{key:"createSprite",value:function(e,t){var n=new lA(new Za({map:(new zs).load(e,(function(e){et.render()}))}));return n.scale.set(t,t,t),n}},{key:"createPointLight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new wl(e,t,n);return r}},{key:"createSpotLight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=new vl(e,t,n,r);return i}},{key:"createBoundingBox",value:function(e,t){return new wu(e,t)}},{key:"createFontMesh",value:function(e,t,n){(n=n||{}).font=e;var r=new ko(t,n);return r.computeBoundingBox(),new gr(r,new Ru([new cs({color:n.color,shading:1}),new cs({color:n.color,shading:2})]))}},{key:"createLightHelper",value:function(e){var t;return e.isDirectionalLight?t=new pu(e,1):e.isSpotLight?t=new jc(e):e.isPointLight&&(t=new Jc(e)),t}},{key:"createPlane",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ffffff",r=new jr(e,t),i=new gr(r,new Fn({color:n}));return i.rotation.x=-Math.PI/2,i}}]),e}();return e.ACESFilmicToneMapping=5,e.AMRTBasicMaterial=gs,e.AddEquation=M,e.AddOperation=2,e.AdditiveBlending=2,e.AlphaFormat=1021,e.AlwaysDepth=1,e.AlwaysStencilFunc=519,e.AmbientLight=Cl,e.AmbientLightProbe=Xl,e.Anchor=Vp,e.AnimationClip=Us,e.AnimationLoader=_s,e.AnimationMixer=Mc,e.AnimationObjectGroup=bc,e.AnimationUtils=vs,e.ArcCurve=Xs,e.ArrayCamera=Ha,e.ArrowHelper=Eu,e.Audio=rc,e.AudioAnalyser=lc,e.AudioContext=Gl,e.AudioListener=nc,e.AudioLoader=Vl,e.AxesHelper=Iu,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Iu(e)},e.BackSide=1,e.BasicDepthPacking=3200,e.BasicShadowMap=0,e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new ks(e)},e.Bone=vA,e.BooleanKeyframeTrack=Cs,e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new wu(e,t)},e.Box2=Pc,e.Box3=Wt,e.Box3Helper=Bu,e.BoxBufferGeometry=Mr,e.BoxGeometry=Cr,e.BoxHelper=wu,e.BufferAttribute=Un,e.BufferGeometry=Jn,e.BufferGeometryLoader=Fl,e.ByteType=1010,e.Cache=Qs,e.Camera=Fr,e.CameraHelper=mu,e.CameraViewMode=jd,e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},e.CanvasTexture=zA,e.CatmullRomCurve3=$s,e.CineonToneMapping=4,e.CircleBufferGeometry=is,e.CircleGeometry=rs,e.ClampToEdgeWrapping=Q,e.Clipping=Yf,e.Clock=Jl,e.ClosedSplineCurve3=Pu,e.Color=bn,e.ColorKeyframeTrack=Ms,e.CompressedTexture=VA,e.CompressedTextureLoader=Ns,e.ConeBufferGeometry=ns,e.ConeGeometry=ts,e.CubeCamera=Rr,e.CubeGeometry=Cr,e.CubeReflectionMapping=F,e.CubeRefractionMapping=U,e.CubeTexture=ri,e.CubeTextureLoader=Vs,e.CubeUVReflectionMapping=R,e.CubeUVRefractionMapping=P,e.CubicBezierCurve=rl,e.CubicBezierCurve3=il,e.CubicInterpolant=ws,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.CullFaceNone=0,e.Curve=js,e.CurvePath=ul,e.CustomBlending=5,e.CylinderBufferGeometry=es,e.CylinderGeometry=$o,e.Cylindrical=Lc,e.DataTexture=Dr,e.DataTexture2DArray=ii,e.DataTexture3D=ai,e.DataTextureLoader=ks,e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=Ps,e.DepthFormat=$,e.DepthStencilFormat=ee,e.DepthTexture=jA,e.DirectionalLight=bl,e.DirectionalLightHelper=pu,e.DirectionalLightShadow=xl,e.DiscreteInterpolant=xs,e.DodecahedronBufferGeometry=io,e.DodecahedronGeometry=ro,e.DoubleSide=2,e.DstAlphaFactor=206,e.DstColorFactor=208,e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Un(e,t).setDynamic(!0)},e.DynamicCopyUsage=35050,e.DynamicDrawUsage=Le,e.DynamicReadUsage=35049,e.EdgesGeometry=qo,e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new PA(new qo(e.geometry),new MA({color:void 0!==t?t:16777215}))},e.EllipseCurve=Ws,e.EntityFactory=Kf,e.EqualDepth=4,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=303,e.EquirectangularRefractionMapping=L,e.Euler=gt,e.Event=Ye,e.EventDispatcher=De,e.ExtrudeBufferGeometry=Ho,e.ExtrudeBufferGeometry2=Nu,e.ExtrudeGeometry=Oo,e.ExtrudeGeometry2=_u,e.Face3=In,e.Face4=function(e,t,n,r,i,a,A){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new In(e,t,n,i,a,A)},e.FaceColors=1,e.FaceNormalsHelper=cu,e.FileLoader=Hs,e.FlatShading=1,e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new _n(e,t)},e.Float32BufferAttribute=_n,e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Nn(e,t)},e.Float64BufferAttribute=Nn,e.FloatType=X,e.Fog=Xa,e.FogExp2=Wa,e.Font=_l,e.FontLoader=kl,e.FrontFaceDirectionCCW=1,e.FrontFaceDirectionCW=0,e.FrontSide=0,e.Frustum=Hr,e.GammaEncoding=Ce,e.Geometry=br,e.GeometryUtils=Ou,e.GreaterDepth=6,e.GreaterEqualDepth=5,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=iu,e.Group=Oa,e.HalfFloatType=Y,e.HemisphereLight=fl,e.HemisphereLightHelper=nu,e.HemisphereLightProbe=Wl,e.IcosahedronBufferGeometry=no,e.IcosahedronGeometry=to,e.ImageBitmapLoader=Ol,e.ImageLoader=Gs,e.ImageUtils=Xe,e.ImmediateRenderObject=Hc,e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=Sl,e.InstancedBufferGeometry=Tl,e.InstancedInterleavedBuffer=Ic,e.InstancedMesh=CA,e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Dn(e,t)},e.Int16BufferAttribute=Dn,e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new On(e,t)},e.Int32BufferAttribute=On,e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ln(e,t)},e.Int8BufferAttribute=Ln,e.IntType=1013,e.InterleavedBuffer=Ya,e.InterleavedBufferAttribute=Ka,e.Interpolant=ys,e.InterpolateDiscrete=ge,e.InterpolateLinear=me,e.InterpolateSmooth=ve,e.InvertStencilOp=5386,e.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},e.KeepStencilOp=Fe,e.KeyframeTrack=bs,e.LOD=dA,e.LargeSceneLoader=Op,e.LatheBufferGeometry=Yo,e.LatheGeometry=Xo,e.Layers=mt,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},e.LessDepth=2,e.LessEqualDepth=3,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=pl,e.LightProbe=jl,e.LightProbeHelper=ru,e.LightShadow=gl,e.Line=UA,e.Line3=Oc,e.LineBasicMaterial=MA,e.LineCurve=al,e.LineCurve3=Al,e.LineDashedMaterial=fs,e.LineLoop=DA,e.LinePieces=1,e.LineSegments=PA,e.LineStrip=0,e.LinearEncoding=xe,e.LinearFilter=k,e.LinearInterpolant=Bs,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=V,e.LinearMipmapNearestFilter=G,e.LinearToneMapping=1,e.Loader=Ds,e.LoaderUtils=Il,e.LoadingManager=Rs,e.LogLuvEncoding=3003,e.LoopOnce=pe,e.LoopPingPong=2202,e.LoopRepeat=fe,e.LuminanceAlphaFormat=1025,e.LuminanceFormat=1024,e.MOUSE=C,e.Material=Sn,e.MaterialLoader=El,e.Math=He,e.MathUtils=Lu,e.Matrix3=We,e.Matrix4=dt,e.MaxEquation=104,e.Mesh=gr,e.MeshBasicMaterial=Fn,e.MeshDepthMaterial=Sa,e.MeshDistanceMaterial=Fa,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MeshLambertMaterial=ds,e.MeshMatcapMaterial=ps,e.MeshNormalMaterial=hs,e.MeshPhongMaterial=cs,e.MeshPhysicalMaterial=ls,e.MeshStandardMaterial=ss,e.MeshToonMaterial=us,e.MinEquation=103,e.MirroredRepeatWrapping=O,e.MixOperation=1,e.MultiMaterial=Ru,e.MultiplyBlending=4,e.MultiplyOperation=0,e.NearestFilter=H,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=N,e.NearestMipmapNearestFilter=_,e.NeverDepth=0,e.NeverStencilFunc=512,e.NoBlending=0,e.NoColors=0,e.NoToneMapping=0,e.NormalBlending=1,e.NotEqualDepth=7,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=Es,e.Object3D=Ut,e.ObjectLoader=Ll,e.ObjectSpaceNormalMap=1,e.OctahedronBufferGeometry=eo,e.OctahedronGeometry=$A,e.OneFactor=E,e.OneMinusDstAlphaFactor=207,e.OneMinusDstColorFactor=209,e.OneMinusSrcAlphaFactor=T,e.OneMinusSrcColorFactor=203,e.OrthographicCamera=Bl,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.ParametricBufferGeometry=YA,e.ParametricGeometry=XA,e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new lA(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new QA(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new kA(e,t)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new QA(e)},e.Path=hl,e.PerspectiveCamera=Ur,e.Plane=sn,e.PlaneBufferGeometry=jr,e.PlaneGeometry=zr,e.PlaneHelper=xu,e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new kA(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new QA(e)},e.PointLight=wl,e.PointLightHelper=Jc,e.Points=kA,e.PointsMaterial=QA,e.PolarGridHelper=au,e.PolyhedronBufferGeometry=ZA,e.PolyhedronGeometry=KA,e.PositionalAudio=sc,e.PositionalAudioHelper=Au,e.PropertyBinding=xc,e.PropertyMixer=cc,e.QuadraticBezierCurve=ol,e.QuadraticBezierCurve3=sl,e.Quaternion=Ne,e.QuaternionKeyframeTrack=Ts,e.QuaternionLinearInterpolant=Is,e.REVISION="111",e.RGBADepthPacking=Se,e.RGBAFormat=J,e.RGBA_ASTC_10x10_Format=37819,e.RGBA_ASTC_10x5_Format=37816,e.RGBA_ASTC_10x6_Format=37817,e.RGBA_ASTC_10x8_Format=37818,e.RGBA_ASTC_12x10_Format=37820,e.RGBA_ASTC_12x12_Format=37821,e.RGBA_ASTC_4x4_Format=ce,e.RGBA_ASTC_5x4_Format=37809,e.RGBA_ASTC_5x5_Format=37810,e.RGBA_ASTC_6x5_Format=37811,e.RGBA_ASTC_6x6_Format=37812,e.RGBA_ASTC_8x5_Format=37813,e.RGBA_ASTC_8x6_Format=37814,e.RGBA_ASTC_8x8_Format=37815,e.RGBA_BPTC_Format=ue,e.RGBA_ETC2_EAC_Format=de,e.RGBA_PVRTC_2BPPV1_Format=se,e.RGBA_PVRTC_4BPPV1_Format=oe,e.RGBA_S3TC_DXT1_Format=ne,e.RGBA_S3TC_DXT3_Format=re,e.RGBA_S3TC_DXT5_Format=ie,e.RGBDEncoding=Te,e.RGBEEncoding=Me,e.RGBEFormat=q,e.RGBELoader=Tu,e.RGBFormat=Z,e.RGBM16Encoding=Ie,e.RGBM7Encoding=Ee,e.RGB_ETC1_Format=le,e.RGB_ETC2_Format=he,e.RGB_PVRTC_2BPPV1_Format=Ae,e.RGB_PVRTC_4BPPV1_Format=ae,e.RGB_S3TC_DXT1_Format=te,e.RawShaderMaterial=os,e.Ray=rn,e.Raycaster=Tc,e.RectAreaLight=Ml,e.RectAreaLightHelper=qc,e.RedFormat=1028,e.ReinhardToneMapping=2,e.RenderOrder2=Pe,e.RenderOrder3=3e3,e.RenderOrder5=Re,e.RepeatWrapping=D,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=102,e.RingBufferGeometry=Wo,e.RingGeometry=jo,e.Scene=Lt,e.SceneUtils=Hu,e.ShaderChunk=_r,e.ShaderLib=kr,e.ShaderMaterial=Sr,e.ShadowMaterial=As,e.Shape=dl,e.ShapeBufferGeometry=Zo,e.ShapeGeometry=Ko,e.ShapePath=Hl,e.ShapeUtils=Po,e.ShortType=1011,e.Skeleton=mA,e.SkeletonHelper=Zc,e.SkinnedMesh=pA,e.SmoothShading=2,e.Sphere=Kt,e.SphereBufferGeometry=zo,e.SphereGeometry=Vo,e.Spherical=Uc,e.SphericalHarmonics3=zl,e.SphericalReflectionMapping=305,e.Spline=Qu,e.SplineCurve=ll,e.SplineCurve3=Du,e.SpotLight=vl,e.SpotLightHelper=jc,e.SpotLightShadow=ml,e.Sprite=lA,e.SpriteMaterial=Za,e.SrcAlphaFactor=I,e.SrcAlphaSaturateFactor=210,e.SrcColorFactor=202,e.StaticCopyUsage=35046,e.StaticDrawUsage=Ue,e.StaticReadUsage=35045,e.StereoCamera=Zl,e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=Ss,e.SubtractEquation=101,e.SubtractiveBlending=3,e.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e.TWEEN=Je,e.TangentSpaceNormalMap=0,e.TetrahedronBufferGeometry=qA,e.TetrahedronGeometry=JA,e.TextBufferGeometry=Go,e.TextGeometry=ko,e.Texture=nt,e.TextureLoader=zs,e.TorusBufferGeometry=co,e.TorusGeometry=lo,e.TorusKnotBufferGeometry=so,e.TorusKnotGeometry=oo,e.TransFormMode=Gp,e.TransformControls=kp,e.Triangle=yn,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=Ao,e.TubeGeometry=ao,e.UVMapping=S,e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Qn(e,t)},e.Uint16BufferAttribute=Qn,e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Hn(e,t)},e.Uint32BufferAttribute=Hn,e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Rn(e,t)},e.Uint8BufferAttribute=Rn,e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Pn(e,t)},e.Uint8ClampedBufferAttribute=Pn,e.Uncharted2ToneMapping=3,e.Uniform=Ec,e.UniformsLib=Nr,e.UniformsUtils=Tr,e.UnsignedByteType=z,e.UnsignedInt248Type=K,e.UnsignedIntType=W,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedShortType=j,e.VSMShadowMap=3,e.Vector2=_e,e.Vector3=Ve,e.Vector4=rt,e.VectorKeyframeTrack=Fs,e.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ve(e,t,n)},e.VertexColors=2,e.VertexNormalsHelper=Vc,e.VideoTexture=qn,e.Viewer=Xf,e.WebGLMultisampleRenderTarget=at,e.WebGLRenderTarget=it,e.WebGLRenderTargetCube=Pr,e.WebGLRenderer=ja,e.WebGLUtils=Pa,e.WireframeGeometry=WA,e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new PA(new WA(e.geometry),new MA({color:void 0!==t?t:16777215}))},e.WorkerBufferAttribute=kn,e.WrapAroundEnding=Be,e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Hs(e)},e.ZeroCurvatureEnding=ye,e.ZeroFactor=200,e.ZeroSlopeEnding=we,e.ZeroStencilOp=0,e.sRGBEncoding=be,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
